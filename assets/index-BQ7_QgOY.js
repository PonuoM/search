import{gapi as hn}from"gapi-script";import*as kc from"xlsx";import wy from"jspdf";import ky from"html2canvas";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Om(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fm={exports:{}},Wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=Symbol.for("react.transitional.element"),Iy=Symbol.for("react.fragment");function Ym(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var l in e)l!=="key"&&(n[l]=e[l])}else n=e;return e=n.ref,{$$typeof:Uy,type:t,key:i,ref:e!==void 0?e:null,props:n}}Wa.Fragment=Iy;Wa.jsx=Ym;Wa.jsxs=Ym;Fm.exports=Wa;var p=Fm.exports,Jm={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=Symbol.for("react.transitional.element"),Ly=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),Py=Symbol.for("react.strict_mode"),qy=Symbol.for("react.profiler"),By=Symbol.for("react.consumer"),Gy=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Oy=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),Uc=Symbol.iterator;function Fy(t){return t===null||typeof t!="object"?null:(t=Uc&&t[Uc]||t["@@iterator"],typeof t=="function"?t:null)}var $m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xm=Object.assign,Km={};function sl(t,e,n){this.props=t,this.context=e,this.refs=Km,this.updater=n||$m}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qm(){}Qm.prototype=sl.prototype;function Au(t,e,n){this.props=t,this.context=e,this.refs=Km,this.updater=n||$m}var Mu=Au.prototype=new Qm;Mu.constructor=Au;Xm(Mu,sl.prototype);Mu.isPureReactComponent=!0;var Ic=Array.isArray,ve={H:null,A:null,T:null,S:null,V:null},Wm=Object.prototype.hasOwnProperty;function Nu(t,e,n,i,l,o){return n=o.ref,{$$typeof:Eu,type:t,key:e,ref:n!==void 0?n:null,props:o}}function Yy(t,e){return Nu(t.type,e,void 0,void 0,void 0,t.props)}function Ru(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eu}function Jy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lc=/\/+/g;function _s(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jy(""+t.key):e.toString(36)}function Vc(){}function Zy(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Vc,Vc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function yi(t,e,n,i,l){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(o){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Eu:case Ly:r=!0;break;case Zm:return r=t._init,yi(r(t._payload),e,n,i,l)}}if(r)return l=l(t),r=i===""?"."+_s(t,0):i,Ic(l)?(n="",r!=null&&(n=r.replace(Lc,"$&/")+"/"),yi(l,e,n,"",function(f){return f})):l!=null&&(Ru(l)&&(l=Yy(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(Lc,"$&/")+"/")+r)),e.push(l)),1;r=0;var u=i===""?".":i+":";if(Ic(t))for(var c=0;c<t.length;c++)i=t[c],o=u+_s(i,c),r+=yi(i,e,n,o,l);else if(c=Fy(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,o=u+_s(i,c++),r+=yi(i,e,n,o,l);else if(o==="object"){if(typeof t.then=="function")return yi(Zy(t),e,n,i,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Do(t,e,n){if(t==null)return t;var i=[],l=0;return yi(t,i,"","",function(o){return e.call(n,o,l++)}),i}function $y(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Xy(){}J.Children={map:Do,forEach:function(t,e,n){Do(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Do(t,function(){e++}),e},toArray:function(t){return Do(t,function(e){return e})||[]},only:function(t){if(!Ru(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=sl;J.Fragment=Vy;J.Profiler=qy;J.PureComponent=Au;J.StrictMode=Py;J.Suspense=Hy;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve;J.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ve.H.useMemoCache(t)}};J.cache=function(t){return function(){return t.apply(null,arguments)}};J.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Xm({},t.props),l=t.key,o=void 0;if(e!=null)for(r in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!Wm.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}return Nu(t.type,l,void 0,void 0,o,i)};J.createContext=function(t){return t={$$typeof:Gy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:By,_context:t},t};J.createElement=function(t,e,n){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)Wm.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var r=arguments.length-2;if(r===1)l.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];l.children=u}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)l[i]===void 0&&(l[i]=r[i]);return Nu(t,o,void 0,void 0,null,l)};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:zy,render:t}};J.isValidElement=Ru;J.lazy=function(t){return{$$typeof:Zm,_payload:{_status:-1,_result:t},_init:$y}};J.memo=function(t,e){return{$$typeof:Oy,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=ve.T,n={};ve.T=n;try{var i=t(),l=ve.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Xy,Pc)}catch(o){Pc(o)}finally{ve.T=e}};J.unstable_useCacheRefresh=function(){return ve.H.useCacheRefresh()};J.use=function(t){return ve.H.use(t)};J.useActionState=function(t,e,n){return ve.H.useActionState(t,e,n)};J.useCallback=function(t,e){return ve.H.useCallback(t,e)};J.useContext=function(t){return ve.H.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t,e){return ve.H.useDeferredValue(t,e)};J.useEffect=function(t,e,n){var i=ve.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};J.useId=function(){return ve.H.useId()};J.useImperativeHandle=function(t,e,n){return ve.H.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ve.H.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ve.H.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ve.H.useMemo(t,e)};J.useOptimistic=function(t,e){return ve.H.useOptimistic(t,e)};J.useReducer=function(t,e,n){return ve.H.useReducer(t,e,n)};J.useRef=function(t){return ve.H.useRef(t)};J.useState=function(t){return ve.H.useState(t)};J.useSyncExternalStore=function(t,e,n){return ve.H.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ve.H.useTransition()};J.version="19.1.0";Jm.exports=J;var G=Jm.exports;const Ky=Om(G);var jm={exports:{}},ja={},eh={exports:{}},th={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,O){var B=k.length;k.push(O);e:for(;0<B;){var oe=B-1>>>1,me=k[oe];if(0<l(me,O))k[oe]=O,k[B]=me,B=oe;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var O=k[0],B=k.pop();if(B!==O){k[0]=B;e:for(var oe=0,me=k.length,Bt=me>>>1;oe<Bt;){var At=2*(oe+1)-1,Gt=k[At],Mt=At+1,qn=k[Mt];if(0>l(Gt,B))Mt<me&&0>l(qn,Gt)?(k[oe]=qn,k[Mt]=B,oe=Mt):(k[oe]=Gt,k[At]=B,oe=At);else if(Mt<me&&0>l(qn,B))k[oe]=qn,k[Mt]=B,oe=Mt;else break e}}return O}function l(k,O){var B=k.sortIndex-O.sortIndex;return B!==0?B:k.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var r=Date,u=r.now();t.unstable_now=function(){return r.now()-u}}var c=[],f=[],d=1,m=null,h=3,g=!1,S=!1,C=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function x(k){for(var O=n(f);O!==null;){if(O.callback===null)i(f);else if(O.startTime<=k)i(f),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(f)}}function _(k){if(C=!1,x(k),!S)if(n(c)!==null)S=!0,b||(b=!0,fe());else{var O=n(f);O!==null&&re(_,O.startTime-k)}}var b=!1,N=-1,M=5,D=-1;function w(){return E?!0:!(t.unstable_now()-D<M)}function P(){if(E=!1,b){var k=t.unstable_now();D=k;var O=!0;try{e:{S=!1,C&&(C=!1,y(N),N=-1),g=!0;var B=h;try{t:{for(x(k),m=n(c);m!==null&&!(m.expirationTime>k&&w());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,h=m.priorityLevel;var me=oe(m.expirationTime<=k);if(k=t.unstable_now(),typeof me=="function"){m.callback=me,x(k),O=!0;break t}m===n(c)&&i(c),x(k)}else i(c);m=n(c)}if(m!==null)O=!0;else{var Bt=n(f);Bt!==null&&re(_,Bt.startTime-k),O=!1}}break e}finally{m=null,h=B,g=!1}O=void 0}}finally{O?fe():b=!1}}}var fe;if(typeof T=="function")fe=function(){T(P)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ge=Ge.port2;Ge.port1.onmessage=P,fe=function(){ge.postMessage(null)}}else fe=function(){v(P,0)};function re(k,O){N=v(function(){k(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var B=h;h=O;try{return k()}finally{h=B}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var B=h;h=k;try{return O()}finally{h=B}},t.unstable_scheduleCallback=function(k,O,B){var oe=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?oe+B:oe):B=oe,k){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=B+me,k={id:d++,callback:O,priorityLevel:k,startTime:B,expirationTime:me,sortIndex:-1},B>oe?(k.sortIndex=B,e(f,k),n(c)===null&&k===n(f)&&(C?(y(N),N=-1):C=!0,re(_,B-oe))):(k.sortIndex=me,e(c,k),S||g||(S=!0,b||(b=!0,fe()))),k},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(k){var O=h;return function(){var B=h;h=O;try{return k.apply(this,arguments)}finally{h=B}}}})(th);eh.exports=th;var Qy=eh.exports,nh={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=G;function ih(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rn(){}var Je={d:{f:rn,r:function(){throw Error(ih(522))},D:rn,C:rn,L:rn,m:rn,X:rn,S:rn,M:rn},p:0,findDOMNode:null},jy=Symbol.for("react.portal");function e0(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jy,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ul=Wy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function es(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}$e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Je;$e.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ih(299));return e0(t,e,null,n)};$e.flushSync=function(t){var e=Ul.T,n=Je.p;try{if(Ul.T=null,Je.p=2,t)return t()}finally{Ul.T=e,Je.p=n,Je.d.f()}};$e.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Je.d.C(t,e))};$e.prefetchDNS=function(t){typeof t=="string"&&Je.d.D(t)};$e.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=es(n,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Je.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):n==="script"&&Je.d.X(t,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};$e.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=es(e.as,e.crossOrigin);Je.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Je.d.M(t)};$e.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=es(n,e.crossOrigin);Je.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};$e.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=es(e.as,e.crossOrigin);Je.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Je.d.m(t)};$e.requestFormReset=function(t){Je.d.r(t)};$e.unstable_batchedUpdates=function(t,e){return t(e)};$e.useFormState=function(t,e,n){return Ul.H.useFormState(t,e,n)};$e.useFormStatus=function(){return Ul.H.useHostTransitionStatus()};$e.version="19.1.0";function lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lh)}catch(t){console.error(t)}}lh(),nh.exports=$e;var t0=nh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=Qy,oh=G,n0=t0;function A(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qc(t){if(mo(t)!==t)throw Error(A(188))}function i0(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,i=e;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return qc(l),t;if(o===i)return qc(l),e;o=o.sibling}throw Error(A(188))}if(n.return!==i.return)n=l,i=o;else{for(var r=!1,u=l.child;u;){if(u===n){r=!0,n=l,i=o;break}if(u===i){r=!0,i=l,n=o;break}u=u.sibling}if(!r){for(u=o.child;u;){if(u===n){r=!0,n=o,i=l;break}if(u===i){r=!0,i=o,n=l;break}u=u.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function rh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=rh(t),e!==null)return e;t=t.sibling}return null}var pe=Object.assign,l0=Symbol.for("react.element"),wo=Symbol.for("react.transitional.element"),Nl=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),uh=Symbol.for("react.strict_mode"),ur=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),ch=Symbol.for("react.consumer"),Yt=Symbol.for("react.context"),bu=Symbol.for("react.forward_ref"),cr=Symbol.for("react.suspense"),fr=Symbol.for("react.suspense_list"),Du=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),dr=Symbol.for("react.activity"),a0=Symbol.for("react.memo_cache_sentinel"),Bc=Symbol.iterator;function vl(t){return t===null||typeof t!="object"?null:(t=Bc&&t[Bc]||t["@@iterator"],typeof t=="function"?t:null)}var s0=Symbol.for("react.client.reference");function mr(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===s0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xi:return"Fragment";case ur:return"Profiler";case uh:return"StrictMode";case cr:return"Suspense";case fr:return"SuspenseList";case dr:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Nl:return"Portal";case Yt:return(t.displayName||"Context")+".Provider";case ch:return(t._context.displayName||"Context")+".Consumer";case bu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Du:return e=t.displayName||null,e!==null?e:mr(t.type)||"Memo";case fn:e=t._payload,t=t._init;try{return mr(t(e))}catch{}}return null}var Rl=Array.isArray,q=oh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yn={pending:!1,data:null,method:null,action:null},hr=[],_i=-1;function Pt(t){return{current:t}}function Ve(t){0>_i||(t.current=hr[_i],hr[_i]=null,_i--)}function Te(t,e){_i++,hr[_i]=t.current,t.current=e}var kt=Pt(null),Kl=Pt(null),_n=Pt(null),ha=Pt(null);function pa(t,e){switch(Te(_n,e),Te(Kl,t),Te(kt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Yf(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Yf(e),t=Ng(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ve(kt),Te(kt,t)}function Yi(){Ve(kt),Ve(Kl),Ve(_n)}function pr(t){t.memoizedState!==null&&Te(ha,t);var e=kt.current,n=Ng(e,t.type);e!==n&&(Te(Kl,t),Te(kt,n))}function ga(t){Kl.current===t&&(Ve(kt),Ve(Kl)),ha.current===t&&(Ve(ha),ao._currentValue=Yn)}var gr=Object.prototype.hasOwnProperty,wu=we.unstable_scheduleCallback,Es=we.unstable_cancelCallback,r0=we.unstable_shouldYield,u0=we.unstable_requestPaint,Ut=we.unstable_now,c0=we.unstable_getCurrentPriorityLevel,fh=we.unstable_ImmediatePriority,dh=we.unstable_UserBlockingPriority,ya=we.unstable_NormalPriority,f0=we.unstable_LowPriority,mh=we.unstable_IdlePriority,d0=we.log,m0=we.unstable_setDisableYieldValue,ho=null,at=null;function Tn(t){if(typeof d0=="function"&&m0(t),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(ho,t)}catch{}}var st=Math.clz32?Math.clz32:g0,h0=Math.log,p0=Math.LN2;function g0(t){return t>>>=0,t===0?32:31-(h0(t)/p0|0)|0}var ko=256,Uo=4194304;function Hn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ts(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var l=0,o=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=Hn(i):(r&=u,r!==0?l=Hn(r):n||(n=u&~t,n!==0&&(l=Hn(n))))):(u=i&~o,u!==0?l=Hn(u):r!==0?l=Hn(r):n||(n=i&~t,n!==0&&(l=Hn(n)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:l}function po(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function y0(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hh(){var t=ko;return ko<<=1,!(ko&4194048)&&(ko=256),t}function ph(){var t=Uo;return Uo<<=1,!(Uo&62914560)&&(Uo=4194304),t}function As(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function go(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function v0(t,e,n,i,l,o){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-st(n),m=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var g=h[d];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&gh(t,i,0),o!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=o&~(r&~e))}function gh(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-st(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function yh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-st(n),l=1<<i;l&e|t[i]&e&&(t[i]|=e),n&=~l}}function ku(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Uu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function vh(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Pg(t.type))}function T0(t,e){var n=te.p;try{return te.p=t,e()}finally{te.p=n}}var Vn=Math.random().toString(36).slice(2),ze="__reactFiber$"+Vn,et="__reactProps$"+Vn,rl="__reactContainer$"+Vn,yr="__reactEvents$"+Vn,S0="__reactListeners$"+Vn,C0="__reactHandles$"+Vn,Gc="__reactResources$"+Vn,yo="__reactMarker$"+Vn;function Iu(t){delete t[ze],delete t[et],delete t[yr],delete t[S0],delete t[C0]}function Ei(t){var e=t[ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rl]||n[ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$f(t);t!==null;){if(n=t[ze])return n;t=$f(t)}return e}t=n,n=t.parentNode}return null}function ul(t){if(t=t[ze]||t[rl]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function bl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(A(33))}function Li(t){var e=t[Gc];return e||(e=t[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ie(t){t[yo]=!0}var Th=new Set,Sh={};function ai(t,e){Ji(t,e),Ji(t+"Capture",e)}function Ji(t,e){for(Sh[t]=e,t=0;t<e.length;t++)Th.add(e[t])}var x0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Hc={};function _0(t){return gr.call(Hc,t)?!0:gr.call(zc,t)?!1:x0.test(t)?Hc[t]=!0:(zc[t]=!0,!1)}function Qo(t,e,n){if(_0(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Io(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function zt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Ms,Oc;function vi(t){if(Ms===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ms=e&&e[1]||"",Oc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ms+t+Oc}var Ns=!1;function Rs(t,e){if(!t||Ns)return"";Ns=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var h=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){h=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){h=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),r=o[0],u=o[1];if(r&&u){var c=r.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=l);break}}}finally{Ns=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?vi(n):""}function E0(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return vi("Activity");default:return""}}function Fc(t){try{var e="";do e+=E0(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ch(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A0(t){var e=Ch(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(r){i=""+r,o.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function va(t){t._valueTracker||(t._valueTracker=A0(t))}function xh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Ch(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var M0=/[\n"\\]/g;function pt(t){return t.replace(M0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vr(t,e,n,i,l,o,r,u){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+dt(e)):t.value!==""+dt(e)&&(t.value=""+dt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?Tr(t,r,dt(e)):n!=null?Tr(t,r,dt(n)):i!=null&&t.removeAttribute("value"),l==null&&o!=null&&(t.defaultChecked=!!o),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+dt(u):t.removeAttribute("name")}function _h(t,e,n,i,l,o,r,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+dt(n):"",e=e!=null?""+dt(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=u?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function Tr(t,e,n){e==="number"&&Ta(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Vi(t,e,n,i){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&i&&(t[n].defaultSelected=!0)}else{for(n=""+dt(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,i&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Eh(t,e,n){if(e!=null&&(e=""+dt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+dt(n):""}function Ah(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(A(92));if(Rl(i)){if(1<i.length)throw Error(A(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=dt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Zi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var N0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yc(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||N0.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Mh(t,e,n){if(e!=null&&typeof e!="object")throw Error(A(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&n[l]!==i&&Yc(t,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Yc(t,o,e[o])}function Lu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wo(t){return b0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Sr=null;function Vu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Pi=null;function Jc(t){var e=ul(t);if(e&&(t=e.stateNode)){var n=t[et]||null;e:switch(t=e.stateNode,e.type){case"input":if(vr(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var l=i[et]||null;if(!l)throw Error(A(90));vr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&xh(i)}break e;case"textarea":Eh(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Vi(t,!!n.multiple,e,!1)}}}var bs=!1;function Nh(t,e,n){if(bs)return t(e,n);bs=!0;try{var i=t(e);return i}finally{if(bs=!1,(Ai!==null||Pi!==null)&&(fs(),Ai&&(e=Ai,t=Pi,Pi=Ai=null,Jc(e),t)))for(e=0;e<t.length;e++)Jc(t[e])}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var i=n[et]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Wt)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Cr=!1}var Sn=null,Pu=null,jo=null;function Rh(){if(jo)return jo;var t,e=Pu,n=e.length,i,l="value"in Sn?Sn.value:Sn.textContent,o=l.length;for(t=0;t<n&&e[t]===l[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===l[o-i];i++);return jo=l.slice(t,1<i?1-i:void 0)}function ea(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lo(){return!0}function Zc(){return!1}function tt(t){function e(n,i,l,o,r){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Lo:Zc,this.isPropagationStopped=Zc,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),e}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=tt(si),vo=pe({},si,{view:0,detail:0}),D0=tt(vo),Ds,ws,Sl,is=pe({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sl&&(Sl&&t.type==="mousemove"?(Ds=t.screenX-Sl.screenX,ws=t.screenY-Sl.screenY):ws=Ds=0,Sl=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),$c=tt(is),w0=pe({},is,{dataTransfer:0}),k0=tt(w0),U0=pe({},vo,{relatedTarget:0}),ks=tt(U0),I0=pe({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=tt(I0),V0=pe({},si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P0=tt(V0),q0=pe({},si,{data:0}),Xc=tt(q0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z0[t])?!!e[t]:!1}function qu(){return H0}var O0=pe({},vo,{key:function(t){if(t.key){var e=B0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(t){return t.type==="keypress"?ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F0=tt(O0),Y0=pe({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=tt(Y0),J0=pe({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),Z0=tt(J0),$0=pe({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0=tt($0),K0=pe({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=tt(K0),W0=pe({},si,{newState:0,oldState:0}),j0=tt(W0),ev=[9,13,27,32],Bu=Wt&&"CompositionEvent"in window,Il=null;Wt&&"documentMode"in document&&(Il=document.documentMode);var tv=Wt&&"TextEvent"in window&&!Il,bh=Wt&&(!Bu||Il&&8<Il&&11>=Il),Qc=" ",Wc=!1;function Dh(t,e){switch(t){case"keyup":return ev.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mi=!1;function nv(t,e){switch(t){case"compositionend":return wh(e);case"keypress":return e.which!==32?null:(Wc=!0,Qc);case"textInput":return t=e.data,t===Qc&&Wc?null:t;default:return null}}function iv(t,e){if(Mi)return t==="compositionend"||!Bu&&Dh(t,e)?(t=Rh(),jo=Pu=Sn=null,Mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bh&&e.locale!=="ko"?null:e.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lv[t.type]:e==="textarea"}function kh(t,e,n,i){Ai?Pi?Pi.push(i):Pi=[i]:Ai=i,e=Pa(e,"onChange"),0<e.length&&(n=new ns("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ll=null,Wl=null;function ov(t){Eg(t,0)}function ls(t){var e=bl(t);if(xh(e))return t}function ef(t,e){if(t==="change")return e}var Uh=!1;if(Wt){var Us;if(Wt){var Is="oninput"in document;if(!Is){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),Is=typeof tf.oninput=="function"}Us=Is}else Us=!1;Uh=Us&&(!document.documentMode||9<document.documentMode)}function nf(){Ll&&(Ll.detachEvent("onpropertychange",Ih),Wl=Ll=null)}function Ih(t){if(t.propertyName==="value"&&ls(Wl)){var e=[];kh(e,Wl,t,Vu(t)),Nh(ov,e)}}function av(t,e,n){t==="focusin"?(nf(),Ll=e,Wl=n,Ll.attachEvent("onpropertychange",Ih)):t==="focusout"&&nf()}function sv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ls(Wl)}function rv(t,e){if(t==="click")return ls(e)}function uv(t,e){if(t==="input"||t==="change")return ls(e)}function cv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:cv;function jl(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!gr.call(e,l)||!ct(t[l],e[l]))return!1}return!0}function lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function of(t,e){var n=lf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lf(n)}}function Lh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ta(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ta(t.document)}return e}function Gu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var fv=Wt&&"documentMode"in document&&11>=document.documentMode,Ni=null,xr=null,Vl=null,_r=!1;function af(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_r||Ni==null||Ni!==Ta(i)||(i=Ni,"selectionStart"in i&&Gu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vl&&jl(Vl,i)||(Vl=i,i=Pa(xr,"onSelect"),0<i.length&&(e=new ns("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ni)))}function Gn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ri={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionrun:Gn("Transition","TransitionRun"),transitionstart:Gn("Transition","TransitionStart"),transitioncancel:Gn("Transition","TransitionCancel"),transitionend:Gn("Transition","TransitionEnd")},Ls={},Ph={};Wt&&(Ph=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ri(t){if(Ls[t])return Ls[t];if(!Ri[t])return t;var e=Ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ph)return Ls[t]=e[n];return t}var qh=ri("animationend"),Bh=ri("animationiteration"),Gh=ri("animationstart"),dv=ri("transitionrun"),mv=ri("transitionstart"),hv=ri("transitioncancel"),zh=ri("transitionend"),Hh=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Er.push("scrollEnd");function Et(t,e){Hh.set(t,e),ai(e,[t])}var sf=new WeakMap;function gt(t,e){if(typeof t=="object"&&t!==null){var n=sf.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Fc(e)},sf.set(t,e),e)}return{value:t,source:e,stack:Fc(e)}}var ft=[],bi=0,zu=0;function os(){for(var t=bi,e=zu=bi=0;e<t;){var n=ft[e];ft[e++]=null;var i=ft[e];ft[e++]=null;var l=ft[e];ft[e++]=null;var o=ft[e];if(ft[e++]=null,i!==null&&l!==null){var r=i.pending;r===null?l.next=l:(l.next=r.next,r.next=l),i.pending=l}o!==0&&Oh(n,l,o)}}function as(t,e,n,i){ft[bi++]=t,ft[bi++]=e,ft[bi++]=n,ft[bi++]=i,zu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Hu(t,e,n,i){return as(t,e,n,i),Sa(t)}function cl(t,e){return as(t,null,null,e),Sa(t)}function Oh(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var l=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(l=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,l&&e!==null&&(l=31-st(n),t=o.hiddenUpdates,i=t[l],i===null?t[l]=[e]:i.push(e),e.lane=n|536870912),o):null}function Sa(t){if(50<Jl)throw Jl=0,Yr=null,Error(A(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Di={};function pv(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(t,e,n,i){return new pv(t,e,n,i)}function Ou(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kt(t,e){var n=t.alternate;return n===null?(n=ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Fh(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ta(t,e,n,i,l,o){var r=0;if(i=t,typeof t=="function")Ou(t)&&(r=1);else if(typeof t=="string")r=yT(t,n,kt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case dr:return t=ot(31,n,e,l),t.elementType=dr,t.lanes=o,t;case xi:return Jn(n.children,l,o,e);case uh:r=8,l|=24;break;case ur:return t=ot(12,n,e,l|2),t.elementType=ur,t.lanes=o,t;case cr:return t=ot(13,n,e,l),t.elementType=cr,t.lanes=o,t;case fr:return t=ot(19,n,e,l),t.elementType=fr,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o0:case Yt:r=10;break e;case ch:r=9;break e;case bu:r=11;break e;case Du:r=14;break e;case fn:r=16,i=null;break e}r=29,n=Error(A(130,t===null?"null":typeof t,"")),i=null}return e=ot(r,n,e,l),e.elementType=t,e.type=i,e.lanes=o,e}function Jn(t,e,n,i){return t=ot(7,t,i,e),t.lanes=n,t}function Vs(t,e,n){return t=ot(6,t,null,e),t.lanes=n,t}function Ps(t,e,n){return e=ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var wi=[],ki=0,Ca=null,xa=0,mt=[],ht=0,Zn=null,Jt=1,Zt="";function On(t,e){wi[ki++]=xa,wi[ki++]=Ca,Ca=t,xa=e}function Yh(t,e,n){mt[ht++]=Jt,mt[ht++]=Zt,mt[ht++]=Zn,Zn=t;var i=Jt;t=Zt;var l=32-st(i)-1;i&=~(1<<l),n+=1;var o=32-st(e)+l;if(30<o){var r=l-l%5;o=(i&(1<<r)-1).toString(32),i>>=r,l-=r,Jt=1<<32-st(e)+l|n<<l|i,Zt=o+t}else Jt=1<<o|n<<l|i,Zt=t}function Fu(t){t.return!==null&&(On(t,1),Yh(t,1,0))}function Yu(t){for(;t===Ca;)Ca=wi[--ki],wi[ki]=null,xa=wi[--ki],wi[ki]=null;for(;t===Zn;)Zn=mt[--ht],mt[ht]=null,Zt=mt[--ht],mt[ht]=null,Jt=mt[--ht],mt[ht]=null}var Ye=null,Ce=null,ee=!1,$n=null,Rt=!1,Ar=Error(A(519));function Wn(t){var e=Error(A(418,""));throw eo(gt(e,t)),Ar}function rf(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ze]=t,e[et]=i,n){case"dialog":$("cancel",e),$("close",e);break;case"iframe":case"object":case"embed":$("load",e);break;case"video":case"audio":for(n=0;n<io.length;n++)$(io[n],e);break;case"source":$("error",e);break;case"img":case"image":case"link":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"input":$("invalid",e),_h(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),va(e);break;case"select":$("invalid",e);break;case"textarea":$("invalid",e),Ah(e,i.value,i.defaultValue,i.children),va(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Mg(e.textContent,n)?(i.popover!=null&&($("beforetoggle",e),$("toggle",e)),i.onScroll!=null&&$("scroll",e),i.onScrollEnd!=null&&$("scrollend",e),i.onClick!=null&&(e.onclick=hs),e=!0):e=!1,e||Wn(t)}function uf(t){for(Ye=t.return;Ye;)switch(Ye.tag){case 5:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:Ye=Ye.return}}function Cl(t){if(t!==Ye)return!1;if(!ee)return uf(t),ee=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Qr(t.type,t.memoizedProps)),n=!n),n&&Ce&&Wn(t),uf(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ce=_t(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ce=null}}else e===27?(e=Ce,Pn(t.type)?(t=eu,eu=null,Ce=t):Ce=e):Ce=Ye?_t(t.stateNode.nextSibling):null;return!0}function To(){Ce=Ye=null,ee=!1}function cf(){var t=$n;return t!==null&&(We===null?We=t:We.push.apply(We,t),$n=null),t}function eo(t){$n===null?$n=[t]:$n.push(t)}var Mr=Pt(null),ui=null,$t=null;function pn(t,e,n){Te(Mr,e._currentValue),e._currentValue=n}function Qt(t){t._currentValue=Mr.current,Ve(Mr)}function Nr(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Rr(t,e,n,i){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){var r=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Nr(o.return,n,t),i||(r=null);break e}o=u.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(A(341));r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Nr(r,n,t),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===t){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function So(t,e,n,i){t=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var u=l.type;ct(l.pendingProps.value,r.value)||(t!==null?t.push(u):t=[u])}}else if(l===ha.current){if(r=l.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(ao):t=[ao])}l=l.return}t!==null&&Rr(e,t,n,i),e.flags|=262144}function _a(t){for(t=t.firstContext;t!==null;){if(!ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jn(t){ui=t,$t=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Jh(ui,t)}function Vo(t,e){return ui===null&&jn(t),Jh(t,e)}function Jh(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},$t===null){if(t===null)throw Error(A(308));$t=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else $t=$t.next=e;return n}var gv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},yv=we.unstable_scheduleCallback,vv=we.unstable_NormalPriority,be={$$typeof:Yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new gv,data:new Map,refCount:0}}function Co(t){t.refCount--,t.refCount===0&&yv(vv,function(){t.controller.abort()})}var Pl=null,br=0,$i=0,qi=null;function Tv(t,e){if(Pl===null){var n=Pl=[];br=0,$i=pc(),qi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return br++,e.then(ff,ff),e}function ff(){if(--br===0&&Pl!==null){qi!==null&&(qi.status="fulfilled");var t=Pl;Pl=null,$i=0,qi=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Sv(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var df=q.S;q.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Tv(t,e),df!==null&&df(t,e)};var Xn=Pt(null);function Zu(){var t=Xn.current;return t!==null?t:de.pooledCache}function na(t,e){e===null?Te(Xn,Xn.current):Te(Xn,e.pool)}function Zh(){var t=Zu();return t===null?null:{parent:be._currentValue,pool:t}}var xo=Error(A(460)),$h=Error(A(474)),ss=Error(A(542)),Dr={then:function(){}};function mf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Po(){}function Xh(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Po,Po),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,pf(t),t;default:if(typeof e.status=="string")e.then(Po,Po);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(A(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,pf(t),t}throw ql=e,xo}}var ql=null;function hf(){if(ql===null)throw Error(A(459));var t=ql;return ql=null,t}function pf(t){if(t===xo||t===ss)throw Error(A(483))}var dn=!1;function $u(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function En(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function An(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ie&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=Sa(t),Oh(t,null,n),e}return as(t,i,e,n),Sa(t)}function Bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,yh(t,n)}}function qs(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?l=o=r:o=o.next=r,n=n.next}while(n!==null);o===null?l=o=e:o=o.next=e}else l=o=e;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var kr=!1;function Gl(){if(kr){var t=qi;if(t!==null)throw t}}function zl(t,e,n,i){kr=!1;var l=t.updateQueue;dn=!1;var o=l.firstBaseUpdate,r=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,r===null?o=f:r.next=f,r=c;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==r&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;r=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,g=h!==u.lane;if(g?(W&h)===h:(i&h)===h){h!==0&&h===$i&&(kr=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var S=t,C=u;h=e;var E=n;switch(C.tag){case 1:if(S=C.payload,typeof S=="function"){m=S.call(E,m,h);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,h=typeof S=="function"?S.call(E,m,h):S,h==null)break e;m=pe({},m,h);break e;case 2:dn=!0}}h=u.callback,h!==null&&(t.flags|=64,g&&(t.flags|=8192),g=l.callbacks,g===null?l.callbacks=[h]:g.push(h))}else g={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=g,c=m):d=d.next=g,r|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;g=u,u=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);d===null&&(c=m),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),In|=r,t.lanes=r,t.memoizedState=m}}function Kh(t,e){if(typeof t!="function")throw Error(A(191,t));t.call(e)}function Qh(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Kh(n[t],e)}var Xi=Pt(null),Ea=Pt(0);function gf(t,e){t=tn,Te(Ea,t),Te(Xi,e),tn=t|e.baseLanes}function Ur(){Te(Ea,tn),Te(Xi,Xi.current)}function Xu(){tn=Ea.current,Ve(Xi),Ve(Ea)}var kn=0,Z=null,se=null,Me=null,Aa=!1,Bi=!1,ei=!1,Ma=0,to=0,Gi=null,Cv=0;function _e(){throw Error(A(321))}function Ku(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function Qu(t,e,n,i,l,o){return kn=o,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q.H=t===null||t.memoizedState===null?Rp:bp,ei=!1,o=n(i,l),ei=!1,Bi&&(o=jh(e,n,i,l)),Wh(t),o}function Wh(t){q.H=Na;var e=se!==null&&se.next!==null;if(kn=0,Me=se=Z=null,Aa=!1,to=0,Gi=null,e)throw Error(A(300));t===null||Le||(t=t.dependencies,t!==null&&_a(t)&&(Le=!0))}function jh(t,e,n,i){Z=t;var l=0;do{if(Bi&&(Gi=null),to=0,Bi=!1,25<=l)throw Error(A(301));if(l+=1,Me=se=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}q.H=Rv,o=e(n,i)}while(Bi);return o}function xv(){var t=q.H,e=t.useState()[0];return e=typeof e.then=="function"?_o(e):e,t=t.useState()[0],(se!==null?se.memoizedState:null)!==t&&(Z.flags|=1024),e}function Wu(){var t=Ma!==0;return Ma=0,t}function ju(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ec(t){if(Aa){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Aa=!1}kn=0,Me=se=Z=null,Bi=!1,to=Ma=0,Gi=null}function Ke(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Z.memoizedState=Me=t:Me=Me.next=t,Me}function Ne(){if(se===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=Me===null?Z.memoizedState:Me.next;if(e!==null)Me=e,se=t;else{if(t===null)throw Z.alternate===null?Error(A(467)):Error(A(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Me===null?Z.memoizedState=Me=t:Me=Me.next=t}return Me}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var e=to;return to+=1,Gi===null&&(Gi=[]),t=Xh(Gi,t,e),e=Z,(Me===null?e.memoizedState:Me.next)===null&&(e=e.alternate,q.H=e===null||e.memoizedState===null?Rp:bp),t}function rs(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===Yt)return He(t)}throw Error(A(438,String(t)))}function nc(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=tc(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=a0;return e.index++,n}function jt(t,e){return typeof e=="function"?e(t):e}function ia(t){var e=Ne();return ic(e,se,t)}function ic(t,e,n){var i=t.queue;if(i===null)throw Error(A(311));i.lastRenderedReducer=n;var l=t.baseQueue,o=i.pending;if(o!==null){if(l!==null){var r=l.next;l.next=o.next,o.next=r}e.baseQueue=l=o,i.pending=null}if(o=t.baseState,l===null)t.memoizedState=o;else{e=l.next;var u=r=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(W&m)===m:(kn&m)===m){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===$i&&(d=!0);else if((kn&h)===h){f=f.next,h===$i&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,r=o):c=c.next=m,Z.lanes|=h,In|=h;m=f.action,ei&&n(o,m),o=f.hasEagerState?f.eagerState:n(o,m)}else h={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,r=o):c=c.next=h,Z.lanes|=m,In|=m;f=f.next}while(f!==null&&f!==e);if(c===null?r=o:c.next=u,!ct(o,t.memoizedState)&&(Le=!0,d&&(n=qi,n!==null)))throw n;t.memoizedState=o,t.baseState=r,t.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Bs(t){var e=Ne(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=n.dispatch,l=n.pending,o=e.memoizedState;if(l!==null){n.pending=null;var r=l=l.next;do o=t(o,r.action),r=r.next;while(r!==l);ct(o,e.memoizedState)||(Le=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ep(t,e,n){var i=Z,l=Ne(),o=ee;if(o){if(n===void 0)throw Error(A(407));n=n()}else n=e();var r=!ct((se||l).memoizedState,n);r&&(l.memoizedState=n,Le=!0),l=l.queue;var u=ip.bind(null,i,l,t);if(Eo(2048,8,u,[t]),l.getSnapshot!==e||r||Me!==null&&Me.memoizedState.tag&1){if(i.flags|=2048,Ki(9,us(),np.bind(null,i,l,n,e),null),de===null)throw Error(A(349));o||kn&124||tp(i,e,n)}return n}function tp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=tc(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function np(t,e,n,i){e.value=n,e.getSnapshot=i,lp(e)&&op(t)}function ip(t,e,n){return n(function(){lp(e)&&op(t)})}function lp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function op(t){var e=cl(t,2);e!==null&&ut(e,t,2)}function Ir(t){var e=Ke();if(typeof t=="function"){var n=t;if(t=n(),ei){Tn(!0);try{n()}finally{Tn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:t},e}function ap(t,e,n,i){return t.baseState=n,ic(t,se,typeof i=="function"?i:jt)}function _v(t,e,n,i,l){if(cs(t))throw Error(A(485));if(t=e.action,t!==null){var o={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){o.listeners.push(r)}};q.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,sp(e,o)):(o.next=n.next,e.pending=n.next=o)}}function sp(t,e){var n=e.action,i=e.payload,l=t.state;if(e.isTransition){var o=q.T,r={};q.T=r;try{var u=n(l,i),c=q.S;c!==null&&c(r,u),yf(t,e,u)}catch(f){Lr(t,e,f)}finally{q.T=o}}else try{o=n(l,i),yf(t,e,o)}catch(f){Lr(t,e,f)}}function yf(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){vf(t,e,i)},function(i){return Lr(t,e,i)}):vf(t,e,n)}function vf(t,e,n){e.status="fulfilled",e.value=n,rp(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,sp(t,n)))}function Lr(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,rp(e),e=e.next;while(e!==i)}t.action=null}function rp(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function up(t,e){return e}function Tf(t,e){if(ee){var n=de.formState;if(n!==null){e:{var i=Z;if(ee){if(Ce){t:{for(var l=Ce,o=Rt;l.nodeType!==8;){if(!o){l=null;break t}if(l=_t(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){Ce=_t(l.nextSibling),i=l.data==="F!";break e}}Wn(i)}i=!1}i&&(e=n[0])}}return n=Ke(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:e},n.queue=i,n=Ap.bind(null,Z,i),i.dispatch=n,i=Ir(!1),o=sc.bind(null,Z,!1,i.queue),i=Ke(),l={state:e,dispatch:null,action:t,pending:null},i.queue=l,n=_v.bind(null,Z,l,o,n),l.dispatch=n,i.memoizedState=t,[e,n,!1]}function Sf(t){var e=Ne();return cp(e,se,t)}function cp(t,e,n){if(e=ic(t,e,up)[0],t=ia(jt)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=_o(e)}catch(r){throw r===xo?ss:r}else i=e;e=Ne();var l=e.queue,o=l.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,Ki(9,us(),Ev.bind(null,l,n),null)),[i,o,t]}function Ev(t,e){t.action=e}function Cf(t){var e=Ne(),n=se;if(n!==null)return cp(e,n,t);Ne(),e=e.memoizedState,n=Ne();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ki(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=tc(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function us(){return{destroy:void 0,resource:void 0}}function fp(){return Ne().memoizedState}function la(t,e,n,i){var l=Ke();i=i===void 0?null:i,Z.flags|=t,l.memoizedState=Ki(1|e,us(),n,i)}function Eo(t,e,n,i){var l=Ne();i=i===void 0?null:i;var o=l.memoizedState.inst;se!==null&&i!==null&&Ku(i,se.memoizedState.deps)?l.memoizedState=Ki(e,o,n,i):(Z.flags|=t,l.memoizedState=Ki(1|e,o,n,i))}function xf(t,e){la(8390656,8,t,e)}function dp(t,e){Eo(2048,8,t,e)}function mp(t,e){return Eo(4,2,t,e)}function hp(t,e){return Eo(4,4,t,e)}function pp(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gp(t,e,n){n=n!=null?n.concat([t]):null,Eo(4,4,pp.bind(null,e,t),n)}function lc(){}function yp(t,e){var n=Ne();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Ku(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function vp(t,e){var n=Ne();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Ku(e,i[1]))return i[0];if(i=t(),ei){Tn(!0);try{t()}finally{Tn(!1)}}return n.memoizedState=[i,e],i}function oc(t,e,n){return n===void 0||kn&1073741824?t.memoizedState=e:(t.memoizedState=n,t=rg(),Z.lanes|=t,In|=t,n)}function Tp(t,e,n,i){return ct(n,e)?n:Xi.current!==null?(t=oc(t,n,i),ct(t,e)||(Le=!0),t):kn&42?(t=rg(),Z.lanes|=t,In|=t,e):(Le=!0,t.memoizedState=n)}function Sp(t,e,n,i,l){var o=te.p;te.p=o!==0&&8>o?o:8;var r=q.T,u={};q.T=u,sc(t,!1,e,n);try{var c=l(),f=q.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Sv(c,i);Hl(t,e,d,rt(t))}else Hl(t,e,i,rt(t))}catch(m){Hl(t,e,{then:function(){},status:"rejected",reason:m},rt())}finally{te.p=o,q.T=r}}function Av(){}function Vr(t,e,n,i){if(t.tag!==5)throw Error(A(476));var l=Cp(t).queue;Sp(t,l,e,Yn,n===null?Av:function(){return xp(t),n(i)})}function Cp(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Yn,baseState:Yn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:Yn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jt,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function xp(t){var e=Cp(t).next.queue;Hl(t,e,{},rt())}function ac(){return He(ao)}function _p(){return Ne().memoizedState}function Ep(){return Ne().memoizedState}function Mv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=rt();t=En(n);var i=An(e,t,n);i!==null&&(ut(i,e,n),Bl(i,e,n)),e={cache:Ju()},t.payload=e;return}e=e.return}}function Nv(t,e,n){var i=rt();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},cs(t)?Mp(e,n):(n=Hu(t,e,n,i),n!==null&&(ut(n,t,i),Np(n,e,i)))}function Ap(t,e,n){var i=rt();Hl(t,e,n,i)}function Hl(t,e,n,i){var l={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(cs(t))Mp(e,l);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var r=e.lastRenderedState,u=o(r,n);if(l.hasEagerState=!0,l.eagerState=u,ct(u,r))return as(t,e,l,0),de===null&&os(),!1}catch{}finally{}if(n=Hu(t,e,l,i),n!==null)return ut(n,t,i),Np(n,e,i),!0}return!1}function sc(t,e,n,i){if(i={lane:2,revertLane:pc(),action:i,hasEagerState:!1,eagerState:null,next:null},cs(t)){if(e)throw Error(A(479))}else e=Hu(t,n,i,2),e!==null&&ut(e,t,2)}function cs(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Mp(t,e){Bi=Aa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Np(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,yh(t,n)}}var Na={readContext:He,use:rs,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},Rp={readContext:He,use:rs,useCallback:function(t,e){return Ke().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:xf,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,la(4194308,4,pp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return la(4194308,4,t,e)},useInsertionEffect:function(t,e){la(4,2,t,e)},useMemo:function(t,e){var n=Ke();e=e===void 0?null:e;var i=t();if(ei){Tn(!0);try{t()}finally{Tn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ke();if(n!==void 0){var l=n(e);if(ei){Tn(!0);try{n(e)}finally{Tn(!1)}}}else l=e;return i.memoizedState=i.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},i.queue=t,t=t.dispatch=Nv.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=Ke();return t={current:t},e.memoizedState=t},useState:function(t){t=Ir(t);var e=t.queue,n=Ap.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:lc,useDeferredValue:function(t,e){var n=Ke();return oc(n,t,e)},useTransition:function(){var t=Ir(!1);return t=Sp.bind(null,Z,t.queue,!0,!1),Ke().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,l=Ke();if(ee){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),de===null)throw Error(A(349));W&124||tp(i,e,n)}l.memoizedState=n;var o={value:n,getSnapshot:e};return l.queue=o,xf(ip.bind(null,i,o,t),[t]),i.flags|=2048,Ki(9,us(),np.bind(null,i,o,n,e),null),n},useId:function(){var t=Ke(),e=de.identifierPrefix;if(ee){var n=Zt,i=Jt;n=(i&~(1<<32-st(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Cv++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:ac,useFormState:Tf,useActionState:Tf,useOptimistic:function(t){var e=Ke();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=sc.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:nc,useCacheRefresh:function(){return Ke().memoizedState=Mv.bind(null,Z)}},bp={readContext:He,use:rs,useCallback:yp,useContext:He,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:hp,useMemo:vp,useReducer:ia,useRef:fp,useState:function(){return ia(jt)},useDebugValue:lc,useDeferredValue:function(t,e){var n=Ne();return Tp(n,se.memoizedState,t,e)},useTransition:function(){var t=ia(jt)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:_o(t),e]},useSyncExternalStore:ep,useId:_p,useHostTransitionStatus:ac,useFormState:Sf,useActionState:Sf,useOptimistic:function(t,e){var n=Ne();return ap(n,se,t,e)},useMemoCache:nc,useCacheRefresh:Ep},Rv={readContext:He,use:rs,useCallback:yp,useContext:He,useEffect:dp,useImperativeHandle:gp,useInsertionEffect:mp,useLayoutEffect:hp,useMemo:vp,useReducer:Bs,useRef:fp,useState:function(){return Bs(jt)},useDebugValue:lc,useDeferredValue:function(t,e){var n=Ne();return se===null?oc(n,t,e):Tp(n,se.memoizedState,t,e)},useTransition:function(){var t=Bs(jt)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:_o(t),e]},useSyncExternalStore:ep,useId:_p,useHostTransitionStatus:ac,useFormState:Cf,useActionState:Cf,useOptimistic:function(t,e){var n=Ne();return se!==null?ap(n,se,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:nc,useCacheRefresh:Ep},zi=null,no=0;function qo(t){var e=no;return no+=1,zi===null&&(zi=[]),Xh(zi,t,e)}function xl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Bo(t,e){throw e.$$typeof===l0?Error(A(525)):(t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function _f(t){var e=t._init;return e(t._payload)}function Dp(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function l(v,y){return v=Kt(v,y),v.index=0,v.sibling=null,v}function o(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=67108866,y):T):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function r(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function u(v,y,T,x){return y===null||y.tag!==6?(y=Vs(T,v.mode,x),y.return=v,y):(y=l(y,T),y.return=v,y)}function c(v,y,T,x){var _=T.type;return _===xi?d(v,y,T.props.children,x,T.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fn&&_f(_)===y.type)?(y=l(y,T.props),xl(y,T),y.return=v,y):(y=ta(T.type,T.key,T.props,null,v.mode,x),xl(y,T),y.return=v,y)}function f(v,y,T,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Ps(T,v.mode,x),y.return=v,y):(y=l(y,T.children||[]),y.return=v,y)}function d(v,y,T,x,_){return y===null||y.tag!==7?(y=Jn(T,v.mode,x,_),y.return=v,y):(y=l(y,T),y.return=v,y)}function m(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Vs(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wo:return T=ta(y.type,y.key,y.props,null,v.mode,T),xl(T,y),T.return=v,T;case Nl:return y=Ps(y,v.mode,T),y.return=v,y;case fn:var x=y._init;return y=x(y._payload),m(v,y,T)}if(Rl(y)||vl(y))return y=Jn(y,v.mode,T,null),y.return=v,y;if(typeof y.then=="function")return m(v,qo(y),T);if(y.$$typeof===Yt)return m(v,Vo(v,y),T);Bo(v,y)}return null}function h(v,y,T,x){var _=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return _!==null?null:u(v,y,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wo:return T.key===_?c(v,y,T,x):null;case Nl:return T.key===_?f(v,y,T,x):null;case fn:return _=T._init,T=_(T._payload),h(v,y,T,x)}if(Rl(T)||vl(T))return _!==null?null:d(v,y,T,x,null);if(typeof T.then=="function")return h(v,y,qo(T),x);if(T.$$typeof===Yt)return h(v,y,Vo(v,T),x);Bo(v,T)}return null}function g(v,y,T,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return v=v.get(T)||null,u(y,v,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wo:return v=v.get(x.key===null?T:x.key)||null,c(y,v,x,_);case Nl:return v=v.get(x.key===null?T:x.key)||null,f(y,v,x,_);case fn:var b=x._init;return x=b(x._payload),g(v,y,T,x,_)}if(Rl(x)||vl(x))return v=v.get(T)||null,d(y,v,x,_,null);if(typeof x.then=="function")return g(v,y,T,qo(x),_);if(x.$$typeof===Yt)return g(v,y,T,Vo(y,x),_);Bo(y,x)}return null}function S(v,y,T,x){for(var _=null,b=null,N=y,M=y=0,D=null;N!==null&&M<T.length;M++){N.index>M?(D=N,N=null):D=N.sibling;var w=h(v,N,T[M],x);if(w===null){N===null&&(N=D);break}t&&N&&w.alternate===null&&e(v,N),y=o(w,y,M),b===null?_=w:b.sibling=w,b=w,N=D}if(M===T.length)return n(v,N),ee&&On(v,M),_;if(N===null){for(;M<T.length;M++)N=m(v,T[M],x),N!==null&&(y=o(N,y,M),b===null?_=N:b.sibling=N,b=N);return ee&&On(v,M),_}for(N=i(N);M<T.length;M++)D=g(N,v,M,T[M],x),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?M:D.key),y=o(D,y,M),b===null?_=D:b.sibling=D,b=D);return t&&N.forEach(function(P){return e(v,P)}),ee&&On(v,M),_}function C(v,y,T,x){if(T==null)throw Error(A(151));for(var _=null,b=null,N=y,M=y=0,D=null,w=T.next();N!==null&&!w.done;M++,w=T.next()){N.index>M?(D=N,N=null):D=N.sibling;var P=h(v,N,w.value,x);if(P===null){N===null&&(N=D);break}t&&N&&P.alternate===null&&e(v,N),y=o(P,y,M),b===null?_=P:b.sibling=P,b=P,N=D}if(w.done)return n(v,N),ee&&On(v,M),_;if(N===null){for(;!w.done;M++,w=T.next())w=m(v,w.value,x),w!==null&&(y=o(w,y,M),b===null?_=w:b.sibling=w,b=w);return ee&&On(v,M),_}for(N=i(N);!w.done;M++,w=T.next())w=g(N,v,M,w.value,x),w!==null&&(t&&w.alternate!==null&&N.delete(w.key===null?M:w.key),y=o(w,y,M),b===null?_=w:b.sibling=w,b=w);return t&&N.forEach(function(fe){return e(v,fe)}),ee&&On(v,M),_}function E(v,y,T,x){if(typeof T=="object"&&T!==null&&T.type===xi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case wo:e:{for(var _=T.key;y!==null;){if(y.key===_){if(_=T.type,_===xi){if(y.tag===7){n(v,y.sibling),x=l(y,T.props.children),x.return=v,v=x;break e}}else if(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fn&&_f(_)===y.type){n(v,y.sibling),x=l(y,T.props),xl(x,T),x.return=v,v=x;break e}n(v,y);break}else e(v,y);y=y.sibling}T.type===xi?(x=Jn(T.props.children,v.mode,x,T.key),x.return=v,v=x):(x=ta(T.type,T.key,T.props,null,v.mode,x),xl(x,T),x.return=v,v=x)}return r(v);case Nl:e:{for(_=T.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),x=l(y,T.children||[]),x.return=v,v=x;break e}else{n(v,y);break}else e(v,y);y=y.sibling}x=Ps(T,v.mode,x),x.return=v,v=x}return r(v);case fn:return _=T._init,T=_(T._payload),E(v,y,T,x)}if(Rl(T))return S(v,y,T,x);if(vl(T)){if(_=vl(T),typeof _!="function")throw Error(A(150));return T=_.call(T),C(v,y,T,x)}if(typeof T.then=="function")return E(v,y,qo(T),x);if(T.$$typeof===Yt)return E(v,y,Vo(v,T),x);Bo(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),x=l(y,T),x.return=v,v=x):(n(v,y),x=Vs(T,v.mode,x),x.return=v,v=x),r(v)):n(v,y)}return function(v,y,T,x){try{no=0;var _=E(v,y,T,x);return zi=null,_}catch(N){if(N===xo||N===ss)throw N;var b=ot(29,N,null,v.mode);return b.lanes=x,b.return=v,b}finally{}}}var Qi=Dp(!0),wp=Dp(!1),Tt=Pt(null),It=null;function gn(t){var e=t.alternate;Te(De,De.current&1),Te(Tt,t),It===null&&(e===null||Xi.current!==null||e.memoizedState!==null)&&(It=t)}function kp(t){if(t.tag===22){if(Te(De,De.current),Te(Tt,t),It===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(It=t)}}else yn()}function yn(){Te(De,De.current),Te(Tt,Tt.current)}function Xt(t){Ve(Tt),It===t&&(It=null),Ve(De)}var De=Pt(0);function Ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||jr(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Gs(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pr={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=rt(),l=En(i);l.payload=e,n!=null&&(l.callback=n),e=An(t,l,i),e!==null&&(ut(e,t,i),Bl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=rt(),l=En(i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=An(t,l,i),e!==null&&(ut(e,t,i),Bl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),i=En(n);i.tag=2,e!=null&&(i.callback=e),e=An(t,i,n),e!==null&&(ut(e,t,n),Bl(e,t,n))}};function Ef(t,e,n,i,l,o,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,r):e.prototype&&e.prototype.isPureReactComponent?!jl(n,i)||!jl(l,o):!0}function Af(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Pr.enqueueReplaceState(e,e.state,null)}function ti(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=pe({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}var ba=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Up(t){ba(t)}function Ip(t){console.error(t)}function Lp(t){ba(t)}function Da(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Mf(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function qr(t,e,n){return n=En(n),n.tag=3,n.payload={element:null},n.callback=function(){Da(t,e)},n}function Vp(t){return t=En(t),t.tag=3,t}function Pp(t,e,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;t.payload=function(){return l(o)},t.callback=function(){Mf(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Mf(e,n,i),typeof l!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function bv(t,e,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&So(e,n,l,!0),n=Tt.current,n!==null){switch(n.tag){case 13:return It===null?Jr():n.alternate===null&&xe===0&&(xe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===Dr?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Qs(t,i,l)),!1;case 22:return n.flags|=65536,i===Dr?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Qs(t,i,l)),!1}throw Error(A(435,n.tag))}return Qs(t,i,l),Jr(),!1}if(ee)return e=Tt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==Ar&&(t=Error(A(422),{cause:i}),eo(gt(t,n)))):(i!==Ar&&(e=Error(A(423),{cause:i}),eo(gt(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,i=gt(i,n),l=qr(t.stateNode,i,l),qs(t,l),xe!==4&&(xe=2)),!1;var o=Error(A(520),{cause:i});if(o=gt(o,n),Yl===null?Yl=[o]:Yl.push(o),xe!==4&&(xe=2),e===null)return!0;i=gt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=qr(n.stateNode,i,t),qs(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Mn===null||!Mn.has(o))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Vp(l),Pp(l,t,n,i),qs(n,l),!1}n=n.return}while(n!==null);return!1}var qp=Error(A(461)),Le=!1;function Pe(t,e,n,i){e.child=t===null?wp(e,null,n,i):Qi(e,t.child,n,i)}function Nf(t,e,n,i,l){n=n.render;var o=e.ref;if("ref"in i){var r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}else r=i;return jn(e),i=Qu(t,e,n,r,o,l),u=Wu(),t!==null&&!Le?(ju(t,e,l),en(t,e,l)):(ee&&u&&Fu(e),e.flags|=1,Pe(t,e,i,l),e.child)}function Rf(t,e,n,i,l){if(t===null){var o=n.type;return typeof o=="function"&&!Ou(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,Bp(t,e,o,i,l)):(t=ta(n.type,null,i,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!rc(t,l)){var r=o.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(r,i)&&t.ref===e.ref)return en(t,e,l)}return e.flags|=1,t=Kt(o,i),t.ref=e.ref,t.return=e,e.child=t}function Bp(t,e,n,i,l){if(t!==null){var o=t.memoizedProps;if(jl(o,i)&&t.ref===e.ref)if(Le=!1,e.pendingProps=i=o,rc(t,l))t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,en(t,e,l)}return Br(t,e,n,i,l)}function Gp(t,e,n){var i=e.pendingProps,l=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|n:n,t!==null){for(l=e.child=t.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return bf(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&na(e,o!==null?o.cachePool:null),o!==null?gf(e,o):Ur(),kp(e);else return e.lanes=e.childLanes=536870912,bf(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(na(e,o.cachePool),gf(e,o),yn(),e.memoizedState=null):(t!==null&&na(e,null),Ur(),yn());return Pe(t,e,l,n),e.child}function bf(t,e,n,i){var l=Zu();return l=l===null?null:{parent:be._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&na(e,null),Ur(),kp(e),t!==null&&So(t,e,i,!0),null}function oa(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Br(t,e,n,i,l){return jn(e),n=Qu(t,e,n,i,void 0,l),i=Wu(),t!==null&&!Le?(ju(t,e,l),en(t,e,l)):(ee&&i&&Fu(e),e.flags|=1,Pe(t,e,n,l),e.child)}function Df(t,e,n,i,l,o){return jn(e),e.updateQueue=null,n=jh(e,i,n,l),Wh(t),i=Wu(),t!==null&&!Le?(ju(t,e,o),en(t,e,o)):(ee&&i&&Fu(e),e.flags|=1,Pe(t,e,n,o),e.child)}function wf(t,e,n,i,l){if(jn(e),e.stateNode===null){var o=Di,r=n.contextType;typeof r=="object"&&r!==null&&(o=He(r)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Pr,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},$u(e),r=n.contextType,o.context=typeof r=="object"&&r!==null?He(r):Di,o.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Gs(e,n,r,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&Pr.enqueueReplaceState(o,o.state,null),zl(e,i,o,l),Gl(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var u=e.memoizedProps,c=ti(n,u);o.props=c;var f=o.context,d=n.contextType;r=Di,typeof d=="object"&&d!==null&&(r=He(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==r)&&Af(e,o,i,r),dn=!1;var h=e.memoizedState;o.state=h,zl(e,i,o,l),Gl(),f=e.memoizedState,u||h!==f||dn?(typeof m=="function"&&(Gs(e,n,m,i),f=e.memoizedState),(c=dn||Ef(e,n,c,i,h,f,r))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=r,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,wr(t,e),r=e.memoizedProps,d=ti(n,r),o.props=d,m=e.pendingProps,h=o.context,f=n.contextType,c=Di,typeof f=="object"&&f!==null&&(c=He(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r!==m||h!==c)&&Af(e,o,i,c),dn=!1,h=e.memoizedState,o.state=h,zl(e,i,o,l),Gl();var g=e.memoizedState;r!==m||h!==g||dn||t!==null&&t.dependencies!==null&&_a(t.dependencies)?(typeof u=="function"&&(Gs(e,n,u,i),g=e.memoizedState),(d=dn||Ef(e,n,d,i,h,g,c)||t!==null&&t.dependencies!==null&&_a(t.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,oa(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=Qi(e,t.child,null,l),e.child=Qi(e,null,n,l)):Pe(t,e,n,l),e.memoizedState=o.state,t=e.child):t=en(t,e,l),t}function kf(t,e,n,i){return To(),e.flags|=256,Pe(t,e,n,i),e.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hs(t){return{baseLanes:t,cachePool:Zh()}}function Os(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=yt),t}function zp(t,e,n){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,r;if((r=o)||(r=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),r&&(l=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(ee){if(l?gn(e):yn(),ee){var u=Ce,c;if(c=u){e:{for(c=u,u=Rt;c.nodeType!==8;){if(!u){u=null;break e}if(c=_t(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:Zn!==null?{id:Jt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},c=ot(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,Ye=e,Ce=null,c=!0):c=!1}c||Wn(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return jr(u)?e.lanes=32:e.lanes=536870912,null;Xt(e)}return u=i.children,i=i.fallback,l?(yn(),l=e.mode,u=wa({mode:"hidden",children:u},l),i=Jn(i,l,n,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=Hs(n),l.childLanes=Os(t,r,n),e.memoizedState=zs,i):(gn(e),Gr(e,u))}if(c=t.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(gn(e),e.flags&=-257,e=Fs(t,e,n)):e.memoizedState!==null?(yn(),e.child=t.child,e.flags|=128,e=null):(yn(),l=i.fallback,u=e.mode,i=wa({mode:"visible",children:i.children},u),l=Jn(l,u,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Qi(e,t.child,null,n),i=e.child,i.memoizedState=Hs(n),i.childLanes=Os(t,r,n),e.memoizedState=zs,e=l);else if(gn(e),jr(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var f=r.dgst;r=f,i=Error(A(419)),i.stack="",i.digest=r,eo({value:i,source:null,stack:null}),e=Fs(t,e,n)}else if(Le||So(t,e,n,!1),r=(n&t.childLanes)!==0,Le||r){if(r=de,r!==null&&(i=n&-n,i=i&42?1:ku(i),i=i&(r.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,cl(t,i),ut(r,t,i),qp;u.data==="$?"||Jr(),e=Fs(t,e,n)}else u.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Ce=_t(u.nextSibling),Ye=e,ee=!0,$n=null,Rt=!1,t!==null&&(mt[ht++]=Jt,mt[ht++]=Zt,mt[ht++]=Zn,Jt=t.id,Zt=t.overflow,Zn=e),e=Gr(e,i.children),e.flags|=4096);return e}return l?(yn(),l=i.fallback,u=e.mode,c=t.child,f=c.sibling,i=Kt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Kt(f,l):(l=Jn(l,u,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=t.child.memoizedState,u===null?u=Hs(n):(c=u.cachePool,c!==null?(f=be._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Zh(),u={baseLanes:u.baseLanes|n,cachePool:c}),l.memoizedState=u,l.childLanes=Os(t,r,n),e.memoizedState=zs,i):(gn(e),n=t.child,t=n.sibling,n=Kt(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Gr(t,e){return e=wa({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function wa(t,e){return t=ot(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fs(t,e,n){return Qi(e,t.child,null,n),t=Gr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Uf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Nr(t.return,e,n)}function Ys(t,e,n,i,l){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function Hp(t,e,n){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(Pe(t,e,i.children,n),i=De.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uf(t,n,e);else if(t.tag===19)Uf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Te(De,i),l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Ra(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Ys(e,!1,l,n,o);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Ra(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Ys(e,!0,n,null,o);break;case"together":Ys(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function en(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),In|=e.lanes,!(n&e.childLanes))if(t!==null){if(So(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rc(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&_a(t)))}function Dv(t,e,n){switch(e.tag){case 3:pa(e,e.stateNode.containerInfo),pn(e,be,t.memoizedState.cache),To();break;case 27:case 5:pr(e);break;case 4:pa(e,e.stateNode.containerInfo);break;case 10:pn(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(gn(e),e.flags|=128,null):n&e.child.childLanes?zp(t,e,n):(gn(e),t=en(t,e,n),t!==null?t.sibling:null);gn(e);break;case 19:var l=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(So(t,e,n,!1),i=(n&e.childLanes)!==0),l){if(i)return Hp(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Te(De,De.current),i)break;return null;case 22:case 23:return e.lanes=0,Gp(t,e,n);case 24:pn(e,be,t.memoizedState.cache)}return en(t,e,n)}function Op(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Le=!0;else{if(!rc(t,n)&&!(e.flags&128))return Le=!1,Dv(t,e,n);Le=!!(t.flags&131072)}else Le=!1,ee&&e.flags&1048576&&Yh(e,xa,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Ou(i)?(t=ti(i,t),e.tag=1,e=wf(null,e,i,t,n)):(e.tag=0,e=Br(null,e,i,t,n));else{if(i!=null){if(l=i.$$typeof,l===bu){e.tag=11,e=Nf(null,e,i,t,n);break e}else if(l===Du){e.tag=14,e=Rf(null,e,i,t,n);break e}}throw e=mr(i)||i,Error(A(306,e,""))}}return e;case 0:return Br(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,l=ti(i,e.pendingProps),wf(t,e,i,l,n);case 3:e:{if(pa(e,e.stateNode.containerInfo),t===null)throw Error(A(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,wr(t,e),zl(e,i,null,n);var r=e.memoizedState;if(i=r.cache,pn(e,be,i),i!==o.cache&&Rr(e,[be],n,!0),Gl(),i=r.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=kf(t,e,i,n);break e}else if(i!==l){l=gt(Error(A(424)),e),eo(l),e=kf(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ce=_t(t.firstChild),Ye=e,ee=!0,$n=null,Rt=!0,n=wp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(To(),i===l){e=en(t,e,n);break e}Pe(t,e,i,n)}e=e.child}return e;case 26:return oa(t,e),t===null?(n=Kf(e.type,null,e.pendingProps,null))?e.memoizedState=n:ee||(n=e.type,t=e.pendingProps,i=qa(_n.current).createElement(n),i[ze]=e,i[et]=t,Be(i,n,t),Ie(i),e.stateNode=i):e.memoizedState=Kf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return pr(e),t===null&&ee&&(i=e.stateNode=bg(e.type,e.pendingProps,_n.current),Ye=e,Rt=!0,l=Ce,Pn(e.type)?(eu=l,Ce=_t(i.firstChild)):Ce=l),Pe(t,e,e.pendingProps.children,n),oa(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ee&&((l=i=Ce)&&(i=lT(i,e.type,e.pendingProps,Rt),i!==null?(e.stateNode=i,Ye=e,Ce=_t(i.firstChild),Rt=!1,l=!0):l=!1),l||Wn(e)),pr(e),l=e.type,o=e.pendingProps,r=t!==null?t.memoizedProps:null,i=o.children,Qr(l,o)?i=null:r!==null&&Qr(l,r)&&(e.flags|=32),e.memoizedState!==null&&(l=Qu(t,e,xv,null,null,n),ao._currentValue=l),oa(t,e),Pe(t,e,i,n),e.child;case 6:return t===null&&ee&&((t=n=Ce)&&(n=oT(n,e.pendingProps,Rt),n!==null?(e.stateNode=n,Ye=e,Ce=null,t=!0):t=!1),t||Wn(e)),null;case 13:return zp(t,e,n);case 4:return pa(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Qi(e,null,i,n):Pe(t,e,i,n),e.child;case 11:return Nf(t,e,e.type,e.pendingProps,n);case 7:return Pe(t,e,e.pendingProps,n),e.child;case 8:return Pe(t,e,e.pendingProps.children,n),e.child;case 12:return Pe(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,pn(e,e.type,i.value),Pe(t,e,i.children,n),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,jn(e),l=He(l),i=i(l),e.flags|=1,Pe(t,e,i,n),e.child;case 14:return Rf(t,e,e.type,e.pendingProps,n);case 15:return Bp(t,e,e.type,e.pendingProps,n);case 19:return Hp(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=wa(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Kt(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Gp(t,e,n);case 24:return jn(e),i=He(be),t===null?(l=Zu(),l===null&&(l=de,o=Ju(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=n),l=o),e.memoizedState={parent:i,cache:l},$u(e),pn(e,be,l)):(t.lanes&n&&(wr(t,e),zl(e,null,null,n),Gl()),l=t.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),pn(e,be,i)):(i=o.cache,pn(e,be,i),i!==l.cache&&Rr(e,[be],n,!0))),Pe(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(A(156,e.tag))}function Ht(t){t.flags|=4}function If(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!kg(e)){if(e=Tt.current,e!==null&&((W&4194048)===W?It!==null:(W&62914560)!==W&&!(W&536870912)||e!==It))throw ql=Dr,$h;t.flags|=8192}}function Go(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?ph():536870912,t.lanes|=e,Wi|=e)}function _l(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function wv(t,e,n){var i=e.pendingProps;switch(Yu(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return Se(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Qt(be),Yi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?Ht(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cf())),Se(e),null;case 26:return n=e.memoizedState,t===null?(Ht(e),n!==null?(Se(e),If(e,n)):(Se(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Ht(e),Se(e),If(e,n)):(Se(e),e.flags&=-16777217):(t.memoizedProps!==i&&Ht(e),Se(e),e.flags&=-16777217),null;case 27:ga(e),n=_n.current;var l=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ht(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return Se(e),null}t=kt.current,Cl(e)?rf(e):(t=bg(l,i,n),e.stateNode=t,Ht(e))}return Se(e),null;case 5:if(ga(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ht(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return Se(e),null}if(t=kt.current,Cl(e))rf(e);else{switch(l=qa(_n.current),t){case 1:t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?l.createElement(n,{is:i.is}):l.createElement(n)}}t[ze]=e,t[et]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=t;e:switch(Be(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ht(e)}}return Se(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Ht(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(A(166));if(t=_n.current,Cl(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,l=Ye,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}t[ze]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Mg(t.nodeValue,n)),t||Wn(e)}else t=qa(t).createTextNode(i),t[ze]=e,e.stateNode=t}return Se(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Cl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(A(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[ze]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),l=!1}else l=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Xt(e),e):(Xt(e),null)}if(Xt(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Go(e,e.updateQueue),Se(e),null;case 4:return Yi(),t===null&&gc(e.stateNode.containerInfo),Se(e),null;case 10:return Qt(e.type),Se(e),null;case 19:if(Ve(De),l=e.memoizedState,l===null)return Se(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)_l(l,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ra(t),o!==null){for(e.flags|=128,_l(l,!1),t=o.updateQueue,e.updateQueue=t,Go(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Fh(n,t),n=n.sibling;return Te(De,De.current&1|2),e.child}t=t.sibling}l.tail!==null&&Ut()>Ua&&(e.flags|=128,i=!0,_l(l,!1),e.lanes=4194304)}else{if(!i)if(t=Ra(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Go(e,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!ee)return Se(e),null}else 2*Ut()-l.renderingStartTime>Ua&&n!==536870912&&(e.flags|=128,i=!0,_l(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(t=l.last,t!==null?t.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ut(),e.sibling=null,t=De.current,Te(De,i?t&1|2:t&1),e):(Se(e),null);case 22:case 23:return Xt(e),Xu(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),n=e.updateQueue,n!==null&&Go(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ve(Xn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Qt(be),Se(e),null;case 25:return null;case 30:return null}throw Error(A(156,e.tag))}function kv(t,e){switch(Yu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qt(be),Yi(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ga(e),null;case 13:if(Xt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(De),null;case 4:return Yi(),null;case 10:return Qt(e.type),null;case 22:case 23:return Xt(e),Xu(),t!==null&&Ve(Xn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Qt(be),null;case 25:return null;default:return null}}function Fp(t,e){switch(Yu(e),e.tag){case 3:Qt(be),Yi();break;case 26:case 27:case 5:ga(e);break;case 4:Yi();break;case 13:Xt(e);break;case 19:Ve(De);break;case 10:Qt(e.type);break;case 22:case 23:Xt(e),Xu(),t!==null&&Ve(Xn);break;case 24:Qt(be)}}function Ao(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){i=void 0;var o=n.create,r=n.inst;i=o(),r.destroy=i}n=n.next}while(n!==l)}}catch(u){ce(e,e.return,u)}}function Un(t,e,n){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&t)===t){var r=i.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,l=e;var c=n,f=u;try{f()}catch(d){ce(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){ce(e,e.return,d)}}function Yp(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Qh(e,n)}catch(i){ce(t,t.return,i)}}}function Jp(t,e,n){n.props=ti(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ce(t,e,i)}}function Ol(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(l){ce(t,e,l)}}function bt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){ce(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){ce(t,e,l)}else n.current=null}function Zp(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){ce(t,t.return,l)}}function Js(t,e,n){try{var i=t.stateNode;jv(i,t.type,n,e),i[et]=e}catch(l){ce(t,t.return,l)}}function $p(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pn(t.type)||t.tag===4}function Zs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zr(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hs));else if(i!==4&&(i===27&&Pn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(zr(t,e,n),t=t.sibling;t!==null;)zr(t,e,n),t=t.sibling}function ka(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Pn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ka(t,e,n),t=t.sibling;t!==null;)ka(t,e,n),t=t.sibling}function Xp(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Be(e,i,n),e[ze]=t,e[et]=n}catch(o){ce(t,t.return,o)}}var Ft=!1,Ee=!1,$s=!1,Lf=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Uv(t,e){if(t=t.containerInfo,Xr=Ha,t=Vh(t),Gu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var r=0,u=-1,c=-1,f=0,d=0,m=t,h=null;t:for(;;){for(var g;m!==n||l!==0&&m.nodeType!==3||(u=r+l),m!==o||i!==0&&m.nodeType!==3||(c=r+i),m.nodeType===3&&(r+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===t)break t;if(h===n&&++f===l&&(u=r),h===o&&++d===i&&(c=r),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kr={focusedElem:t,selectionRange:n},Ha=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){switch(e=Ue,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,l=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var S=ti(n.type,l,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(S,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(C){ce(n,n.return,C)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Wr(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(A(163))}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function Kp(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:un(t,n),i&4&&Ao(5,n);break;case 1:if(un(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){ce(n,n.return,r)}else{var l=ti(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){ce(n,n.return,r)}}i&64&&Yp(n),i&512&&Ol(n,n.return);break;case 3:if(un(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Qh(t,e)}catch(r){ce(n,n.return,r)}}break;case 27:e===null&&i&4&&Xp(n);case 26:case 5:un(t,n),e===null&&i&4&&Zp(n),i&512&&Ol(n,n.return);break;case 12:un(t,n);break;case 13:un(t,n),i&4&&jp(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Hv.bind(null,n),aT(t,n))));break;case 22:if(i=n.memoizedState!==null||Ft,!i){e=e!==null&&e.memoizedState!==null||Ee,l=Ft;var o=Ee;Ft=i,(Ee=e)&&!o?cn(t,n,(n.subtreeFlags&8772)!==0):un(t,n),Ft=l,Ee=o}break;case 30:break;default:un(t,n)}}function Qp(t){var e=t.alternate;e!==null&&(t.alternate=null,Qp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Iu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ye=null,Qe=!1;function Ot(t,e,n){for(n=n.child;n!==null;)Wp(t,e,n),n=n.sibling}function Wp(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(ho,n)}catch{}switch(n.tag){case 26:Ee||bt(n,e),Ot(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ee||bt(n,e);var i=ye,l=Qe;Pn(n.type)&&(ye=n.stateNode,Qe=!1),Ot(t,e,n),Zl(n.stateNode),ye=i,Qe=l;break;case 5:Ee||bt(n,e);case 6:if(i=ye,l=Qe,ye=null,Ot(t,e,n),ye=i,Qe=l,ye!==null)if(Qe)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(n.stateNode)}catch(o){ce(n,e,o)}else try{ye.removeChild(n.stateNode)}catch(o){ce(n,e,o)}break;case 18:ye!==null&&(Qe?(t=ye,Zf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),uo(t)):Zf(ye,n.stateNode));break;case 4:i=ye,l=Qe,ye=n.stateNode.containerInfo,Qe=!0,Ot(t,e,n),ye=i,Qe=l;break;case 0:case 11:case 14:case 15:Ee||Un(2,n,e),Ee||Un(4,n,e),Ot(t,e,n);break;case 1:Ee||(bt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Jp(n,e,i)),Ot(t,e,n);break;case 21:Ot(t,e,n);break;case 22:Ee=(i=Ee)||n.memoizedState!==null,Ot(t,e,n),Ee=i;break;default:Ot(t,e,n)}}function jp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(n){ce(e,e.return,n)}}function Iv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Lf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Lf),e;default:throw Error(A(435,t.tag))}}function Xs(t,e){var n=Iv(t);e.forEach(function(i){var l=Ov.bind(null,t,i);n.has(i)||(n.add(i),i.then(l,l))})}function nt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],o=t,r=e,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(Pn(u.type)){ye=u.stateNode,Qe=!1;break e}break;case 5:ye=u.stateNode,Qe=!1;break e;case 3:case 4:ye=u.stateNode.containerInfo,Qe=!0;break e}u=u.return}if(ye===null)throw Error(A(160));Wp(o,r,l),ye=null,Qe=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)eg(e,t),e=e.sibling}var xt=null;function eg(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nt(e,t),it(t),i&4&&(Un(3,t,t.return),Ao(3,t),Un(5,t,t.return));break;case 1:nt(e,t),it(t),i&512&&(Ee||n===null||bt(n,n.return)),i&64&&Ft&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=xt;if(nt(e,t),it(t),i&512&&(Ee||n===null||bt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[yo]||o[ze]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),Be(o,i,n),o[ze]=t,Ie(o),i=o;break e;case"link":var r=Wf("link","href",l).get(i+(n.href||""));if(r){for(var u=0;u<r.length;u++)if(o=r[u],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(u,1);break t}}o=l.createElement(i),Be(o,i,n),l.head.appendChild(o);break;case"meta":if(r=Wf("meta","content",l).get(i+(n.content||""))){for(u=0;u<r.length;u++)if(o=r[u],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(u,1);break t}}o=l.createElement(i),Be(o,i,n),l.head.appendChild(o);break;default:throw Error(A(468,i))}o[ze]=t,Ie(o),i=o}t.stateNode=i}else jf(l,t.type,t.stateNode);else t.stateNode=Qf(l,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?jf(l,t.type,t.stateNode):Qf(l,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Js(t,t.memoizedProps,n.memoizedProps)}break;case 27:nt(e,t),it(t),i&512&&(Ee||n===null||bt(n,n.return)),n!==null&&i&4&&Js(t,t.memoizedProps,n.memoizedProps);break;case 5:if(nt(e,t),it(t),i&512&&(Ee||n===null||bt(n,n.return)),t.flags&32){l=t.stateNode;try{Zi(l,"")}catch(g){ce(t,t.return,g)}}i&4&&t.stateNode!=null&&(l=t.memoizedProps,Js(t,l,n!==null?n.memoizedProps:l)),i&1024&&($s=!0);break;case 6:if(nt(e,t),it(t),i&4){if(t.stateNode===null)throw Error(A(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){ce(t,t.return,g)}}break;case 3:if(ra=null,l=xt,xt=Ba(e.containerInfo),nt(e,t),xt=l,it(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{uo(e.containerInfo)}catch(g){ce(t,t.return,g)}$s&&($s=!1,tg(t));break;case 4:i=xt,xt=Ba(t.stateNode.containerInfo),nt(e,t),it(t),xt=i;break;case 12:nt(e,t),it(t);break;case 13:nt(e,t),it(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(mc=Ut()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xs(t,i)));break;case 22:l=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Ft,d=Ee;if(Ft=f||l,Ee=d||c,nt(e,t),Ee=d,Ft=f,it(t),i&8192)e:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||c||Ft||Ee||Fn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(o=c.stateNode,l)r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=c.stateNode;var m=c.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){ce(c,c.return,g)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(g){ce(c,c.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Xs(t,n))));break;case 19:nt(e,t),it(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xs(t,i)));break;case 30:break;case 21:break;default:nt(e,t),it(t)}}function it(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if($p(i)){n=i;break}i=i.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var l=n.stateNode,o=Zs(t);ka(t,o,l);break;case 5:var r=n.stateNode;n.flags&32&&(Zi(r,""),n.flags&=-33);var u=Zs(t);ka(t,u,r);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Zs(t);zr(t,f,c);break;default:throw Error(A(161))}}catch(d){ce(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;tg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function un(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Kp(t,e.alternate,e),e=e.sibling}function Fn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Un(4,e,e.return),Fn(e);break;case 1:bt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Jp(e,e.return,n),Fn(e);break;case 27:Zl(e.stateNode);case 26:case 5:bt(e,e.return),Fn(e);break;case 22:e.memoizedState===null&&Fn(e);break;case 30:Fn(e);break;default:Fn(e)}t=t.sibling}}function cn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=t,o=e,r=o.flags;switch(o.tag){case 0:case 11:case 15:cn(l,o,n),Ao(4,o);break;case 1:if(cn(l,o,n),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){ce(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)Kh(c[l],u)}catch(f){ce(i,i.return,f)}}n&&r&64&&Yp(o),Ol(o,o.return);break;case 27:Xp(o);case 26:case 5:cn(l,o,n),n&&i===null&&r&4&&Zp(o),Ol(o,o.return);break;case 12:cn(l,o,n);break;case 13:cn(l,o,n),n&&r&4&&jp(l,o);break;case 22:o.memoizedState===null&&cn(l,o,n),Ol(o,o.return);break;case 30:break;default:cn(l,o,n)}e=e.sibling}}function uc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Co(n))}function cc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Co(t))}function Nt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ng(t,e,n,i),e=e.sibling}function ng(t,e,n,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:Nt(t,e,n,i),l&2048&&Ao(9,e);break;case 1:Nt(t,e,n,i);break;case 3:Nt(t,e,n,i),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Co(t)));break;case 12:if(l&2048){Nt(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,r=o.id,u=o.onPostCommit;typeof u=="function"&&u(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){ce(e,e.return,c)}}else Nt(t,e,n,i);break;case 13:Nt(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,r=e.alternate,e.memoizedState!==null?o._visibility&2?Nt(t,e,n,i):Fl(t,e):o._visibility&2?Nt(t,e,n,i):(o._visibility|=2,Ti(t,e,n,i,(e.subtreeFlags&10256)!==0)),l&2048&&uc(r,e);break;case 24:Nt(t,e,n,i),l&2048&&cc(e.alternate,e);break;default:Nt(t,e,n,i)}}function Ti(t,e,n,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,r=e,u=n,c=i,f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(o,r,u,c,l),Ao(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?Ti(o,r,u,c,l):Fl(o,r):(d._visibility|=2,Ti(o,r,u,c,l)),l&&f&2048&&uc(r.alternate,r);break;case 24:Ti(o,r,u,c,l),l&&f&2048&&cc(r.alternate,r);break;default:Ti(o,r,u,c,l)}e=e.sibling}}function Fl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,l=i.flags;switch(i.tag){case 22:Fl(n,i),l&2048&&uc(i.alternate,i);break;case 24:Fl(n,i),l&2048&&cc(i.alternate,i);break;default:Fl(n,i)}e=e.sibling}}var Dl=8192;function di(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)ig(t),t=t.sibling}function ig(t){switch(t.tag){case 26:di(t),t.flags&Dl&&t.memoizedState!==null&&TT(xt,t.memoizedState,t.memoizedProps);break;case 5:di(t);break;case 3:case 4:var e=xt;xt=Ba(t.stateNode.containerInfo),di(t),xt=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Dl,Dl=16777216,di(t),Dl=e):di(t));break;default:di(t)}}function lg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function El(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ue=i,ag(i,t)}lg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)og(t),t=t.sibling}function og(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Un(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,aa(t)):El(t);break;default:El(t)}}function aa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ue=i,ag(i,t)}lg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Un(8,e,e.return),aa(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,aa(e));break;default:aa(e)}t=t.sibling}}function ag(t,e){for(;Ue!==null;){var n=Ue;switch(n.tag){case 0:case 11:case 15:Un(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Co(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ue=i;else e:for(n=t;Ue!==null;){i=Ue;var l=i.sibling,o=i.return;if(Qp(i),i===n){Ue=null;break e}if(l!==null){l.return=o,Ue=l;break e}Ue=o}}}var Lv={getCacheForType:function(t){var e=He(be),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Vv=typeof WeakMap=="function"?WeakMap:Map,ie=0,de=null,X=null,W=0,ne=0,lt=null,Cn=!1,fl=!1,fc=!1,tn=0,xe=0,In=0,Kn=0,dc=0,yt=0,Wi=0,Yl=null,We=null,Hr=!1,mc=0,Ua=1/0,Ia=null,Mn=null,qe=0,Nn=null,ji=null,Hi=0,Or=0,Fr=null,sg=null,Jl=0,Yr=null;function rt(){if(ie&2&&W!==0)return W&-W;if(q.T!==null){var t=$i;return t!==0?t:pc()}return vh()}function rg(){yt===0&&(yt=!(W&536870912)||ee?hh():536870912);var t=Tt.current;return t!==null&&(t.flags|=32),yt}function ut(t,e,n){(t===de&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(el(t,0),xn(t,W,yt,!1)),go(t,n),(!(ie&2)||t!==de)&&(t===de&&(!(ie&2)&&(Kn|=n),xe===4&&xn(t,W,yt,!1)),qt(t))}function ug(t,e,n){if(ie&6)throw Error(A(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||po(t,e),l=i?Bv(t,e):Ks(t,e,!0),o=i;do{if(l===0){fl&&!i&&xn(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!Pv(n)){l=Ks(t,e,!1),o=!1;continue}if(l===2){if(o=e,t.errorRecoveryDisabledLanes&o)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var u=t;l=Yl;var c=u.current.memoizedState.isDehydrated;if(c&&(el(u,r).flags|=256),r=Ks(u,r,!1),r!==2){if(fc&&!c){u.errorRecoveryDisabledLanes|=o,Kn|=o,l=4;break e}o=We,We=l,o!==null&&(We===null?We=o:We.push.apply(We,o))}l=r}if(o=!1,l!==2)continue}}if(l===1){el(t,0),xn(t,e,0,!0);break}e:{switch(i=t,o=l,o){case 0:case 1:throw Error(A(345));case 4:if((e&4194048)!==e)break;case 6:xn(i,e,yt,!Cn);break e;case 2:We=null;break;case 3:case 5:break;default:throw Error(A(329))}if((e&62914560)===e&&(l=mc+300-Ut(),10<l)){if(xn(i,e,yt,!Cn),ts(i,0,!0)!==0)break e;i.timeoutHandle=Rg(Vf.bind(null,i,n,We,Ia,Hr,e,yt,Kn,Wi,Cn,o,2,-0,0),l);break e}Vf(i,n,We,Ia,Hr,e,yt,Kn,Wi,Cn,o,0,-0,0)}}break}while(!0);qt(t)}function Vf(t,e,n,i,l,o,r,u,c,f,d,m,h,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(oo={stylesheets:null,count:0,unsuspend:vT},ig(e),m=ST(),m!==null)){t.cancelPendingCommit=m(qf.bind(null,t,e,o,n,i,l,r,u,c,d,1,h,g)),xn(t,o,r,!f);return}qf(t,e,o,n,i,l,r,u,c)}function Pv(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!ct(o(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xn(t,e,n,i){e&=~dc,e&=~Kn,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var l=e;0<l;){var o=31-st(l),r=1<<o;i[o]=-1,l&=~r}n!==0&&gh(t,n,e)}function fs(){return ie&6?!0:(Mo(0),!1)}function hc(){if(X!==null){if(ne===0)var t=X.return;else t=X,$t=ui=null,ec(t),zi=null,no=0,t=X;for(;t!==null;)Fp(t.alternate,t),t=t.return;X=null}}function el(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,tT(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),hc(),de=t,X=n=Kt(t.current,null),W=e,ne=0,lt=null,Cn=!1,fl=po(t,e),fc=!1,Wi=yt=dc=Kn=In=xe=0,We=Yl=null,Hr=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var l=31-st(i),o=1<<l;e|=t[l],i&=~o}return tn=e,os(),n}function cg(t,e){Z=null,q.H=Na,e===xo||e===ss?(e=hf(),ne=3):e===$h?(e=hf(),ne=4):ne=e===qp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,lt=e,X===null&&(xe=1,Da(t,gt(e,t.current)))}function fg(){var t=q.H;return q.H=Na,t===null?Na:t}function dg(){var t=q.A;return q.A=Lv,t}function Jr(){xe=4,Cn||(W&4194048)!==W&&Tt.current!==null||(fl=!0),!(In&134217727)&&!(Kn&134217727)||de===null||xn(de,W,yt,!1)}function Ks(t,e,n){var i=ie;ie|=2;var l=fg(),o=dg();(de!==t||W!==e)&&(Ia=null,el(t,e)),e=!1;var r=xe;e:do try{if(ne!==0&&X!==null){var u=X,c=lt;switch(ne){case 8:hc(),r=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(e=!0);var f=ne;if(ne=0,lt=null,Ui(t,u,c,f),n&&fl){r=0;break e}break;default:f=ne,ne=0,lt=null,Ui(t,u,c,f)}}qv(),r=xe;break}catch(d){cg(t,d)}while(!0);return e&&t.shellSuspendCounter++,$t=ui=null,ie=i,q.H=l,q.A=o,X===null&&(de=null,W=0,os()),r}function qv(){for(;X!==null;)mg(X)}function Bv(t,e){var n=ie;ie|=2;var i=fg(),l=dg();de!==t||W!==e?(Ia=null,Ua=Ut()+500,el(t,e)):fl=po(t,e);e:do try{if(ne!==0&&X!==null){e=X;var o=lt;t:switch(ne){case 1:ne=0,lt=null,Ui(t,e,o,1);break;case 2:case 9:if(mf(o)){ne=0,lt=null,Pf(e);break}e=function(){ne!==2&&ne!==9||de!==t||(ne=7),qt(t)},o.then(e,e);break e;case 3:ne=7;break e;case 4:ne=5;break e;case 7:mf(o)?(ne=0,lt=null,Pf(e)):(ne=0,lt=null,Ui(t,e,o,7));break;case 5:var r=null;switch(X.tag){case 26:r=X.memoizedState;case 5:case 27:var u=X;if(!r||kg(r)){ne=0,lt=null;var c=u.sibling;if(c!==null)X=c;else{var f=u.return;f!==null?(X=f,ds(f)):X=null}break t}}ne=0,lt=null,Ui(t,e,o,5);break;case 6:ne=0,lt=null,Ui(t,e,o,6);break;case 8:hc(),xe=6;break e;default:throw Error(A(462))}}Gv();break}catch(d){cg(t,d)}while(!0);return $t=ui=null,q.H=i,q.A=l,ie=n,X!==null?0:(de=null,W=0,os(),xe)}function Gv(){for(;X!==null&&!r0();)mg(X)}function mg(t){var e=Op(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?ds(t):X=e}function Pf(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Df(n,e,e.pendingProps,e.type,void 0,W);break;case 11:e=Df(n,e,e.pendingProps,e.type.render,e.ref,W);break;case 5:ec(e);default:Fp(n,e),e=X=Fh(e,tn),e=Op(n,e,tn)}t.memoizedProps=t.pendingProps,e===null?ds(t):X=e}function Ui(t,e,n,i){$t=ui=null,ec(e),zi=null,no=0;var l=e.return;try{if(bv(t,l,e,n,W)){xe=1,Da(t,gt(n,t.current)),X=null;return}}catch(o){if(l!==null)throw X=l,o;xe=1,Da(t,gt(n,t.current)),X=null;return}e.flags&32768?(ee||i===1?t=!0:fl||W&536870912?t=!1:(Cn=t=!0,(i===2||i===9||i===3||i===6)&&(i=Tt.current,i!==null&&i.tag===13&&(i.flags|=16384))),hg(e,t)):ds(e)}function ds(t){var e=t;do{if(e.flags&32768){hg(e,Cn);return}t=e.return;var n=wv(e.alternate,e,tn);if(n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);xe===0&&(xe=5)}function hg(t,e){do{var n=kv(t.alternate,t);if(n!==null){n.flags&=32767,X=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){X=t;return}X=t=n}while(t!==null);xe=6,X=null}function qf(t,e,n,i,l,o,r,u,c){t.cancelPendingCommit=null;do ms();while(qe!==0);if(ie&6)throw Error(A(327));if(e!==null){if(e===t.current)throw Error(A(177));if(o=e.lanes|e.childLanes,o|=zu,v0(t,n,o,r,u,c),t===de&&(X=de=null,W=0),ji=e,Nn=t,Hi=n,Or=o,Fr=l,sg=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Fv(ya,function(){return Tg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=q.T,q.T=null,l=te.p,te.p=2,r=ie,ie|=4;try{Uv(t,e,n)}finally{ie=r,te.p=l,q.T=i}}qe=1,pg(),gg(),yg()}}function pg(){if(qe===1){qe=0;var t=Nn,e=ji,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=q.T,q.T=null;var i=te.p;te.p=2;var l=ie;ie|=4;try{eg(e,t);var o=Kr,r=Vh(t.containerInfo),u=o.focusedElem,c=o.selectionRange;if(r!==u&&u&&u.ownerDocument&&Lh(u.ownerDocument.documentElement,u)){if(c!==null&&Gu(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var m=u.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var g=h.getSelection(),S=u.textContent.length,C=Math.min(c.start,S),E=c.end===void 0?C:Math.min(c.end,S);!g.extend&&C>E&&(r=E,E=C,C=r);var v=of(u,C),y=of(u,E);if(v&&y&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var T=m.createRange();T.setStart(v.node,v.offset),g.removeAllRanges(),C>E?(g.addRange(T),g.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),g.addRange(T))}}}}for(m=[],g=u;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<m.length;u++){var x=m[u];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}Ha=!!Xr,Kr=Xr=null}finally{ie=l,te.p=i,q.T=n}}t.current=e,qe=2}}function gg(){if(qe===2){qe=0;var t=Nn,e=ji,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=q.T,q.T=null;var i=te.p;te.p=2;var l=ie;ie|=4;try{Kp(t,e.alternate,e)}finally{ie=l,te.p=i,q.T=n}}qe=3}}function yg(){if(qe===4||qe===3){qe=0,u0();var t=Nn,e=ji,n=Hi,i=sg;e.subtreeFlags&10256||e.flags&10256?qe=5:(qe=0,ji=Nn=null,vg(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Mn=null),Uu(n),e=e.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=q.T,l=te.p,te.p=2,q.T=null;try{for(var o=t.onRecoverableError,r=0;r<i.length;r++){var u=i[r];o(u.value,{componentStack:u.stack})}}finally{q.T=e,te.p=l}}Hi&3&&ms(),qt(t),l=t.pendingLanes,n&4194090&&l&42?t===Yr?Jl++:(Jl=0,Yr=t):Jl=0,Mo(0)}}function vg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Co(e)))}function ms(t){return pg(),gg(),yg(),Tg()}function Tg(){if(qe!==5)return!1;var t=Nn,e=Or;Or=0;var n=Uu(Hi),i=q.T,l=te.p;try{te.p=32>n?32:n,q.T=null,n=Fr,Fr=null;var o=Nn,r=Hi;if(qe=0,ji=Nn=null,Hi=0,ie&6)throw Error(A(331));var u=ie;if(ie|=4,og(o.current),ng(o,o.current,r,n),ie=u,Mo(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(ho,o)}catch{}return!0}finally{te.p=l,q.T=i,vg(t,e)}}function Bf(t,e,n){e=gt(n,e),e=qr(t.stateNode,e,2),t=An(t,e,2),t!==null&&(go(t,2),qt(t))}function ce(t,e,n){if(t.tag===3)Bf(t,t,n);else for(;e!==null;){if(e.tag===3){Bf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Mn===null||!Mn.has(i))){t=gt(n,t),n=Vp(2),i=An(e,n,2),i!==null&&(Pp(n,i,e,t),go(i,2),qt(i));break}}e=e.return}}function Qs(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Vv;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(n)||(fc=!0,l.add(n),t=zv.bind(null,t,e,n),e.then(t,t))}function zv(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,de===t&&(W&n)===n&&(xe===4||xe===3&&(W&62914560)===W&&300>Ut()-mc?!(ie&2)&&el(t,0):dc|=n,Wi===W&&(Wi=0)),qt(t)}function Sg(t,e){e===0&&(e=ph()),t=cl(t,e),t!==null&&(go(t,e),qt(t))}function Hv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sg(t,n)}function Ov(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(A(314))}i!==null&&i.delete(e),Sg(t,n)}function Fv(t,e){return wu(t,e)}var La=null,Si=null,Zr=!1,Va=!1,Ws=!1,Qn=0;function qt(t){t!==Si&&t.next===null&&(Si===null?La=Si=t:Si=Si.next=t),Va=!0,Zr||(Zr=!0,Jv())}function Mo(t,e){if(!Ws&&Va){Ws=!0;do for(var n=!1,i=La;i!==null;){if(t!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var r=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-st(42|t)+1)-1,o&=l&~(r&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Gf(i,o))}else o=W,o=ts(i,i===de?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||po(i,o)||(n=!0,Gf(i,o));i=i.next}while(n);Ws=!1}}function Yv(){Cg()}function Cg(){Va=Zr=!1;var t=0;Qn!==0&&(eT()&&(t=Qn),Qn=0);for(var e=Ut(),n=null,i=La;i!==null;){var l=i.next,o=xg(i,e);o===0?(i.next=null,n===null?La=l:n.next=l,l===null&&(Si=n)):(n=i,(t!==0||o&3)&&(Va=!0)),i=l}Mo(t)}function xg(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,l=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var r=31-st(o),u=1<<r,c=l[r];c===-1?(!(u&n)||u&i)&&(l[r]=y0(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}if(e=de,n=W,n=ts(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Es(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||po(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Es(i),Uu(n)){case 2:case 8:n=dh;break;case 32:n=ya;break;case 268435456:n=mh;break;default:n=ya}return i=_g.bind(null,t),n=wu(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Es(i),t.callbackPriority=2,t.callbackNode=null,2}function _g(t,e){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ms()&&t.callbackNode!==n)return null;var i=W;return i=ts(t,t===de?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(ug(t,i,e),xg(t,Ut()),t.callbackNode!=null&&t.callbackNode===n?_g.bind(null,t):null)}function Gf(t,e){if(ms())return null;ug(t,e,!0)}function Jv(){nT(function(){ie&6?wu(fh,Yv):Cg()})}function pc(){return Qn===0&&(Qn=hh()),Qn}function zf(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wo(""+t)}function Hf(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Zv(t,e,n,i,l){if(e==="submit"&&n&&n.stateNode===l){var o=zf((l[et]||null).action),r=i.submitter;r&&(e=(e=r[et]||null)?zf(e.formAction):r.getAttribute("formAction"),e!==null&&(o=e,r=null));var u=new ns("action","action",null,i,l);t.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qn!==0){var c=r?Hf(l,r):new FormData(l);Vr(n,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=r?Hf(l,r):new FormData(l),Vr(n,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var js=0;js<Er.length;js++){var er=Er[js],$v=er.toLowerCase(),Xv=er[0].toUpperCase()+er.slice(1);Et($v,"on"+Xv)}Et(qh,"onAnimationEnd");Et(Bh,"onAnimationIteration");Et(Gh,"onAnimationStart");Et("dblclick","onDoubleClick");Et("focusin","onFocus");Et("focusout","onBlur");Et(dv,"onTransitionRun");Et(mv,"onTransitionStart");Et(hv,"onTransitionCancel");Et(zh,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Eg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var r=i.length-1;0<=r;r--){var u=i[r],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){ba(d)}l.currentTarget=null,o=c}else for(r=0;r<i.length;r++){if(u=i[r],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){ba(d)}l.currentTarget=null,o=c}}}}function $(t,e){var n=e[yr];n===void 0&&(n=e[yr]=new Set);var i=t+"__bubble";n.has(i)||(Ag(e,t,2,!1),n.add(i))}function tr(t,e,n){var i=0;e&&(i|=4),Ag(n,t,i,e)}var zo="_reactListening"+Math.random().toString(36).slice(2);function gc(t){if(!t[zo]){t[zo]=!0,Th.forEach(function(n){n!=="selectionchange"&&(Kv.has(n)||tr(n,!1,t),tr(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zo]||(e[zo]=!0,tr("selectionchange",!1,e))}}function Ag(t,e,n,i){switch(Pg(e)){case 2:var l=_T;break;case 8:l=ET;break;default:l=Sc}n=l.bind(null,e,n,t),l=void 0,!Cr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function nr(t,e,n,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var u=i.stateNode.containerInfo;if(u===l)break;if(r===4)for(r=i.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;u!==null;){if(r=Ei(u),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){i=o=r;continue e}u=u.parentNode}}i=i.return}Nh(function(){var f=o,d=Vu(n),m=[];e:{var h=Hh.get(t);if(h!==void 0){var g=ns,S=t;switch(t){case"keypress":if(ea(n)===0)break e;case"keydown":case"keyup":g=F0;break;case"focusin":S="focus",g=ks;break;case"focusout":S="blur",g=ks;break;case"beforeblur":case"afterblur":g=ks;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=k0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Z0;break;case qh:case Bh:case Gh:g=L0;break;case zh:g=X0;break;case"scroll":case"scrollend":g=D0;break;case"wheel":g=Q0;break;case"copy":case"cut":case"paste":g=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Kc;break;case"toggle":case"beforetoggle":g=j0}var C=(e&4)!==0,E=!C&&(t==="scroll"||t==="scrollend"),v=C?h!==null?h+"Capture":null:h;C=[];for(var y=f,T;y!==null;){var x=y;if(T=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||T===null||v===null||(x=Ql(y,v),x!=null&&C.push(lo(y,x,T))),E)break;y=y.return}0<C.length&&(h=new g(h,S,null,n,d),m.push({event:h,listeners:C}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Sr&&(S=n.relatedTarget||n.fromElement)&&(Ei(S)||S[rl]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=f,S=S?Ei(S):null,S!==null&&(E=mo(S),C=S.tag,S!==E||C!==5&&C!==27&&C!==6)&&(S=null)):(g=null,S=f),g!==S)){if(C=$c,x="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=Kc,x="onPointerLeave",v="onPointerEnter",y="pointer"),E=g==null?h:bl(g),T=S==null?h:bl(S),h=new C(x,y+"leave",g,n,d),h.target=E,h.relatedTarget=T,x=null,Ei(d)===f&&(C=new C(v,y+"enter",S,n,d),C.target=T,C.relatedTarget=E,x=C),E=x,g&&S)t:{for(C=g,v=S,y=0,T=C;T;T=mi(T))y++;for(T=0,x=v;x;x=mi(x))T++;for(;0<y-T;)C=mi(C),y--;for(;0<T-y;)v=mi(v),T--;for(;y--;){if(C===v||v!==null&&C===v.alternate)break t;C=mi(C),v=mi(v)}C=null}else C=null;g!==null&&Of(m,h,g,C,!1),S!==null&&E!==null&&Of(m,E,S,C,!0)}}e:{if(h=f?bl(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=ef;else if(jc(h))if(Uh)_=uv;else{_=sv;var b=av}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Lu(f.elementType)&&(_=ef):_=rv;if(_&&(_=_(t,f))){kh(m,_,n,d);break e}b&&b(t,h,f),t==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&Tr(h,"number",h.value)}switch(b=f?bl(f):window,t){case"focusin":(jc(b)||b.contentEditable==="true")&&(Ni=b,xr=f,Vl=null);break;case"focusout":Vl=xr=Ni=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,af(m,n,d);break;case"selectionchange":if(fv)break;case"keydown":case"keyup":af(m,n,d)}var N;if(Bu)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Mi?Dh(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(bh&&n.locale!=="ko"&&(Mi||M!=="onCompositionStart"?M==="onCompositionEnd"&&Mi&&(N=Rh()):(Sn=d,Pu="value"in Sn?Sn.value:Sn.textContent,Mi=!0)),b=Pa(f,M),0<b.length&&(M=new Xc(M,t,null,n,d),m.push({event:M,listeners:b}),N?M.data=N:(N=wh(n),N!==null&&(M.data=N)))),(N=tv?nv(t,n):iv(t,n))&&(M=Pa(f,"onBeforeInput"),0<M.length&&(b=new Xc("onBeforeInput","beforeinput",null,n,d),m.push({event:b,listeners:M}),b.data=N)),Zv(m,t,f,n,d)}Eg(m,e)})}function lo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pa(t,e){for(var n=e+"Capture",i=[];t!==null;){var l=t,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=Ql(t,n),l!=null&&i.unshift(lo(t,l,o)),l=Ql(t,e),l!=null&&i.push(lo(t,l,o))),t.tag===3)return i;t=t.return}return[]}function mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Of(t,e,n,i,l){for(var o=e._reactName,r=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=Ql(n,o),f!=null&&r.unshift(lo(n,f,c))):l||(f=Ql(n,o),f!=null&&r.push(lo(n,f,c)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var Qv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function Ff(t){return(typeof t=="string"?t:""+t).replace(Qv,`
`).replace(Wv,"")}function Mg(t,e){return e=Ff(e),Ff(t)===e}function hs(){}function ae(t,e,n,i,l,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Zi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Zi(t,""+i);break;case"className":Io(t,"class",i);break;case"tabIndex":Io(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Io(t,n,i);break;case"style":Mh(t,i,o);break;case"data":if(e!=="object"){Io(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Wo(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&ae(t,e,"name",l.name,l,null),ae(t,e,"formEncType",l.formEncType,l,null),ae(t,e,"formMethod",l.formMethod,l,null),ae(t,e,"formTarget",l.formTarget,l,null)):(ae(t,e,"encType",l.encType,l,null),ae(t,e,"method",l.method,l,null),ae(t,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Wo(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=hs);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Wo(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":$("beforetoggle",t),$("toggle",t),Qo(t,"popover",i);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Qo(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=R0.get(n)||n,Qo(t,n,i))}}function $r(t,e,n,i,l,o){switch(n){case"style":Mh(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Zi(t,i):(typeof i=="number"||typeof i=="bigint")&&Zi(t,""+i);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"onClick":i!=null&&(t.onclick=hs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sh.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),o=t[et]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,l);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Qo(t,n,i)}}}function Be(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",t),$("load",t);var i=!1,l=!1,o;for(o in n)if(n.hasOwnProperty(o)){var r=n[o];if(r!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:ae(t,e,o,r,n,null)}}l&&ae(t,e,"srcSet",n.srcSet,n,null),i&&ae(t,e,"src",n.src,n,null);return;case"input":$("invalid",t);var u=o=r=l=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":l=d;break;case"type":r=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,e));break;default:ae(t,e,i,d,n,null)}}_h(t,o,u,c,f,r,l,!1),va(t);return;case"select":$("invalid",t),i=r=o=null;for(l in n)if(n.hasOwnProperty(l)&&(u=n[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":r=u;break;case"multiple":i=u;default:ae(t,e,l,u,n,null)}e=o,n=r,t.multiple=!!i,e!=null?Vi(t,!!i,e,!1):n!=null&&Vi(t,!!i,n,!0);return;case"textarea":$("invalid",t),o=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(A(91));break;default:ae(t,e,r,u,n,null)}Ah(t,i,l,o),va(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ae(t,e,c,i,n,null)}return;case"dialog":$("beforetoggle",t),$("toggle",t),$("cancel",t),$("close",t);break;case"iframe":case"object":$("load",t);break;case"video":case"audio":for(i=0;i<io.length;i++)$(io[i],t);break;case"image":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"embed":case"source":case"link":$("error",t),$("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:ae(t,e,f,i,n,null)}return;default:if(Lu(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&$r(t,e,d,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&ae(t,e,u,i,n,null))}function jv(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,r=null,u=null,c=null,f=null,d=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(g)||ae(t,e,g,null,i,m)}}for(var h in i){var g=i[h];if(m=n[h],i.hasOwnProperty(h)&&(g!=null||m!=null))switch(h){case"type":o=g;break;case"name":l=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":r=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(A(137,e));break;default:g!==m&&ae(t,e,h,g,i,m)}}vr(t,r,u,c,f,d,o,l);return;case"select":g=r=u=h=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(o)||ae(t,e,o,null,i,c)}for(l in i)if(o=i[l],c=n[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":r=o;default:o!==c&&ae(t,e,l,o,i,c)}e=u,n=r,i=g,h!=null?Vi(t,!!n,h,!1):!!i!=!!n&&(e!=null?Vi(t,!!n,e,!0):Vi(t,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(u in n)if(l=n[u],n.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:ae(t,e,u,null,i,l)}for(r in i)if(l=i[r],o=n[r],i.hasOwnProperty(r)&&(l!=null||o!=null))switch(r){case"value":h=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:l!==o&&ae(t,e,r,l,i,o)}Eh(t,h,g);return;case"option":for(var S in n)if(h=n[S],n.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:ae(t,e,S,null,i,h)}for(c in i)if(h=i[c],g=n[c],i.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ae(t,e,c,h,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in n)h=n[C],n.hasOwnProperty(C)&&h!=null&&!i.hasOwnProperty(C)&&ae(t,e,C,null,i,h);for(f in i)if(h=i[f],g=n[f],i.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,e));break;default:ae(t,e,f,h,i,g)}return;default:if(Lu(e)){for(var E in n)h=n[E],n.hasOwnProperty(E)&&h!==void 0&&!i.hasOwnProperty(E)&&$r(t,e,E,void 0,i,h);for(d in i)h=i[d],g=n[d],!i.hasOwnProperty(d)||h===g||h===void 0&&g===void 0||$r(t,e,d,h,i,g);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!i.hasOwnProperty(v)&&ae(t,e,v,null,i,h);for(m in i)h=i[m],g=n[m],!i.hasOwnProperty(m)||h===g||h==null&&g==null||ae(t,e,m,h,i,g)}var Xr=null,Kr=null;function qa(t){return t.nodeType===9?t:t.ownerDocument}function Yf(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ng(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Qr(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ir=null;function eT(){var t=window.event;return t&&t.type==="popstate"?t===ir?!1:(ir=t,!0):(ir=null,!1)}var Rg=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(t){return Jf.resolve(null).then(t).catch(iT)}:Rg;function iT(t){setTimeout(function(){throw t})}function Pn(t){return t==="head"}function Zf(t,e){var n=e,i=0,l=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<i&&8>i){n=i;var r=t.ownerDocument;if(n&1&&Zl(r.documentElement),n&2&&Zl(r.body),n&4)for(n=r.head,Zl(n),r=n.firstChild;r;){var u=r.nextSibling,c=r.nodeName;r[yo]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=u}}if(l===0){t.removeChild(o),uo(e);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);uo(e)}function Wr(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wr(n),Iu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function lT(t,e,n,i){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[yo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=_t(t.nextSibling),t===null)break}return null}function oT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=_t(t.nextSibling),t===null))return null;return t}function jr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aT(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function _t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var eu=null;function $f(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function bg(t,e,n){switch(e=qa(n),t){case"html":if(t=e.documentElement,!t)throw Error(A(452));return t;case"head":if(t=e.head,!t)throw Error(A(453));return t;case"body":if(t=e.body,!t)throw Error(A(454));return t;default:throw Error(A(451))}}function Zl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Iu(t)}var St=new Map,Xf=new Set;function Ba(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ln=te.d;te.d={f:sT,r:rT,D:uT,C:cT,L:fT,m:dT,X:hT,S:mT,M:pT};function sT(){var t=ln.f(),e=fs();return t||e}function rT(t){var e=ul(t);e!==null&&e.tag===5&&e.type==="form"?xp(e):ln.r(t)}var dl=typeof document>"u"?null:document;function Dg(t,e,n){var i=dl;if(i&&typeof e=="string"&&e){var l=pt(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Xf.has(l)||(Xf.add(l),t={rel:t,crossOrigin:n,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),Be(e,"link",t),Ie(e),i.head.appendChild(e)))}}function uT(t){ln.D(t),Dg("dns-prefetch",t,null)}function cT(t,e){ln.C(t,e),Dg("preconnect",t,e)}function fT(t,e,n){ln.L(t,e,n);var i=dl;if(i&&t&&e){var l='link[rel="preload"][as="'+pt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+pt(n.imageSizes)+'"]')):l+='[href="'+pt(t)+'"]';var o=l;switch(e){case"style":o=tl(t);break;case"script":o=ml(t)}St.has(o)||(t=pe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),St.set(o,t),i.querySelector(l)!==null||e==="style"&&i.querySelector(No(o))||e==="script"&&i.querySelector(Ro(o))||(e=i.createElement("link"),Be(e,"link",t),Ie(e),i.head.appendChild(e)))}}function dT(t,e){ln.m(t,e);var n=dl;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+pt(i)+'"][href="'+pt(t)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ml(t)}if(!St.has(o)&&(t=pe({rel:"modulepreload",href:t},e),St.set(o,t),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ro(o)))return}i=n.createElement("link"),Be(i,"link",t),Ie(i),n.head.appendChild(i)}}}function mT(t,e,n){ln.S(t,e,n);var i=dl;if(i&&t){var l=Li(i).hoistableStyles,o=tl(t);e=e||"default";var r=l.get(o);if(!r){var u={loading:0,preload:null};if(r=i.querySelector(No(o)))u.loading=5;else{t=pe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=St.get(o))&&yc(t,n);var c=r=i.createElement("link");Ie(c),Be(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,sa(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:u},l.set(o,r)}}}function hT(t,e){ln.X(t,e);var n=dl;if(n&&t){var i=Li(n).hoistableScripts,l=ml(t),o=i.get(l);o||(o=n.querySelector(Ro(l)),o||(t=pe({src:t,async:!0},e),(e=St.get(l))&&vc(t,e),o=n.createElement("script"),Ie(o),Be(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function pT(t,e){ln.M(t,e);var n=dl;if(n&&t){var i=Li(n).hoistableScripts,l=ml(t),o=i.get(l);o||(o=n.querySelector(Ro(l)),o||(t=pe({src:t,async:!0,type:"module"},e),(e=St.get(l))&&vc(t,e),o=n.createElement("script"),Ie(o),Be(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Kf(t,e,n,i){var l=(l=_n.current)?Ba(l):null;if(!l)throw Error(A(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=tl(n.href),n=Li(l).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=tl(n.href);var o=Li(l).hoistableStyles,r=o.get(t);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,r),(o=l.querySelector(No(t)))&&!o._p&&(r.instance=o,r.state.loading=5),St.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},St.set(t,n),o||gT(l,t,n,r.state))),e&&i===null)throw Error(A(528,""));return r}if(e&&i!==null)throw Error(A(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ml(n),n=Li(l).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,t))}}function tl(t){return'href="'+pt(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function wg(t){return pe({},t,{"data-precedence":t.precedence,precedence:null})}function gT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Be(e,"link",n),Ie(e),t.head.appendChild(e))}function ml(t){return'[src="'+pt(t)+'"]'}function Ro(t){return"script[async]"+t}function Qf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+pt(n.href)+'"]');if(i)return e.instance=i,Ie(i),i;var l=pe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ie(i),Be(i,"style",l),sa(i,n.precedence,t),e.instance=i;case"stylesheet":l=tl(n.href);var o=t.querySelector(No(l));if(o)return e.state.loading|=4,e.instance=o,Ie(o),o;i=wg(n),(l=St.get(l))&&yc(i,l),o=(t.ownerDocument||t).createElement("link"),Ie(o);var r=o;return r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Be(o,"link",i),e.state.loading|=4,sa(o,n.precedence,t),e.instance=o;case"script":return o=ml(n.src),(l=t.querySelector(Ro(o)))?(e.instance=l,Ie(l),l):(i=n,(l=St.get(o))&&(i=pe({},n),vc(i,l)),t=t.ownerDocument||t,l=t.createElement("script"),Ie(l),Be(l,"link",i),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(A(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,sa(i,n.precedence,t));return e.instance}function sa(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,r=0;r<i.length;r++){var u=i[r];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function yc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ra=null;function Wf(t,e,n){if(ra===null){var i=new Map,l=ra=new Map;l.set(n,i)}else l=ra,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var o=n[l];if(!(o[yo]||o[ze]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var r=o.getAttribute(e)||"";r=t+r;var u=i.get(r);u?u.push(o):i.set(r,[o])}}return i}function jf(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function yT(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function kg(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var oo=null;function vT(){}function TT(t,e,n){if(oo===null)throw Error(A(475));var i=oo;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=tl(n.href),o=t.querySelector(No(l));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Ga.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,Ie(o);return}o=t.ownerDocument||t,n=wg(n),(l=St.get(l))&&yc(n,l),o=o.createElement("link"),Ie(o);var r=o;r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Be(o,"link",n),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Ga.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function ST(){if(oo===null)throw Error(A(475));var t=oo;return t.stylesheets&&t.count===0&&tu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&tu(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ga(){if(this.count--,this.count===0){if(this.stylesheets)tu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var za=null;function tu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,za=new Map,e.forEach(CT,t),za=null,Ga.call(t))}function CT(t,e){if(!(e.state.loading&4)){var n=za.get(t);if(n)var i=n.get(null);else{n=new Map,za.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var r=l[o];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}l=e.instance,r=l.getAttribute("data-precedence"),o=n.get(r)||i,o===i&&n.set(null,l),n.set(r,l),this.count++,i=Ga.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var ao={$$typeof:Yt,Provider:null,Consumer:null,_currentValue:Yn,_currentValue2:Yn,_threadCount:0};function xT(t,e,n,i,l,o,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Ug(t,e,n,i,l,o,r,u,c,f,d,m){return t=new xT(t,e,n,r,u,c,f,m),e=1,o===!0&&(e|=24),o=ot(3,null,null,e),t.current=o,o.stateNode=t,e=Ju(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},$u(o),t}function Ig(t){return t?(t=Di,t):Di}function Lg(t,e,n,i,l,o){l=Ig(l),i.context===null?i.context=l:i.pendingContext=l,i=En(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=An(t,i,e),n!==null&&(ut(n,t,e),Bl(n,t,e))}function ed(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tc(t,e){ed(t,e),(t=t.alternate)&&ed(t,e)}function Vg(t){if(t.tag===13){var e=cl(t,67108864);e!==null&&ut(e,t,67108864),Tc(t,67108864)}}var Ha=!0;function _T(t,e,n,i){var l=q.T;q.T=null;var o=te.p;try{te.p=2,Sc(t,e,n,i)}finally{te.p=o,q.T=l}}function ET(t,e,n,i){var l=q.T;q.T=null;var o=te.p;try{te.p=8,Sc(t,e,n,i)}finally{te.p=o,q.T=l}}function Sc(t,e,n,i){if(Ha){var l=nu(i);if(l===null)nr(t,e,i,Oa,n),td(t,i);else if(MT(l,t,e,n,i))i.stopPropagation();else if(td(t,i),e&4&&-1<AT.indexOf(t)){for(;l!==null;){var o=ul(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var r=Hn(o.pendingLanes);if(r!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var c=1<<31-st(r);u.entanglements[1]|=c,r&=~c}qt(o),!(ie&6)&&(Ua=Ut()+500,Mo(0))}}break;case 13:u=cl(o,2),u!==null&&ut(u,o,2),fs(),Tc(o,2)}if(o=nu(i),o===null&&nr(t,e,i,Oa,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else nr(t,e,i,null,n)}}function nu(t){return t=Vu(t),Cc(t)}var Oa=null;function Cc(t){if(Oa=null,t=Ei(t),t!==null){var e=mo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=sh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Oa=t,null}function Pg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(c0()){case fh:return 2;case dh:return 8;case ya:case f0:return 32;case mh:return 268435456;default:return 32}default:return 32}}var iu=!1,Rn=null,bn=null,Dn=null,so=new Map,ro=new Map,vn=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function td(t,e){switch(t){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(e.pointerId)}}function Al(t,e,n,i,l,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=ul(e),e!==null&&Vg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function MT(t,e,n,i,l){switch(e){case"focusin":return Rn=Al(Rn,t,e,n,i,l),!0;case"dragenter":return bn=Al(bn,t,e,n,i,l),!0;case"mouseover":return Dn=Al(Dn,t,e,n,i,l),!0;case"pointerover":var o=l.pointerId;return so.set(o,Al(so.get(o)||null,t,e,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,ro.set(o,Al(ro.get(o)||null,t,e,n,i,l)),!0}return!1}function qg(t){var e=Ei(t.target);if(e!==null){var n=mo(e);if(n!==null){if(e=n.tag,e===13){if(e=sh(n),e!==null){t.blockedOn=e,T0(t.priority,function(){if(n.tag===13){var i=rt();i=ku(i);var l=cl(n,i);l!==null&&ut(l,n,i),Tc(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ua(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nu(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Sr=i,n.target.dispatchEvent(i),Sr=null}else return e=ul(n),e!==null&&Vg(e),t.blockedOn=n,!1;e.shift()}return!0}function nd(t,e,n){ua(t)&&n.delete(e)}function NT(){iu=!1,Rn!==null&&ua(Rn)&&(Rn=null),bn!==null&&ua(bn)&&(bn=null),Dn!==null&&ua(Dn)&&(Dn=null),so.forEach(nd),ro.forEach(nd)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,iu||(iu=!0,we.unstable_scheduleCallback(we.unstable_NormalPriority,NT)))}var Oo=null;function id(t){Oo!==t&&(Oo=t,we.unstable_scheduleCallback(we.unstable_NormalPriority,function(){Oo===t&&(Oo=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],l=t[e+2];if(typeof i!="function"){if(Cc(i||n)===null)continue;break}var o=ul(n);o!==null&&(t.splice(e,3),e-=3,Vr(o,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function uo(t){function e(c){return Ho(c,t)}Rn!==null&&Ho(Rn,t),bn!==null&&Ho(bn,t),Dn!==null&&Ho(Dn,t),so.forEach(e),ro.forEach(e);for(var n=0;n<vn.length;n++){var i=vn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&vn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],o=n[i+1],r=l[et]||null;if(typeof o=="function")r||id(n);else if(r){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,r=o[et]||null)u=r.formAction;else if(Cc(l)!==null)continue}else u=r.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),id(n)}}}function xc(t){this._internalRoot=t}ps.prototype.render=xc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));var n=e.current,i=rt();Lg(n,i,t,e,null,null)};ps.prototype.unmount=xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lg(t.current,2,null,t,null,null),fs(),e[rl]=null}};function ps(t){this._internalRoot=t}ps.prototype.unstable_scheduleHydration=function(t){if(t){var e=vh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&qg(t)}};var ld=oh.version;if(ld!=="19.1.0")throw Error(A(527,ld,"19.1.0"));te.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=i0(e),t=t!==null?rh(t):null,t=t===null?null:t.stateNode,t};var RT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{ho=Fo.inject(RT),at=Fo}catch{}}ja.createRoot=function(t,e){if(!ah(t))throw Error(A(299));var n=!1,i="",l=Up,o=Ip,r=Lp,u=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Ug(t,1,!1,null,null,n,i,l,o,r,u,null),t[rl]=e.current,gc(t),new xc(e)};ja.hydrateRoot=function(t,e,n){if(!ah(t))throw Error(A(299));var i=!1,l="",o=Up,r=Ip,u=Lp,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=Ug(t,1,!0,e,n??null,i,l,o,r,u,c,f),e.context=Ig(null),n=e.current,i=rt(),i=ku(i),l=En(i),l.callback=null,An(n,l,i),n=i,e.current.lanes=n,go(e,n),qt(e),t[rl]=e.current,gc(t),new ps(e)};ja.version="19.1.0";function Bg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bg)}catch(t){console.error(t)}}Bg(),jm.exports=ja;var bT=jm.exports;const Gg=Om(bT),_c=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.25 12h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1.5a.75.75 0 0 1 .75.75V3a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM12 21a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0v-.75a.75.75 0 0 1 .75-.75ZM4.06 4.06a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0Zm14.82 14.82a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0ZM1.5 12a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5H2.25A.75.75 0 0 1 1.5 12Zm21 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM4.06 19.94a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Zm14.82-14.82a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Z"})]}),DT=({activePage:t,setActivePage:e})=>{const n="bg-sky-100 dark:bg-sky-500/20 text-sky-600 dark:text-sky-300 shadow-inner",i="text-slate-500 hover:bg-slate-200/60 dark:text-slate-400 dark:hover:bg-white/10";return p.jsxs("header",{className:"text-center my-8 w-full max-w-5xl",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[p.jsx(_c,{className:"h-10 w-10 text-sky-500 dark:text-sky-400"}),p.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-700 via-slate-800 to-black dark:from-slate-200 dark:via-slate-300 dark:to-slate-400",children:"Customer Service"})]}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"ค้นหาและจัดการข้อมูลลูกค้าในที่เดียว"}),p.jsx("nav",{className:"mt-8 border-b border-slate-300/80 dark:border-white/10 flex justify-center",children:p.jsxs("div",{className:"flex bg-slate-200/50 dark:bg-black/20 p-1 rounded-xl gap-2",children:[p.jsx("button",{onClick:()=>e("analyzer"),className:`px-5 py-2 font-semibold text-sm rounded-lg transition-all duration-200 ${t==="analyzer"?n:i}`,"aria-current":t==="analyzer",children:"AI Analyzer"}),p.jsx("button",{onClick:()=>e("history"),className:`px-5 py-2 font-semibold text-sm rounded-lg transition-all duration-200 ${t==="history"?n:i}`,"aria-current":t==="history",children:"Sales History"})]})})]})};var je=(t=>(t.TEXT="text",t.AUDIO="audio",t))(je||{});const od=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),zg=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),wT=({onAnalyze:t,isLoading:e,currentInputMode:n,setCurrentInputMode:i,transcriptText:l,setTranscriptText:o,audioFile:r,setAudioFile:u,isDataConnected:c})=>{const f=g=>{g.target.files&&g.target.files[0]?u(g.target.files[0]):u(null)},d="bg-white/80 dark:bg-sky-500/10 backdrop-blur-sm text-sky-600 dark:text-sky-300 border-b-2 border-sky-500",m="border-b-2 border-transparent text-slate-500 hover:bg-slate-200/60 hover:border-slate-300 dark:text-slate-400 dark:hover:bg-white/10 dark:hover:border-transparent",h=e||!c||n===je.TEXT&&!l.trim()||n===je.AUDIO&&!r;return p.jsxs("div",{className:"p-6 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200 dark:border-white/10",children:[p.jsxs("div",{className:"mb-4 flex border-b border-slate-200 dark:border-white/10",children:[p.jsxs("button",{onClick:()=>i(je.TEXT),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===je.TEXT?d:m} disabled:opacity-50`,children:[p.jsx(zg,{className:"inline-block h-5 w-5 mr-2"}),"วางข้อความถอดเสียง"]}),p.jsxs("button",{onClick:()=>i(je.AUDIO),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===je.AUDIO?d:m} disabled:opacity-50`,children:[p.jsx(od,{className:"inline-block h-5 w-5 mr-2"}),"อัปโหลดไฟล์เสียง"]})]}),n===je.TEXT&&p.jsx("textarea",{value:l,onChange:g=>o(g.target.value),placeholder:"วางข้อความที่ถอดเสียงจากการขายที่นี่ (ภาษาไทย)...",rows:10,className:"w-full p-3 bg-white/50 dark:bg-black/20 border border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-50 backdrop-blur-sm",disabled:e}),n===je.AUDIO&&p.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-slate-400/60 dark:border-white/20 rounded-lg bg-white/20 dark:bg-black/20 backdrop-blur-sm",children:[p.jsx("input",{type:"file",accept:"audio/*",onChange:f,id:"audioUpload",className:"hidden",disabled:e}),p.jsxs("label",{htmlFor:"audioUpload",className:`cursor-pointer px-6 py-3 rounded-lg text-sm font-medium transition-colors duration-150 border
            ${e?"bg-slate-200 text-slate-500 border-slate-300":"bg-slate-50 hover:bg-slate-200/80 text-slate-700 border-slate-300 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 dark:border-white/20"}`,children:[p.jsx(od,{className:"inline-block h-5 w-5 mr-2"}),r?r.name:"เลือกไฟล์เสียง"]}),r&&p.jsxs("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-400",children:[r.name," (",(r.size/1024/1024).toFixed(2)," MB)"]}),p.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-500",children:"รองรับไฟล์ MP3, WAV, M4A, ฯลฯ"})]}),p.jsxs("button",{onClick:t,disabled:h,className:"mt-6 w-full flex items-center justify-center bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 disabled:transform-none",children:[p.jsx(_c,{className:"h-5 w-5 mr-2"}),e?"กำลังวิเคราะห์...":"เริ่มวิเคราะห์"]})]})},ad="ข้อมูลสินค้า",kT="AnalysisLog",lr="SalesData_Realtime",sd=t=>{if(t==null)return"";const e=String(t).replace(/\D/g,"");return e.startsWith("66")?"0"+e.substring(2):e},UT=t=>{if(!t)return null;if(t instanceof Date&&!isNaN(t.getTime()))return t;if(typeof t=="string"){const e=t.trim(),n=e.split("/");if(n.length===3){const l=parseInt(n[0],10),o=parseInt(n[1],10),r=parseInt(n[2],10);if(!isNaN(l)&&!isNaN(o)&&!isNaN(r)&&r>1e3){const u=new Date(r,o-1,l);if(u&&u.getFullYear()===r&&u.getMonth()===o-1&&u.getDate()===l)return u}}const i=new Date(e);return isNaN(i.getTime())?null:i}if(typeof t=="number"&&t>0){const e=new Date((t-25569)*86400*1e3);return isNaN(e.getTime())?null:e}return null},or=t=>{if(t==null||t==="")return;if(typeof t=="number")return t;const e=Number(String(t).replace(/,/g,""));return isNaN(e)?void 0:e},IT=async t=>{const e=[`'${ad}'!A:D`,`'${lr}'!A:Z`],i=(await hn.client.sheets.spreadsheets.values.batchGet({spreadsheetId:t,ranges:e})).result;if(!i.valueRanges||i.valueRanges.length<2)throw new Error(`Could not find data in the required sheets ('${ad}', '${lr}').`);const[l,o]=i.valueRanges,r=[],u=[];l.values&&l.values.length>1&&l.values.slice(1).forEach(m=>{const h=String(m[0]||"").trim(),g=String(m[1]||"").trim(),S=String(m[2]||"").trim(),C=String(m[3]||"").trim();h&&r.push(`- ${h}: ${g||"N/A"}${C?` (พนักงาน: ${C})`:""}`),C&&S&&u.push({name:C,phone:sd(S)})});const c={productContext:r.join(`
`),salespersons:u},f=[];if(o.values&&o.values.length>1){const d=o.values[0].map(S=>String(S).trim()),m={};d.forEach((S,C)=>m[S]=C);const h=["วันที่ขาย","เบอร์โทร"];if(!h.every(S=>d.includes(S)))throw new Error(`Sheet '${lr}' is missing required headers: ${h.join(", ")}`);o.values.slice(1).forEach(S=>{const C=UT(S[m.วันที่ขาย]),E=S[m.เบอร์โทร]?sd(S[m.เบอร์โทร]):null;C&&E&&f.push({วันที่ขาย:C,เบอร์โทร:E,ลำดับ:or(S[m.ลำดับ]),ช่องทางขาย:String(S[m.ช่องทางขาย]||""),ชำระเงิน:String(S[m.ชำระเงิน]||""),"ชื่อ Facebook":String(S[m["ชื่อ Facebook"]]||""),พนักงานขาย:String(S[m.พนักงานขาย]||""),สินค้า:String(S[m.สินค้า]||""),จำนวน:or(S[m.จำนวน]),ราคา:or(S[m.ราคา]),ชื่อผู้รับ:String(S[m.ชื่อผู้รับ]||""),ที่อยู่:String(S[m.ที่อยู่]||""),ตำบล:String(S[m.ตำบล]||""),อำเภอ:String(S[m.อำเภอ]||""),จังหวัด:String(S[m.จังหวัด]||""),รหัสไปรษณีย์:String(S[m.รหัสไปรษณีย์]||"")})})}return{salesData:f,contextData:c}},LT=async(t,e,n,i)=>{var o,r;if(!hn.auth2.getAuthInstance().isSignedIn.get())throw new Error("User is not signed in.");const l=[new Date().toISOString(),n??"N/A",e.situationalEvaluation.closingProbability,e.salespersonEvaluation.overallPerformanceScore,i??"N/A",e.strategicRecommendations.nextBestAction,e.situationalEvaluation.callOutcomeSummary,"https://ponuom.github.io/search/"];try{await hn.client.sheets.spreadsheets.values.append({spreadsheetId:t,range:`'${kT}'!A1`,valueInputOption:"USER_ENTERED",insertDataOption:"INSERT_ROWS",resource:{values:[l]}})}catch(u){throw console.error("Error writing to Google Sheet:",u),new Error(((r=(o=u.result)==null?void 0:o.error)==null?void 0:r.message)||"Failed to write to Google Sheet.")}},Hg=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125V6.375m1.125 13.125A1.125 1.125 0 0 0 4.5 18.375h15A1.125 1.125 0 0 0 20.625 19.5m0 0A1.125 1.125 0 0 1 19.5 20.625h-15A1.125 1.125 0 0 1 3.375 19.5m0 0V6.375m0 0A1.125 1.125 0 0 1 4.5 5.25h15A1.125 1.125 0 0 1 20.625 6.375m0 0V19.5m0-13.125A1.125 1.125 0 0 0 19.5 5.25h-15A1.125 1.125 0 0 0 3.375 6.375m17.25 0H3.375"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 12.75h17.25"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5.25v15.375"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5.25v15.375"})]}),lu=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),VT=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.311a6.01 6.01 0 0 1-1.5.189m1.5-.189a6.01 6.01 0 0 0 1.5.189m-1.5-3.75a6.01 6.01 0 0 1-1.5-.189m1.5.189a6.01 6.01 0 0 0 1.5-.189m-3.75-2.311a12.06 12.06 0 0 0 4.5 0m-4.5 0a12.06 12.06 0 0 1-4.5 0m0 0a12.06 12.06 0 0 0-4.5 0m4.5 0a12.06 12.06 0 0 1 4.5 0"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 0 1 6 0v2.25H9v-2.25Z"})]}),rd=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),$l=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),ca=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),ud=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.82m5.84-2.56a12.025 12.025 0 0 1-4.25 6.01M15.34 9.59a6 6 0 0 1-2.12 7.38m3.06-5.26a12.025 12.025 0 0 1-4.25 6.01M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18Zm0 0a8.949 8.949 0 0 0 5.46-2.09M12 3a8.949 8.949 0 0 1 5.46 2.09m-5.46 16v-4.82"})}),PT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3v11.25"})}),hi=({title:t,className:e=""})=>p.jsx("h2",{className:`text-sm font-bold text-slate-800 tracking-wider uppercase border-b-2 border-teal-500 pb-1 mb-3 ${e}`,children:t}),Yo=({label:t,value:e})=>p.jsxs("div",{className:"text-xs mb-1",children:[p.jsxs("span",{className:"font-semibold text-slate-600",children:[t,":"]}),p.jsx("span",{className:"text-slate-800 ml-1",children:e??"N/A"})]}),Jo=({label:t,value:e})=>p.jsxs("div",{className:"bg-slate-200/80 rounded-md px-2 py-1 flex justify-between items-center",children:[p.jsx("span",{className:"text-xs font-medium text-slate-700",children:t}),p.jsx("span",{className:"text-xs font-bold text-teal-700",children:e})]}),cd=({items:t,type:e})=>{const n=e==="strength",i=n?"text-teal-600":"text-rose-600",l=n?p.jsx($l,{className:`w-3.5 h-3.5 ${i}`}):p.jsx(ca,{className:`w-3.5 h-3.5 ${i}`});return p.jsx("ul",{className:"space-y-1.5",children:t&&t.length>0?t.map((o,r)=>p.jsxs("li",{className:"flex items-start text-xs",children:[p.jsx("span",{className:"mt-0.5 mr-1.5 shrink-0",children:l}),p.jsx("span",{className:"text-slate-700",children:o})]},r)):p.jsx("li",{className:"text-xs text-slate-500 italic ml-5",children:"ไม่มีข้อมูล"})})},qT=({result:t,callMetadata:e,salespersonName:n,onRendered:i})=>{const{salespersonEvaluation:l,customerEvaluation:o,situationalEvaluation:r,strategicRecommendations:u}=t;G.useEffect(()=>{const f=setTimeout(()=>{i()},500);return()=>clearTimeout(f)},[i]);const c=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e.sourcePhone;return p.jsx("div",{style:{fontFamily:"'Noto Sans Thai', sans-serif"},className:"w-[794px] bg-white text-black font-sans box-border text-slate-800 p-8",children:p.jsxs("div",{className:"flex gap-x-8",children:[p.jsxs("div",{className:"w-[65%]",children:[p.jsxs("header",{className:"mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:n??"Customer Interaction Report"}),p.jsx("p",{className:"text-md text-teal-600 font-medium",children:"รายงานสรุปข้อมูลลูกค้า"})]}),p.jsxs("section",{className:"mb-6",children:[p.jsx(hi,{title:"Executive Summary"}),p.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:r.callOutcomeSummary})]}),p.jsxs("section",{children:[p.jsx(hi,{title:"Strategic Recommendations"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Next Best Action"}),p.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:u.nextBestAction})]}),u.detailedStrategy.map((f,d)=>p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-bold text-slate-700",children:f.recommendation}),p.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Success Probability: ",f.successProbability,"%"]}),p.jsx("p",{className:"text-xs text-slate-600",children:f.reasoning})]},d))]})]})]}),p.jsxs("div",{className:"w-[35%]",children:[p.jsxs("section",{className:"mb-5",children:[p.jsx(hi,{title:"Call Details"}),p.jsx(Yo,{label:"Date",value:e==null?void 0:e.date}),p.jsx(Yo,{label:"Time",value:e==null?void 0:e.time}),p.jsx(Yo,{label:"Salesperson",value:n}),p.jsx(Yo,{label:"Customer Phone",value:c})]}),p.jsxs("section",{className:"mb-5",children:[p.jsx(hi,{title:"Key Metrics"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jo,{label:"Closing Probability",value:`${r.closingProbability}%`}),p.jsx(Jo,{label:"SP Performance",value:`${l.overallPerformanceScore}%`}),p.jsx(Jo,{label:"Customer Interest",value:`${o.interestLevel}/10`}),p.jsx(Jo,{label:"Closing Skill",value:`${l.closingSkillScore}/10`})]})]}),p.jsxs("section",{className:"mb-5",children:[p.jsx(hi,{title:"Salesperson Evaluation"}),p.jsx("h3",{className:"text-xs font-semibold text-slate-600 mb-1.5",children:"จุดแข็ง"}),p.jsx(cd,{items:l.strengths,type:"strength"}),p.jsx("h3",{className:"text-xs font-semibold text-slate-600 mt-3 mb-1.5",children:"จุดที่ควรปรับปรุง"}),p.jsx(cd,{items:l.areasForImprovement,type:"improvement"})]}),p.jsxs("section",{children:[p.jsx(hi,{title:"Customer Insights"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-xs text-slate-600",children:[p.jsx("strong",{className:"font-semibold",children:"Profile:"})," ",o.customerProfile]}),p.jsxs("p",{className:"text-xs text-slate-600",children:[p.jsx("strong",{className:"font-semibold",children:"Decision Factors:"})," ",o.decisionMakingFactors.join(", ")||"N/A"]})]})]})]})]})})},BT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),pi=({title:t,icon:e,children:n})=>p.jsxs("div",{className:"bg-white/50 dark:bg-black/20 backdrop-blur-xl p-4 sm:p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:[p.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center text-sky-600 dark:text-sky-400",children:[e&&p.jsx("span",{className:"mr-3 h-6 w-6",children:e}),t]}),p.jsx("div",{className:"space-y-4",children:n})]}),Zo=({value:t,max:e=10,label:n})=>{const i=t/e*100,l=i>70?"bg-green-500":i>40?"bg-yellow-500":"bg-red-500";return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between mb-1",children:[p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),p.jsxs("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:[t," / ",e]})]}),p.jsx("div",{className:"w-full bg-slate-200/70 dark:bg-slate-700/50 rounded-full h-2.5",children:p.jsx("div",{className:`${l} h-2.5 rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},ke=({label:t,value:e,className:n})=>p.jsxs("div",{className:`text-sm text-slate-600 dark:text-slate-400 ${n}`,children:[p.jsxs("strong",{className:"text-slate-800 dark:text-slate-200 font-medium",children:[t,":"]})," ",e??"N/A"]}),$o=({items:t,icon:e,className:n="text-green-500 dark:text-green-400",title:i})=>p.jsxs("div",{children:[i&&p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:i}),p.jsx("ul",{className:"list-none p-0 space-y-2",children:t&&t.length>0?t.map((l,o)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:`h-5 w-5 mr-2 mt-0.5 shrink-0 ${n}`,children:e}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:l})]},o)):p.jsx("li",{className:"text-slate-500 dark:text-slate-500 italic ml-7",children:"ไม่มีข้อมูล"})})]}),GT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:p.jsx("path",{fillRule:"evenodd",d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h1.148a1.5 1.5 0 0 1 1.465 1.175l.716 3.003a1.5 1.5 0 0 1-2.45 1.772l-.336-.297a11.026 11.026 0 0 0-3.21.323 1.5 1.5 0 0 1-.62.296l-1.12.503A1.5 1.5 0 0 1 2 9.172V5.513a1.5 1.5 0 0 1 0-1.002V3.5zm16.5-2.032a1.5 1.5 0 0 0-1.5 1.5v1.011c0 .338.036.67.106.99l-1.12.503a1.5 1.5 0 0 0-.62.296c-1.102-.19-2.18-.313-3.21-.323l-.336-.297a1.5 1.5 0 0 0-2.45 1.772l.716 3.003A1.5 1.5 0 0 0 8.852 18h2.296a1.5 1.5 0 0 0 1.465-1.175l.716-3.003a1.5 1.5 0 0 0-2.45-1.772l-.336.297c1.102.19 2.18.313 3.21.323l.336.297a1.5 1.5 0 0 0 2.45-1.772l-.716-3.003a1.5 1.5 0 0 0-1.447-1.296z",clipRule:"evenodd"})}),zT=({result:t,callMetadata:e,salespersonName:n,relevantHistory:i,isLoggedIn:l,googleSheetId:o})=>{const[r,u]=G.useState("คัดลอก CSV"),[c,f]=G.useState(!1),[d,m]=G.useState("idle"),{salespersonEvaluation:h,customerEvaluation:g,situationalEvaluation:S,strategicRecommendations:C,transcribedText:E}=t,v=n??(e?"ไม่พบชื่อ":null),y=M=>M==null?"":`"${String(M).replace(/"/g,'""')}"`,T=async()=>{const M=["วันที่โทร","เวลาโทร","ประเภทสาย","เบอร์ต้นทาง","เบอร์ปลายทาง","พนักงานขาย","SP Perf Score (%)","SP Strengths","SP Areas for Improvement","Cust Interest (1-10)","Cust Profile","Cust Pain Points","Cust Sentiment","Purchasing Behavior","Closing Probability (%)","Call Sentiment","Sales Stage","Call Outcome","Positive Signals","Negative Signals","Next Best Action","Suggested Offer","Detailed Strategy","Transcribed Text"],D=ge=>ge.map(re=>`${re.recommendation} (Success: ${re.successProbability}%)`).join("; "),w=ge=>(ge==null?void 0:ge.map(re=>`[${re.timestamp||"N/A"}] ${re.speaker}: ${re.utterance}`).join("; "))||"",P=ge=>ge?`Summary: ${ge.summary}; Freq: ${ge.buyingFrequency}; Volume: ${ge.typicalPurchaseVolume}; Price Sensitivity: ${ge.priceSensitivity}`:"",fe=[e==null?void 0:e.date,e==null?void 0:e.time,e==null?void 0:e.callType,e==null?void 0:e.sourcePhone,e==null?void 0:e.destinationPhone,v,h.overallPerformanceScore,h.strengths.join("; "),h.areasForImprovement.join("; "),g.interestLevel,g.customerProfile,g.painPointsIdentified.join("; "),g.customerSentiment,P(g.purchasingBehavior),S.closingProbability,S.callSentiment,S.currentSalesStage,S.callOutcomeSummary,S.positiveSignals.join("; "),S.negativeSignals.join("; "),C.nextBestAction,C.suggestedOffer,D(C.detailedStrategy),w(E)],Ge=[M.join(","),fe.map(y).join(",")].join(`
`);try{await navigator.clipboard.writeText(Ge),u("คัดลอกแล้ว!"),setTimeout(()=>u("คัดลอก CSV"),2e3)}catch{u("คัดลอกไม่สำเร็จ"),setTimeout(()=>u("คัดลอก CSV"),3e3)}},x=async()=>{if(!o){alert("กรุณาใส่ Google Sheet ID ก่อน");return}m("saving");try{const M=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e==null?void 0:e.sourcePhone;await LT(o,t,v,M),m("saved")}catch(M){console.error("Failed to save to sheet:",M),m("error")}},_=async()=>{f(!0);const M=document.createElement("div");M.style.position="fixed",M.style.left="0",M.style.top="0",M.style.zIndex="-1",M.style.opacity="0";const D=document.createElement("div");M.appendChild(D),document.body.appendChild(M);const w=Gg.createRoot(D);try{await new Promise(Gt=>{w.render(p.jsx(qT,{result:t,callMetadata:e,salespersonName:v,onRendered:Gt}))});const fe=(await ky(D,{scale:2.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),Ge=new wy("p","mm","a4"),ge=Ge.internal.pageSize.getWidth(),re=Ge.internal.pageSize.getHeight(),k=Ge.getImageProperties(fe),O=k.width/k.height;let B=ge,oe=ge/O;oe>re&&(oe=re,B=re*O);const me=(ge-B)/2,Bt=(re-oe)/2;Ge.addImage(fe,"PNG",me,Bt,B,oe);const At=e!=null&&e.originalFilename?`Analysis_Report_${e.originalFilename.split(".")[0]}.pdf`:"Analysis_Report.pdf";Ge.save(At)}catch(P){console.error("Failed to generate PDF",P)}finally{w.unmount(),document.body.removeChild(M),f(!1)}},b=()=>{switch(d){case"saving":return"กำลังบันทึก...";case"saved":return"บันทึกแล้ว!";case"error":return"บันทึกไม่สำเร็จ";default:return"บันทึกลง Sheet"}},N=M=>p.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap space-y-2 max-h-72 overflow-y-auto bg-black/5 dark:bg-black/20 p-3 rounded-lg border border-slate-200 dark:border-white/10 pr-2",children:M&&M.length>0?M.map((D,w)=>p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[D.timestamp&&p.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500 w-full sm:w-24 shrink-0 mb-0.5 sm:mb-0 sm:mr-2 text-left sm:text-right",children:["[",D.timestamp,"]"]}),p.jsxs("p",{className:`flex-grow ${D.timestamp?"":"sm:pl-0"}`,children:[p.jsxs("strong",{className:"text-sky-600 dark:text-sky-400",children:[D.speaker||"ไม่ระบุ",":"]})," ",D.utterance]})]},w)):p.jsx("p",{className:"text-slate-500 dark:text-slate-400 italic",children:"ไม่มีข้อมูลการถอดเสียง"})});return p.jsxs("div",{className:"mt-8 space-y-6 animate-fadeIn",children:[p.jsxs("div",{className:"flex justify-end gap-2 sm:gap-4 flex-wrap",children:[p.jsxs("button",{onClick:x,disabled:!l||d==="saving"||d==="saved",title:l?"บันทึกผลการวิเคราะห์ลง Google Sheet":"กรุณาลงชื่อเข้าใช้ด้วย Google เพื่อบันทึก",className:`font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border
            ${d==="saved"?"bg-green-500/20 text-green-700 dark:text-green-200 border-green-500/30":""}
            ${d==="error"?"bg-red-500/20 text-red-700 dark:text-red-200 border-red-500/30":""}
            ${d==="idle"||d==="saving"?"bg-green-500/20 hover:bg-green-500/30 text-green-700 dark:bg-green-600/20 dark:hover:bg-green-600/30 dark:text-green-200 border-green-500/30 hover:border-green-500/40":""}
            disabled:opacity-50 disabled:cursor-not-allowed`,children:[p.jsx(BT,{className:"h-5 w-5 mr-2"}),b()]}),p.jsxs("button",{onClick:T,className:"bg-slate-200/60 hover:bg-slate-300/60 text-slate-700 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-slate-300/80 dark:border-white/20 hover:border-slate-400/80 dark:hover:border-white/30",children:[p.jsx(Hg,{className:"h-5 w-5 mr-2"}),r]}),p.jsxs("button",{onClick:_,disabled:c,className:"bg-sky-500/20 hover:bg-sky-500/30 text-sky-700 dark:bg-sky-600/20 dark:hover:bg-sky-600/30 dark:text-sky-200 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-sky-500/30 hover:border-sky-500/40 disabled:opacity-50 disabled:cursor-wait",children:[p.jsx(PT,{className:"h-5 w-5 mr-2"}),c?"กำลังสร้าง PDF...":"ส่งออกเป็น PDF"]})]}),e&&p.jsx(pi,{title:"รายละเอียดการโทร",icon:p.jsx(GT,{className:"h-6 w-6"}),children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:[p.jsx(ke,{label:"วันที่",value:e.date}),p.jsx(ke,{label:"เวลา",value:e.time}),p.jsx(ke,{label:"ประเภท",value:e.callType}),p.jsx(ke,{label:"เบอร์ต้นทาง",value:e.sourcePhone}),p.jsx(ke,{label:"เบอร์ปลายทาง",value:e.destinationPhone}),p.jsx(ke,{label:"พนักงานขาย",value:v})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(pi,{title:"ประเมินสถานการณ์",icon:p.jsx(rd,{}),children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsxs("p",{className:"text-5xl font-bold text-sky-600 dark:text-sky-300",children:[S.closingProbability,"%"]}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"โอกาสในการปิดการขาย"})]}),p.jsx(ke,{label:"บรรยากาศการสนทนา",value:S.callSentiment}),p.jsx(ke,{label:"ขั้นตอนการขายปัจจุบัน",value:S.currentSalesStage}),p.jsx(ke,{label:"สรุปผลลัพธ์การโทร",value:S.callOutcomeSummary}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-white/10 mt-4",children:[p.jsx($o,{items:S.positiveSignals,icon:p.jsx($l,{}),className:"text-green-600 dark:text-green-400",title:"สัญญาณเชิงบวก"}),p.jsx($o,{items:S.negativeSignals,icon:p.jsx(ca,{}),className:"text-red-600 dark:text-red-400",title:"สัญญาณเชิงลบ"})]})]}),p.jsxs(pi,{title:"ประเมินพนักงานขาย",icon:p.jsx(lu,{}),children:[p.jsx(Zo,{value:h.overallPerformanceScore,max:100,label:"คะแนนประสิทธิภาพโดยรวม"}),p.jsx(Zo,{value:h.productKnowledgeScore,label:"ความรู้ในผลิตภัณฑ์"}),p.jsx(Zo,{value:h.closingSkillScore,label:"ทักษะการปิดการขาย"}),p.jsx(ke,{label:"สไตล์การสื่อสาร",value:h.communicationStyle,className:"mt-4"})]})]}),p.jsxs(pi,{title:"ประเมินลูกค้า",icon:p.jsx(lu,{className:"text-teal-500 dark:text-teal-400"}),children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"โปรไฟล์และ Sentiment"}),p.jsx(Zo,{value:g.interestLevel,label:"ระดับความสนใจ"}),p.jsx(ke,{label:"โปรไฟล์ลูกค้า",value:g.customerProfile,className:"mt-4"}),p.jsx(ke,{label:"ความรู้สึกของลูกค้า",value:g.customerSentiment})]}),p.jsxs("div",{children:[p.jsx($o,{items:g.painPointsIdentified,icon:p.jsx(ca,{}),className:"text-red-600 dark:text-red-400",title:"Pain Points ที่ระบุได้"}),p.jsx("div",{className:"mt-4",children:p.jsx($o,{items:g.decisionMakingFactors,icon:p.jsx($l,{}),className:"text-green-600 dark:text-green-400",title:"ปัจจัยในการตัดสินใจ"})})]}),g.purchasingBehavior&&p.jsxs("div",{className:"md:col-span-2 mt-4 pt-4 border-t border-slate-200 dark:border-white/10 space-y-2",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"พฤติกรรมการซื้อ (จากประวัติ)"}),p.jsx(ke,{label:"สรุปการซื้อ",value:g.purchasingBehavior.summary}),p.jsx(ke,{label:"ความถี่ในการซื้อ",value:g.purchasingBehavior.buyingFrequency}),p.jsx(ke,{label:"ปริมาณการซื้อปกติ",value:g.purchasingBehavior.typicalPurchaseVolume}),p.jsx(ke,{label:"ความอ่อนไหวต่อราคา",value:g.purchasingBehavior.priceSensitivity})]})]}),i&&i.length>0&&p.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-white/10",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"ประวัติการซื้อโดยละเอียด"}),p.jsx("div",{className:"overflow-x-auto max-h-64 bg-black/5 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-200/60 dark:bg-white/5 text-slate-700 dark:text-slate-300 sticky top-0 backdrop-blur-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"วันที่ขาย"}),p.jsx("th",{className:"px-4 py-2",children:"สินค้า"}),p.jsx("th",{className:"px-4 py-2",children:"ชื่อผู้รับ"}),p.jsx("th",{className:"px-4 py-2",children:"ที่อยู่"}),p.jsx("th",{className:"px-4 py-2",children:"จังหวัด"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"จำนวน"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-white/10",children:i.map((M,D)=>p.jsxs("tr",{className:"hover:bg-slate-200/40 dark:hover:bg-white/5",children:[p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:M.date||"-"}),p.jsx("td",{className:"px-4 py-2",children:M.product||"-"}),p.jsx("td",{className:"px-4 py-2",children:M.recipientName||"-"}),p.jsx("td",{className:"px-4 py-2 truncate max-w-xs",children:M.address||"-"}),p.jsx("td",{className:"px-4 py-2",children:M.province||"-"}),p.jsx("td",{className:"px-4 py-2 text-right",children:M.quantity!==void 0?M.quantity:"-"})]},D))})]})})]})]}),p.jsxs(pi,{title:"กลยุทธ์และคำแนะนำ",icon:p.jsx(ud,{}),children:[p.jsx(ke,{label:"Next Best Action",value:C.nextBestAction}),p.jsx(ke,{label:"ข้อเสนอแนะ",value:C.suggestedOffer}),p.jsxs("div",{className:"mt-4",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"กลยุทธ์โดยละเอียด:"}),p.jsx("div",{className:"space-y-3",children:C.detailedStrategy.map((M,D)=>p.jsxs("div",{className:"p-3 bg-white/50 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("p",{className:"font-semibold text-sky-700 dark:text-sky-300",children:M.recommendation}),p.jsxs("span",{className:"text-xs font-bold text-sky-800 dark:text-slate-200 bg-sky-200/70 dark:bg-sky-600/50 px-2 py-1 rounded-full",children:[M.successProbability,"% Success"]})]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:M.reasoning})]},D))})]})]}),E&&E.length>0&&p.jsx(pi,{title:"บทสนทนา",icon:p.jsx(zg,{}),children:N(E)}),p.jsxs("div",{style:{display:"none"},children:[p.jsx(VT,{})," ",p.jsx(rd,{})," ",p.jsx($l,{})," ",p.jsx(ca,{})," ",p.jsx(ud,{})]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
      `}})]})},Og=()=>p.jsxs("div",{className:"flex flex-col items-center justify-center my-10 p-6",children:[p.jsxs("svg",{className:"animate-spin h-12 w-12 text-sky-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-300 text-lg",children:"กำลังวิเคราะห์ข้อมูล กรุณารอสักครู่..."})]}),HT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),ou=({message:t})=>p.jsxs("div",{className:"my-6 p-4 bg-red-900/40 backdrop-blur-sm border border-red-700/60 text-red-300 rounded-lg flex items-start space-x-3 shadow-lg",children:[p.jsx(HT,{className:"h-6 w-6 text-red-400 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-red-200",children:"เกิดข้อผิดพลาด"}),p.jsx("p",{className:"text-sm",children:t})]})]}),OT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),Fg=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.243.096 3.222.261m3.478-.397L11.25 4.125M4.772 5.79L2.25 3m0 0a2.25 2.25 0 0 1 2.25-2.25h15A2.25 2.25 0 0 1 21.75 3m-19.5 0v.243a2.25 2.25 0 0 0 .167.807L4.772 5.79m14.456 0H4.772"})}),FT=({isLoading:t,googleSheetId:e,setGoogleSheetId:n,isConnected:i})=>{const l=()=>{n("")};return p.jsxs("div",{className:"mb-6 p-4 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl border border-slate-200 dark:border-white/10 shadow-lg",children:[p.jsx("h3",{className:"text-base sm:text-md font-semibold text-sky-600 dark:text-sky-400 mb-2",children:"เชื่อมต่อ Google Sheet (Real-time)"}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:["ใส่ ID ของ Google Sheet ที่มีชีทชื่อ ",p.jsx("b",{children:'"ข้อมูลสินค้า"'})," และ ",p.jsx("b",{children:'"SalesData_Realtime"'})," เพื่อให้ AI วิเคราะห์จากข้อมูลล่าสุดได้"]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(OT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),p.jsx("input",{type:"text",value:e,onChange:o=>n(o.target.value),placeholder:"วาง Google Sheet ID ที่นี่",disabled:t,className:"w-full pl-10 pr-4 py-2.5 bg-white/50 dark:bg-black/20 border border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-50","aria-label":"Google Sheet ID"})]}),e&&p.jsx("button",{onClick:l,disabled:t,className:"w-full sm:w-auto px-3 py-2.5 bg-slate-200 hover:bg-slate-300 dark:bg-white/10 dark:hover:bg-white/20 text-slate-600 dark:text-slate-300 text-sm font-medium rounded-lg transition-colors duration-150 disabled:opacity-50 flex items-center justify-center border border-slate-300 dark:border-white/20","aria-label":"ล้าง Sheet ID",children:p.jsx(Fg,{className:"h-5 w-5 shrink-0"})})]}),i&&p.jsxs("p",{className:"mt-2 text-xs text-green-600 dark:text-green-300 animate-fadeIn flex items-center",children:[p.jsx($l,{className:"h-4 w-4 mr-1.5"}),"เชื่อมต่อกับ Google Sheet สำเร็จแล้ว"]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }
      `}})]})};var j;(function(t){t.assertEqual=l=>{};function e(l){}t.assertIs=e;function n(l){throw new Error}t.assertNever=n,t.arrayToEnum=l=>{const o={};for(const r of l)o[r]=r;return o},t.getValidEnumValues=l=>{const o=t.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),r={};for(const u of o)r[u]=l[u];return t.objectValues(r)},t.objectValues=l=>t.objectKeys(l).map(function(o){return l[o]}),t.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&o.push(r);return o},t.find=(l,o)=>{for(const r of l)if(o(r))return r},t.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(r=>typeof r=="string"?`'${r}'`:r).join(o)}t.joinValues=i,t.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(j||(j={}));var fd;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(fd||(fd={}));const I=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mn=t=>{switch(typeof t){case"undefined":return I.undefined;case"string":return I.string;case"number":return Number.isNaN(t)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(t)?I.array:t===null?I.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?I.promise:typeof Map<"u"&&t instanceof Map?I.map:typeof Set<"u"&&t instanceof Set?I.set:typeof Date<"u"&&t instanceof Date?I.date:I.object;default:return I.unknown}},R=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class nn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const r of o.issues)if(r.code==="invalid_union")r.unionErrors.map(l);else if(r.code==="invalid_return_type")l(r.returnTypeError);else if(r.code==="invalid_arguments")l(r.argumentsError);else if(r.path.length===0)i._errors.push(n(r));else{let u=i,c=0;for(;c<r.path.length;){const f=r.path[c];c===r.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(r))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof nn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const l of this.issues)l.path.length>0?(n[l.path[0]]=n[l.path[0]]||[],n[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}nn.create=t=>new nn(t);const au=(t,e)=>{let n;switch(t.code){case R.invalid_type:t.received===I.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,j.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${j.joinValues(t.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${j.joinValues(t.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${j.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:j.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case R.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case R.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=e.defaultError,j.assertNever(t)}return{message:n}};let YT=au;function JT(){return YT}const ZT=t=>{const{data:e,path:n,errorMaps:i,issueData:l}=t,o=[...n,...l.path||[]],r={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(r,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function U(t,e){const n=JT(),i=ZT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===au?void 0:au].filter(l=>!!l)});t.common.issues.push(i)}class Ze{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const l of n){if(l.status==="aborted")return H;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const l of n){const o=await l.key,r=await l.value;i.push({key:o,value:r})}return Ze.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const l of n){const{key:o,value:r}=l;if(o.status==="aborted"||r.status==="aborted")return H;o.status==="dirty"&&e.dirty(),r.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof r.value<"u"||l.alwaysSet)&&(i[o.value]=r.value)}return{status:e.value,value:i}}}const H=Object.freeze({status:"aborted"}),wl=t=>({status:"dirty",value:t}),Ct=t=>({status:"valid",value:t}),dd=t=>t.status==="aborted",md=t=>t.status==="dirty",nl=t=>t.status==="valid",Fa=t=>typeof Promise<"u"&&t instanceof Promise;var L;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(L||(L={}));class Vt{constructor(e,n,i,l){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hd=(t,e)=>{if(nl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new nn(t.common.issues);return this._error=n,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:l}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(r,u)=>{const{message:c}=t;return r.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:r.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:l}}class K{get description(){return this._def.description}_getType(e){return mn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:mn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ze,ctx:{common:e.parent.common,data:e.data,parsedType:mn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Fa(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mn(e)},l=this._parseSync({data:e,path:i.path,parent:i});return hd(i,l)}"~validate"(e){var i,l;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mn(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return nl(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>nl(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mn(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(Fa(l)?l:Promise.resolve(l));return hd(i,o)}refine(e,n){const i=l=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(l):n;return this._refinement((l,o)=>{const r=e(l),u=()=>o.addIssue({code:R.custom,...i(l)});return typeof Promise<"u"&&r instanceof Promise?r.then(c=>c?!0:(u(),!1)):r?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof n=="function"?n(i,l):n),!1))}_refinement(e){return new ol({schema:this,typeName:z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return wn.create(this,this._def)}nullable(){return al.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lt.create(this)}promise(){return Xa.create(this,this._def)}or(e){return Ja.create([this,e],this._def)}and(e){return Za.create(this,e,this._def)}transform(e){return new ol({...Y(this._def),schema:this,typeName:z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new cu({...Y(this._def),innerType:this,defaultValue:n,typeName:z.ZodDefault})}brand(){return new gS({typeName:z.ZodBranded,type:this,...Y(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new fu({...Y(this._def),innerType:this,catchValue:n,typeName:z.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ec.create(this,e)}readonly(){return du.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $T=/^c[^\s-]{8,}$/i,XT=/^[0-9a-z]+$/,KT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,QT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WT=/^[a-z0-9_-]{21}$/i,jT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ar;const iS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Yg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uS=new RegExp(`^${Yg}$`);function Jg(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function cS(t){return new RegExp(`^${Jg(t)}$`)}function fS(t){let e=`${Yg}T${Jg(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function dS(t,e){return!!((e==="v4"||!e)&&iS.test(t)||(e==="v6"||!e)&&oS.test(t))}function mS(t,e){if(!jT.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function hS(t,e){return!!((e==="v4"||!e)&&lS.test(t)||(e==="v6"||!e)&&aS.test(t))}class Dt extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==I.string){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_type,expected:I.string,received:o.parsedType}),H}const i=new Ze;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const r=e.data.length>o.value,u=e.data.length<o.value;(r||u)&&(l=this._getOrReturnCtx(e,l),r?U(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&U(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")tS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"email",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")ar||(ar=new RegExp(nS,"u")),ar.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"emoji",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")QT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"uuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")WT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"nanoid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")$T.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")XT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cuid2",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")KT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"ulid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),U(l,{validation:"url",code:R.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"regex",code:R.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?fS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?uS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?cS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?eS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"duration",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?dS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"ip",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?mS(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"jwt",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?hS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cidr",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?sS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"base64",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?rS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"base64url",code:R.invalid_string,message:o.message}),i.dirty()):j.assertNever(o);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(l=>e.test(l),{validation:n,code:R.invalid_string,...L.errToObj(i)})}_addCheck(e){return new Dt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...L.errToObj(e)})}url(e){return this._addCheck({kind:"url",...L.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...L.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...L.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...L.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...L.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...L.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...L.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...L.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...L.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...L.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...L.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...L.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...L.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...L.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...L.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...L.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...L.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...L.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...L.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...L.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...L.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...L.errToObj(n)})}nonempty(e){return this.min(1,L.errToObj(e))}trim(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Dt.create=t=>new Dt({checks:[],typeName:z.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Y(t)});function pS(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=n>i?n:i,o=Number.parseInt(t.toFixed(l).replace(".","")),r=Number.parseInt(e.toFixed(l).replace(".",""));return o%r/10**l}class ni extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==I.number){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_type,expected:I.number,received:o.parsedType}),H}let i;const l=new Ze;for(const o of this._def.checks)o.kind==="int"?j.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?pS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:R.not_finite,message:o.message}),l.dirty()):j.assertNever(o);return{status:l.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,L.toString(n))}gt(e,n){return this.setLimit("min",e,!1,L.toString(n))}lte(e,n){return this.setLimit("max",e,!0,L.toString(n))}lt(e,n){return this.setLimit("max",e,!1,L.toString(n))}setLimit(e,n,i,l){return new ni({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:L.toString(l)}]})}_addCheck(e){return new ni({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:L.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:L.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&j.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ni.create=t=>new ni({checks:[],typeName:z.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class ii extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==I.bigint)return this._getInvalidInput(e);let i;const l=new Ze;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):j.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return U(n,{code:R.invalid_type,expected:I.bigint,received:n.parsedType}),H}gte(e,n){return this.setLimit("min",e,!0,L.toString(n))}gt(e,n){return this.setLimit("min",e,!1,L.toString(n))}lte(e,n){return this.setLimit("max",e,!0,L.toString(n))}lt(e,n){return this.setLimit("max",e,!1,L.toString(n))}setLimit(e,n,i,l){return new ii({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:L.toString(l)}]})}_addCheck(e){return new ii({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ii.create=t=>new ii({checks:[],typeName:z.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Y(t)});class Ya extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==I.boolean){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.boolean,received:i.parsedType}),H}return Ct(e.data)}}Ya.create=t=>new Ya({typeName:z.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class il extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==I.date){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_type,expected:I.date,received:o.parsedType}),H}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_date}),H}const i=new Ze;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):j.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new il({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:L.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:L.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}il.create=t=>new il({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:z.ZodDate,...Y(t)});class pd extends K{_parse(e){if(this._getType(e)!==I.symbol){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.symbol,received:i.parsedType}),H}return Ct(e.data)}}pd.create=t=>new pd({typeName:z.ZodSymbol,...Y(t)});class gd extends K{_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.undefined,received:i.parsedType}),H}return Ct(e.data)}}gd.create=t=>new gd({typeName:z.ZodUndefined,...Y(t)});class yd extends K{_parse(e){if(this._getType(e)!==I.null){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.null,received:i.parsedType}),H}return Ct(e.data)}}yd.create=t=>new yd({typeName:z.ZodNull,...Y(t)});class vd extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return Ct(e.data)}}vd.create=t=>new vd({typeName:z.ZodAny,...Y(t)});class su extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ct(e.data)}}su.create=t=>new su({typeName:z.ZodUnknown,...Y(t)});class Ln extends K{_parse(e){const n=this._getOrReturnCtx(e);return U(n,{code:R.invalid_type,expected:I.never,received:n.parsedType}),H}}Ln.create=t=>new Ln({typeName:z.ZodNever,...Y(t)});class Td extends K{_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.void,received:i.parsedType}),H}return Ct(e.data)}}Td.create=t=>new Td({typeName:z.ZodVoid,...Y(t)});class Lt extends K{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),l=this._def;if(n.parsedType!==I.array)return U(n,{code:R.invalid_type,expected:I.array,received:n.parsedType}),H;if(l.exactLength!==null){const r=n.data.length>l.exactLength.value,u=n.data.length<l.exactLength.value;(r||u)&&(U(n,{code:r?R.too_big:R.too_small,minimum:u?l.exactLength.value:void 0,maximum:r?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&n.data.length<l.minLength.value&&(U(n,{code:R.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&n.data.length>l.maxLength.value&&(U(n,{code:R.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((r,u)=>l.type._parseAsync(new Vt(n,r,n.path,u)))).then(r=>Ze.mergeArray(i,r));const o=[...n.data].map((r,u)=>l.type._parseSync(new Vt(n,r,n.path,u)));return Ze.mergeArray(i,o)}get element(){return this._def.type}min(e,n){return new Lt({...this._def,minLength:{value:e,message:L.toString(n)}})}max(e,n){return new Lt({...this._def,maxLength:{value:e,message:L.toString(n)}})}length(e,n){return new Lt({...this._def,exactLength:{value:e,message:L.toString(n)}})}nonempty(e){return this.min(1,e)}}Lt.create=(t,e)=>new Lt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:z.ZodArray,...Y(e)});function Ci(t){if(t instanceof Ae){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=wn.create(Ci(i))}return new Ae({...t._def,shape:()=>e})}else return t instanceof Lt?new Lt({...t._def,type:Ci(t.element)}):t instanceof wn?wn.create(Ci(t.unwrap())):t instanceof al?al.create(Ci(t.unwrap())):t instanceof li?li.create(t.items.map(e=>Ci(e))):t}class Ae extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=j.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==I.object){const f=this._getOrReturnCtx(e);return U(f,{code:R.invalid_type,expected:I.object,received:f.parsedType}),H}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:r}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ln&&this._def.unknownKeys==="strip"))for(const f in l.data)r.includes(f)||u.push(f);const c=[];for(const f of r){const d=o[f],m=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Vt(l,m,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof Ln){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&(U(l,{code:R.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const m=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Vt(l,m,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const m=await d.key,h=await d.value;f.push({key:m,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Ze.mergeObjectSync(i,f)):Ze.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return L.errToObj,new Ae({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var o,r;const l=((r=(o=this._def).errorMap)==null?void 0:r.call(o,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:L.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ae({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:z.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ae({...this._def,catchall:e})}pick(e){const n={};for(const i of j.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Ae({...this._def,shape:()=>n})}omit(e){const n={};for(const i of j.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Ae({...this._def,shape:()=>n})}deepPartial(){return Ci(this)}partial(e){const n={};for(const i of j.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?n[i]=l:n[i]=l.optional()}return new Ae({...this._def,shape:()=>n})}required(e){const n={};for(const i of j.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof wn;)o=o._def.innerType;n[i]=o}return new Ae({...this._def,shape:()=>n})}keyof(){return Zg(j.objectKeys(this.shape))}}Ae.create=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strip",catchall:Ln.create(),typeName:z.ZodObject,...Y(e)});Ae.strictCreate=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strict",catchall:Ln.create(),typeName:z.ZodObject,...Y(e)});Ae.lazycreate=(t,e)=>new Ae({shape:t,unknownKeys:"strip",catchall:Ln.create(),typeName:z.ZodObject,...Y(e)});class Ja extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const r=o.map(u=>new nn(u.ctx.common.issues));return U(n,{code:R.invalid_union,unionErrors:r}),H}if(n.common.async)return Promise.all(i.map(async o=>{const r={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(l);{let o;const r=[];for(const c of i){const f={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&r.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=r.map(c=>new nn(c));return U(n,{code:R.invalid_union,unionErrors:u}),H}}get options(){return this._def.options}}Ja.create=(t,e)=>new Ja({options:t,typeName:z.ZodUnion,...Y(e)});function ru(t,e){const n=mn(t),i=mn(e);if(t===e)return{valid:!0,data:t};if(n===I.object&&i===I.object){const l=j.objectKeys(e),o=j.objectKeys(t).filter(u=>l.indexOf(u)!==-1),r={...t,...e};for(const u of o){const c=ru(t[u],e[u]);if(!c.valid)return{valid:!1};r[u]=c.data}return{valid:!0,data:r}}else if(n===I.array&&i===I.array){if(t.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<t.length;o++){const r=t[o],u=e[o],c=ru(r,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return n===I.date&&i===I.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Za extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=(o,r)=>{if(dd(o)||dd(r))return H;const u=ru(o.value,r.value);return u.valid?((md(o)||md(r))&&n.dirty(),{status:n.value,value:u.data}):(U(i,{code:R.invalid_intersection_types}),H)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,r])=>l(o,r)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Za.create=(t,e,n)=>new Za({left:t,right:e,typeName:z.ZodIntersection,...Y(n)});class li extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.array)return U(i,{code:R.invalid_type,expected:I.array,received:i.parsedType}),H;if(i.data.length<this._def.items.length)return U(i,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&i.data.length>this._def.items.length&&(U(i,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...i.data].map((r,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Vt(i,r,i.path,u)):null}).filter(r=>!!r);return i.common.async?Promise.all(o).then(r=>Ze.mergeArray(n,r)):Ze.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new li({...this._def,rest:e})}}li.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new li({items:t,typeName:z.ZodTuple,rest:null,...Y(e)})};class $a extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.object)return U(i,{code:R.invalid_type,expected:I.object,received:i.parsedType}),H;const l=[],o=this._def.keyType,r=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new Vt(i,u,i.path,u)),value:r._parse(new Vt(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ze.mergeObjectAsync(n,l):Ze.mergeObjectSync(n,l)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof K?new $a({keyType:e,valueType:n,typeName:z.ZodRecord,...Y(i)}):new $a({keyType:Dt.create(),valueType:e,typeName:z.ZodRecord,...Y(n)})}}class Sd extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.map)return U(i,{code:R.invalid_type,expected:I.map,received:i.parsedType}),H;const l=this._def.keyType,o=this._def.valueType,r=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new Vt(i,u,i.path,[f,"key"])),value:o._parse(new Vt(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of r){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return H;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of r){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return H;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}}}}Sd.create=(t,e,n)=>new Sd({valueType:e,keyType:t,typeName:z.ZodMap,...Y(n)});class co extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.set)return U(i,{code:R.invalid_type,expected:I.set,received:i.parsedType}),H;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(U(i,{code:R.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),n.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(U(i,{code:R.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),n.dirty());const o=this._def.valueType;function r(c){const f=new Set;for(const d of c){if(d.status==="aborted")return H;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new Vt(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>r(c)):r(u)}min(e,n){return new co({...this._def,minSize:{value:e,message:L.toString(n)}})}max(e,n){return new co({...this._def,maxSize:{value:e,message:L.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}co.create=(t,e)=>new co({valueType:t,minSize:null,maxSize:null,typeName:z.ZodSet,...Y(e)});class uu extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uu.create=(t,e)=>new uu({getter:t,typeName:z.ZodLazy,...Y(e)});class Cd extends K{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return U(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cd.create=(t,e)=>new Cd({value:t,typeName:z.ZodLiteral,...Y(e)});function Zg(t,e){return new ll({values:t,typeName:z.ZodEnum,...Y(e)})}class ll extends K{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return U(n,{expected:j.joinValues(i),received:n.parsedType,code:R.invalid_type}),H}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return U(n,{received:n.data,code:R.invalid_enum_value,options:i}),H}return Ct(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ll.create(e,{...this._def,...n})}exclude(e,n=this._def){return ll.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}ll.create=Zg;class xd extends K{_parse(e){const n=j.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==I.string&&i.parsedType!==I.number){const l=j.objectValues(n);return U(i,{expected:j.joinValues(l),received:i.parsedType,code:R.invalid_type}),H}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=j.objectValues(n);return U(i,{received:i.data,code:R.invalid_enum_value,options:l}),H}return Ct(e.data)}get enum(){return this._def.values}}xd.create=(t,e)=>new xd({values:t,typeName:z.ZodNativeEnum,...Y(e)});class Xa extends K{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==I.promise&&n.common.async===!1)return U(n,{code:R.invalid_type,expected:I.promise,received:n.parsedType}),H;const i=n.parsedType===I.promise?n.data:Promise.resolve(n.data);return Ct(i.then(l=>this._def.type.parseAsync(l,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Xa.create=(t,e)=>new Xa({type:t,typeName:z.ZodPromise,...Y(e)});class ol extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:r=>{U(i,r),r.fatal?n.abort():n.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const r=l.transform(i.data,o);if(i.common.async)return Promise.resolve(r).then(async u=>{if(n.value==="aborted")return H;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?H:c.status==="dirty"||n.value==="dirty"?wl(c.value):c});{if(n.value==="aborted")return H;const u=this._def.schema._parseSync({data:r,path:i.path,parent:i});return u.status==="aborted"?H:u.status==="dirty"||n.value==="dirty"?wl(u.value):u}}if(l.type==="refinement"){const r=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?H:(u.status==="dirty"&&n.dirty(),r(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?H:(u.status==="dirty"&&n.dirty(),r(u.value).then(()=>({status:n.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!nl(r))return H;const u=l.transform(r.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>nl(r)?Promise.resolve(l.transform(r.value,o)).then(u=>({status:n.value,value:u})):H);j.assertNever(l)}}ol.create=(t,e,n)=>new ol({schema:t,typeName:z.ZodEffects,effect:e,...Y(n)});ol.createWithPreprocess=(t,e,n)=>new ol({schema:e,effect:{type:"preprocess",transform:t},typeName:z.ZodEffects,...Y(n)});class wn extends K{_parse(e){return this._getType(e)===I.undefined?Ct(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wn.create=(t,e)=>new wn({innerType:t,typeName:z.ZodOptional,...Y(e)});class al extends K{_parse(e){return this._getType(e)===I.null?Ct(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:z.ZodNullable,...Y(e)});class cu extends K{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===I.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}cu.create=(t,e)=>new cu({innerType:t,typeName:z.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class fu extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Fa(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new nn(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new nn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}fu.create=(t,e)=>new fu({innerType:t,typeName:z.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class _d extends K{_parse(e){if(this._getType(e)!==I.nan){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.nan,received:i.parsedType}),H}return{status:"valid",value:e.data}}}_d.create=t=>new _d({typeName:z.ZodNaN,...Y(t)});class gS extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ec extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?H:o.status==="dirty"?(n.dirty(),wl(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?H:l.status==="dirty"?(n.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,n){return new Ec({in:e,out:n,typeName:z.ZodPipeline})}}class du extends K{_parse(e){const n=this._def.innerType._parse(e),i=l=>(nl(l)&&(l.value=Object.freeze(l.value)),l);return Fa(n)?n.then(l=>i(l)):i(n)}unwrap(){return this._def.innerType}}du.create=(t,e)=>new du({innerType:t,typeName:z.ZodReadonly,...Y(e)});var z;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(z||(z={}));const zn=Dt.create,Ed=ni.create;ii.create;const yS=Ya.create;il.create;const Ad=su.create;Ln.create;const kl=Lt.create,vS=Ae.create,TS=Ja.create;Za.create;li.create;const SS=$a.create,CS=uu.create,xS=ll.create;Xa.create;wn.create;al.create;const gi={string:t=>Dt.create({...t,coerce:!0}),number:t=>ni.create({...t,coerce:!0}),boolean:t=>Ya.create({...t,coerce:!0}),bigint:t=>ii.create({...t,coerce:!0}),date:t=>il.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _S,ES;function AS(){return{geminiUrl:_S,vertexUrl:ES}}function MS(t,e,n){var i,l,o;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const r=AS();return t.vertexai?(l=r.vertexUrl)!==null&&l!==void 0?l:e:(o=r.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ci{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function s(t,e,n){for(let o=0;o<e.length-1;o++){const r=e[o];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];s(d,e.slice(o+1),n[f])}else for(const f of c)s(f,e.slice(o+1),n)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];s(c[0],e.slice(o+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const o=t[l];return Array.isArray(o)?o.map(r=>a(r,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Md;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Md||(Md={}));var Nd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Nd||(Nd={}));var wt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wt||(wt={}));var Rd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Rd||(Rd={}));var bd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(bd||(bd={}));var Dd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Dd||(Dd={}));var wd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wd||(wd={}));var kd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(kd||(kd={}));var Ud;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Ud||(Ud={}));var Id;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Id||(Id={}));var Ld;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ld||(Ld={}));var Vd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Vd||(Vd={}));var Pd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pd||(Pd={}));var Ka;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ka||(Ka={}));var qd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qd||(qd={}));var mu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mu||(mu={}));var Bd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bd||(Bd={}));var Gd;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Gd||(Gd={}));var zd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zd||(zd={}));var Hd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hd||(Hd={}));var Od;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Od||(Od={}));var Fd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Fd||(Fd={}));var Yd;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Yd||(Yd={}));var Jd;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Jd||(Jd={}));var Zd;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Zd||(Zd={}));var $d;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($d||($d={}));var Xd;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Xd||(Xd={}));var Kd;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Kd||(Kd={}));var Qd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qd||(Qd={}));var Wd;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Wd||(Wd={}));var jd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(jd||(jd={}));var em;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(em||(em={}));var tm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(tm||(tm={}));var nm;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nm||(nm={}));var im;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(im||(im={}));var lm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(lm||(lm={}));var om;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(om||(om={}));var am;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(am||(am={}));var sm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sm||(sm={}));var Ii;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ii||(Ii={}));class hu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ml{get text(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const h of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,S]of Object.entries(h))g!=="text"&&g!=="thought"&&(S!==null||S!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class rm{}class um{}class NS{}class RS{}class cm{}class fm{}class dm{}class bS{}class mm{}class hm{}class pm{}class DS{}class wS{}class kS{}class gm{}class US{get text(){var e,n,i;let l="",o=!1;const r=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&r.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,n,i;let l="";const o=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(r))u!=="inlineData"&&c!==null&&o.push(u);r.inlineData&&typeof r.inlineData.data=="string"&&(l+=atob(r.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class IS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function le(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function $g(t,e){const n=le(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Xg(t){return Array.isArray(t)?t.map(e=>Qa(e)):[Qa(t)]}function Qa(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function LS(t){const e=Qa(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function VS(t){const e=Qa(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ym(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Kg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ym(e)):[ym(t)]}function pu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function vm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Tm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Oe(t){if(t==null)throw new Error("ContentUnion is required");return pu(t)?t:{role:"user",parts:Kg(t)}}function Qg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Oe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Oe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Oe(n)):[Oe(e)]}function vt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(vm(t)||Tm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Oe(t)]}const e=[],n=[],i=pu(t[0]);for(const l of t){const o=pu(l);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(l);else{if(vm(l)||Tm(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||e.push({role:"user",parts:Kg(n)}),e}const PS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Sm=xS(["string","number","integer","object","array","boolean","null"]),qS=TS([Sm,kl(Sm)]);function BS(t=!0){const e=CS(()=>{const n=vS({type:qS.optional(),format:zn().optional(),title:zn().optional(),description:zn().optional(),default:Ad().optional(),items:e.optional(),minItems:gi.string().optional(),maxItems:gi.string().optional(),enum:kl(Ad()).optional(),properties:SS(zn(),e).optional(),required:kl(zn()).optional(),minProperties:gi.string().optional(),maxProperties:gi.string().optional(),propertyOrdering:kl(zn()).optional(),minimum:Ed().optional(),maximum:Ed().optional(),minLength:gi.string().optional(),maxLength:gi.string().optional(),pattern:zn().optional(),anyOf:kl(e).optional(),additionalProperties:yS().optional()});return t?n.strict():n});return e}function GS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(wt).includes(n[0].toUpperCase())?n[0].toUpperCase():wt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(wt).includes(i.toUpperCase())?i.toUpperCase():wt.TYPE_UNSPECIFIED})}}function Oi(t){const e={},n=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&GS(t.type,e);for(const[r,u]of Object.entries(t))if(u!=null)if(r=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(wt).includes(u.toUpperCase())?u.toUpperCase():wt.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Oi(u);else if(i.includes(r)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Oi(f))}e[r]=c}else if(l.includes(r)){const c={};for(const[f,d]of Object.entries(u))c[f]=Oi(d);e[r]=c}else{if(r==="additionalProperties")continue;e[r]=u}return e}function fo(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=BS().parse(t);return Oi(e)}else return Oi(t)}function Ac(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Mc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function hl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=fo(e.parameters)),e.response&&(e.response=fo(e.response));return t}function pl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function zS(t,e,n,i=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function on(t,e){if(typeof e!="string")throw new Error("name must be a string");return zS(t,e,"cachedContents")}function Wg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function an(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function HS(t){return t!=null&&typeof t=="object"&&"name"in t}function OS(t){return t!=null&&typeof t=="object"&&"video"in t}function FS(t){return t!=null&&typeof t=="object"&&"uri"in t}function jg(t){var e;let n;if(HS(t)&&(n=t.name),!(FS(t)&&(n=t.uri,n===void 0))&&!(OS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ey(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ty(t){for(const e of["models","tunedModels","publisherModels"])if(YS(t,e))return t[e];return[]}function YS(t,e){return t!==null&&typeof t=="object"&&e in t}function JS(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Oi(gs(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function ZS(t,e={}){const n=[],i=new Set;for(const l of t){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const r=JS(l,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function $S(t){const e=[];for(const n of t)e.push(gs(n));return e}function XS(t){const e={};for(const[n,i]of Object.entries(t)){const l=i;e[n]=gs(l)}return e}function gs(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,r]of Object.entries(t))if(e.has(o))l[o]=gs(r);else if(n.has(o))l[o]=$S(r);else if(i.has(o))l[o]=XS(r);else if(o==="type"){const u=r.toUpperCase();l[o]=Object.values(wt).includes(u)?u:wt.TYPE_UNSPECIFIED}else PS.has(o)&&(l[o]=r);return l}function ny(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function KS(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ys(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iy(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QS(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function WS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function jS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function eC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],QS(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],WS(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],jS(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function ly(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>eC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function tC(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const C=a(t,["minProperties"]);C!=null&&s(e,["minProperties"],C);const E=a(t,["minimum"]);E!=null&&s(e,["minimum"],E);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const x=a(t,["propertyOrdering"]);x!=null&&s(e,["propertyOrdering"],x);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const b=a(t,["title"]);b!=null&&s(e,["title"],b);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function nC(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function iC(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function lC(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function oC(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],lC(n)),e}function aC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function sC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],aC(n)),e}function rC(){return{}}function uC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>iC(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],oC(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],sC(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],rC());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function cC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function fC(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function dC(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],fC(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function mC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],cC(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],dC(i)),e}function hC(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function oy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],hC(n)),e}function pC(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],oy(i)),e}function gC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>pC(l))),s(e,["speakerVoiceConfigs"],i)}return e}function yC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],oy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],gC(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function vC(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function TC(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],ly(Oe(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const C=a(e,["seed"]);C!=null&&s(i,["seed"],C);const E=a(e,["responseMimeType"]);E!=null&&s(i,["responseMimeType"],E);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],tC(fo(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(fe=>nC(fe))),s(n,["safetySettings"],P)}const x=a(e,["tools"]);if(n!==void 0&&x!=null){let P=pl(x);Array.isArray(P)&&(P=P.map(fe=>uC(hl(fe)))),s(n,["tools"],P)}const _=a(e,["toolConfig"]);if(n!==void 0&&_!=null&&s(n,["toolConfig"],mC(_)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&s(n,["cachedContent"],on(t,b));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const M=a(e,["mediaResolution"]);M!=null&&s(i,["mediaResolution"],M);const D=a(e,["speechConfig"]);if(D!=null&&s(i,["speechConfig"],yC(Ac(D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],vC(w)),i}function SC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["request","model"],le(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>ly(u))),s(n,["request","contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["request","generationConfig"],TC(t,o,n)),n}function CC(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&s(n,["fileName"],i);const l=a(e,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>SC(t,r))),s(n,["requests","requests"],o)}return n}function xC(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&s(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _C(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["src"]);l!=null&&s(n,["batch","inputConfig"],CC(t,ny(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],xC(o,n)),n}function EC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ys(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function AC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ys(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function MC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);if(e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function NC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],MC(n,e)),e}function RC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsSource","uris"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigquerySource","inputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsDestination","outputUriPrefix"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigqueryDestination","outputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function DC(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["dest"]);return e!==void 0&&l!=null&&s(e,["outputConfig"],bC(KS(l))),n}function wC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],le(t,i));const l=a(e,["src"]);l!=null&&s(n,["inputConfig"],RC(ny(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],DC(o,n)),n}function kC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ys(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function UC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ys(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function IC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function LC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],IC(n,e)),e}function VC(){return{}}function PC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function qC(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function BC(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function GC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],PC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],qC(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],BC(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function zC(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>GC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function HC(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function OC(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function FC(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>OC(l))),s(e,["urlMetadata"],i)}return e}function YC(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],zC(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],HC(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],FC(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function JC(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>YC(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function ZC(t){const e={},n=a(t,["response"]);return n!=null&&s(e,["response"],JC(n)),a(t,["error"])!=null&&s(e,["error"],VC()),e}function $C(t){const e={},n=a(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>ZC(o))),s(e,["inlinedResponses"],l)}return e}function gu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["metadata","state"]);l!=null&&s(e,["state"],iy(l));const o=a(t,["metadata","createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["metadata","endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["metadata","updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["metadata","model"]);c!=null&&s(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&s(e,["dest"],$C(f)),e}function XC(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>gu(o))),s(e,["batchJobs"],l)}return e}function KC(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const l=a(t,["message"]);return l!=null&&s(e,["message"],l),e}function QC(t){const e={},n=a(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigquerySource","inputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function WC(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigqueryDestination","outputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function yu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["state"]);l!=null&&s(e,["state"],iy(l));const o=a(t,["error"]);o!=null&&s(e,["error"],KC(o));const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["startTime"]);u!=null&&s(e,["startTime"],u);const c=a(t,["endTime"]);c!=null&&s(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&s(e,["model"],d);const m=a(t,["inputConfig"]);m!=null&&s(e,["src"],QC(m));const h=a(t,["outputConfig"]);return h!=null&&s(e,["dest"],WC(h)),e}function jC(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>yu(o))),s(e,["batchJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(oi||(oi={}));class bo{constructor(e,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,l)}init(e,n,i){var l,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};i?typeof i=="object"?r=Object.assign({},i):r=i:r={config:{}},r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(o=(l=r.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ex extends ci{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new bo(oi.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=wC(this.apiClient,e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>yu(d))}else{const f=_C(this.apiClient,e);return u=V("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>gu(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=kC(this.apiClient,e);return u=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>yu(d))}else{const f=EC(this.apiClient,e);return u=V("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>gu(d))}}async cancel(e){var n,i,l,o;let r="",u={};if(this.apiClient.isVertexAI()){const c=UC(this.apiClient,e);r=V("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=AC(this.apiClient,e);r=V("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=LC(e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=jC(d),h=new gm;return Object.assign(h,m),h})}else{const f=NC(e);return u=V("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=XC(d),h=new gm;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tx(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function nx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function ix(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function lx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],tx(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],nx(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],ix(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Cm(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>lx(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function ox(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function ax(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function sx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],ax(n)),e}function rx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function ux(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],rx(n)),e}function cx(){return{}}function fx(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>ox(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],sx(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],ux(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],cx());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function dx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function mx(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function hx(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],mx(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function px(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],dx(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],hx(i)),e}function gx(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let d=vt(r);Array.isArray(d)&&(d=d.map(m=>Cm(m))),s(e,["contents"],d)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],Cm(Oe(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>fx(m))),s(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&s(e,["toolConfig"],px(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function yx(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],$g(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],gx(l,n)),n}function vx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],on(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function Tx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],on(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function Sx(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function Cx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],on(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],Sx(l,n)),n}function xx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function _x(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],xx(n,e)),e}function Ex(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function Ax(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Mx(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Nx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],Ex(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],Ax(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],Mx(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function xm(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Nx(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function Rx(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function bx(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function Dx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],bx(n)),e}function wx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function kx(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],wx(n)),e}function Ux(){return{}}function Ix(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function Lx(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],Ix(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function Vx(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],Lx(n)),e}function Px(){return{}}function qx(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>Rx(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],Dx(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],kx(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Ux());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],Vx(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],Px());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function Bx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function Gx(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function zx(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],Gx(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function Hx(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],Bx(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],zx(i)),e}function Ox(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let m=vt(r);Array.isArray(m)&&(m=m.map(h=>xm(h))),s(e,["contents"],m)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],xm(Oe(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>qx(h))),s(e,["tools"],m)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&s(e,["toolConfig"],Hx(f));const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&s(e,["encryption_spec","kmsKeyName"],d),n}function Fx(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],$g(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],Ox(l,n)),n}function Yx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],on(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function Jx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],on(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function Zx(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function $x(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],on(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],Zx(l,n)),n}function Xx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function Kx(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],Xx(n,e)),e}function fa(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function Qx(){return{}}function Wx(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>fa(o))),s(e,["cachedContents"],l)}return e}function da(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function jx(){return{}}function e_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>da(o))),s(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t_ extends ci{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(oi.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Fx(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>da(d))}else{const f=yx(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>fa(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Yx(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>da(d))}else{const f=vx(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>fa(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Jx(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=jx(),m=new hm;return Object.assign(m,d),m})}else{const f=Tx(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=Qx(),m=new hm;return Object.assign(m,d),m})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=$x(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>da(d))}else{const f=Cx(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>fa(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Kx(e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=e_(d),h=new pm;return Object.assign(h,m),h})}else{const f=_x(e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=Wx(d),h=new pm;return Object.assign(h,m),h})}}}function _m(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(t){return this instanceof he?(this.v=t,this):new he(t)}function Fi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),l[Symbol.asyncIterator]=function(){return this},l;function r(g){return function(S){return Promise.resolve(S).then(g,m)}}function u(g,S){i[g]&&(l[g]=function(C){return new Promise(function(E,v){o.push([g,C,E,v])>1||c(g,C)})},S&&(l[g]=S(l[g])))}function c(g,S){try{f(i[g](S))}catch(C){h(o[0][3],C)}}function f(g){g.value instanceof he?Promise.resolve(g.value.v).then(d,m):h(o[0][2],g)}function d(g){c("next",g)}function m(g){c("throw",g)}function h(g,S){g(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Xl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _m=="function"?_m(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(r){return new Promise(function(u,c){r=t[o](r),l(u,c,r.done,r.value)})}}function l(o,r,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ay(n)}function ay(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function i_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Em(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let o=!0;for(;i<n&&t[i].role==="model";)l.push(t[i]),o&&!ay(t[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class l_{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new o_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class o_{constructor(e,n,i,l={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),i_(o)}async sendMessage(e){var n;await this.sendPromise;const i=Oe(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,r,u;const c=await l,f=(r=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(m))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(i,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const i=Oe(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?Em(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,l;return Fi(this,arguments,function*(){var r,u,c,f;const d=[];try{for(var m=!0,h=Xl(e),g;g=yield he(h.next()),r=g.done,!r;m=!0){f=g.value,m=!1;const S=f;if(n_(S)){const C=(l=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;C!==void 0&&d.push(C)}yield yield he(S)}}catch(S){u={error:S}}finally{try{!m&&!r&&(c=h.return)&&(yield he(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let l=[];n.length>0&&n.every(o=>o.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Em(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function s_(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],a_(n,e)),e}function r_(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function u_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const S=a(t,["videoMetadata"]);S!=null&&s(e,["videoMetadata"],S);const C=a(t,["error"]);return C!=null&&s(e,["error"],r_(C)),e}function c_(t){const e={},n=a(t,["file"]);n!=null&&s(e,["file"],u_(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function f_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],jg(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function d_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],jg(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function m_(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function vu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const S=a(t,["videoMetadata"]);S!=null&&s(e,["videoMetadata"],S);const C=a(t,["error"]);return C!=null&&s(e,["error"],m_(C)),e}function h_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>vu(o))),s(e,["files"],l)}return e}function p_(){return{}}function g_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y_ extends ci{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(oi.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>vu(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s_(e);return o=V("files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=h_(c),d=new DS;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=c_(e);return o=V("upload/v1beta/files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=p_(),f=new wS;return Object.assign(f,c),f})}}async get(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f_(e);return o=V("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>vu(c))}}async delete(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d_(e);return o=V("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=g_(),f=new kS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v_(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function T_(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function sy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],v_(n)),e}function S_(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],T_(n)),e}function C_(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],sy(i)),e}function x_(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>C_(l))),s(e,["speakerVoiceConfigs"],i)}return e}function __(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],sy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],x_(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function E_(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],S_(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function A_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function M_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function N_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function R_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function b_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function D_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function w_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],A_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],N_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],b_(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function k_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],M_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],R_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],D_(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function U_(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>w_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function I_(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>k_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function L_(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function V_(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function P_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function q_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function B_(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],P_(n)),e}function G_(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],q_(n)),e}function z_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function H_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function O_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],z_(n)),e}function F_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],H_(n)),e}function Y_(){return{}}function J_(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function Z_(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],J_(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function $_(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],Z_(n)),e}function X_(){return{}}function K_(){return{}}function Q_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>L_(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],B_(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],O_(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],X_());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function W_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>V_(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],G_(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],F_(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Y_());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],$_(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],K_());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function j_(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function e1(t){const e={},n=a(t,["handle"]);n!=null&&s(e,["handle"],n);const i=a(t,["transparent"]);return i!=null&&s(e,["transparent"],i),e}function Am(){return{}}function Mm(){return{}}function t1(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function n1(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function i1(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],t1(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function l1(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],n1(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function o1(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function a1(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function s1(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],o1(i)),e}function r1(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],a1(i)),e}function u1(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function c1(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function f1(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],__(Mc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],U_(Oe(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let _=pl(S);Array.isArray(_)&&(_=_.map(b=>Q_(hl(b)))),s(e,["setup","tools"],_)}const C=a(t,["sessionResumption"]);e!==void 0&&C!=null&&s(e,["setup","sessionResumption"],j_(C));const E=a(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&s(e,["setup","inputAudioTranscription"],Am());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Am());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],i1(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],s1(T));const x=a(t,["proactivity"]);return e!==void 0&&x!=null&&s(e,["setup","proactivity"],u1(x)),n}function d1(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],E_(Mc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],I_(Oe(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let _=pl(S);Array.isArray(_)&&(_=_.map(b=>W_(hl(b)))),s(e,["setup","tools"],_)}const C=a(t,["sessionResumption"]);e!==void 0&&C!=null&&s(e,["setup","sessionResumption"],e1(C));const E=a(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&s(e,["setup","inputAudioTranscription"],Mm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Mm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],l1(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],r1(T));const x=a(t,["proactivity"]);return e!==void 0&&x!=null&&s(e,["setup","proactivity"],c1(x)),n}function m1(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],f1(l,n)),n}function h1(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],d1(l,n)),n}function p1(){return{}}function g1(){return{}}function y1(){return{}}function v1(){return{}}function T1(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Xg(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],VS(i));const l=a(t,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const o=a(t,["video"]);o!=null&&s(e,["video"],LS(o));const r=a(t,["text"]);return r!=null&&s(e,["text"],r),a(t,["activityStart"])!=null&&s(e,["activityStart"],p1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],y1()),e}function S1(t){const e={},n=a(t,["media"]);if(n!=null&&s(e,["mediaChunks"],Xg(n)),a(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=a(t,["audioStreamEnd"]);if(i!=null&&s(e,["audioStreamEnd"],i),a(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(t,["activityStart"])!=null&&s(e,["activityStart"],g1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],v1()),e}function ry(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function C1(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ry(l))),s(e,["weightedPrompts"],i)}return e}function uy(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function x1(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],uy(n)),e}function cy(t){const e={},n=a(t,["model"]);return n!=null&&s(e,["model"],n),e}function fy(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ry(l))),s(e,["weightedPrompts"],i)}return e}function Tu(t){const e={},n=a(t,["setup"]);n!=null&&s(e,["setup"],cy(n));const i=a(t,["clientContent"]);i!=null&&s(e,["clientContent"],fy(i));const l=a(t,["musicGenerationConfig"]);l!=null&&s(e,["musicGenerationConfig"],uy(l));const o=a(t,["playbackControl"]);return o!=null&&s(e,["playbackControl"],o),e}function _1(){return{}}function E1(){return{}}function A1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function M1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function N1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function R1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function b1(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function D1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function w1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],A1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],N1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],b1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function k1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],M1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],R1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],D1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function U1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>w1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function I1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>k1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function Nm(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function Rm(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function L1(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function V1(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>L1(l))),s(e,["urlMetadata"],i)}return e}function P1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],U1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],Nm(u));const c=a(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],Nm(c));const f=a(t,["urlContextMetadata"]);return f!=null&&s(e,["urlContextMetadata"],V1(f)),e}function q1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],I1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],Rm(u));const c=a(t,["outputTranscription"]);return c!=null&&s(e,["outputTranscription"],Rm(c)),e}function B1(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const i=a(t,["args"]);i!=null&&s(e,["args"],i);const l=a(t,["name"]);return l!=null&&s(e,["name"],l),e}function G1(t){const e={},n=a(t,["args"]);n!=null&&s(e,["args"],n);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function z1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>B1(l))),s(e,["functionCalls"],i)}return e}function H1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>G1(l))),s(e,["functionCalls"],i)}return e}function O1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function F1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function Xo(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function Ko(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function Y1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["responseTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["promptTokensDetails"],h)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["cacheTokensDetails"],h)}const d=a(t,["responseTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["responseTokensDetails"],h)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["toolUsePromptTokensDetails"],h)}return e}function J1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["candidatesTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["promptTokensDetails"],g)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["cacheTokensDetails"],g)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["responseTokensDetails"],g)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["toolUsePromptTokensDetails"],g)}const h=a(t,["trafficType"]);return h!=null&&s(e,["trafficType"],h),e}function Z1(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function $1(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function X1(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function K1(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function Q1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],_1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],P1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],z1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],O1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],Y1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],Z1(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],X1(c)),e}function W1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],E1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],q1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],H1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],F1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],J1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],$1(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],K1(c)),e}function j1(){return{}}function eE(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function tE(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>eE(l))),s(e,["weightedPrompts"],i)}return e}function nE(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function iE(t){const e={},n=a(t,["clientContent"]);n!=null&&s(e,["clientContent"],tE(n));const i=a(t,["musicGenerationConfig"]);return i!=null&&s(e,["musicGenerationConfig"],nE(i)),e}function lE(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const l=a(t,["sourceMetadata"]);return l!=null&&s(e,["sourceMetadata"],iE(l)),e}function oE(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>lE(l))),s(e,["audioChunks"],i)}return e}function aE(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["filteredReason"]);return i!=null&&s(e,["filteredReason"],i),e}function sE(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],j1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],oE(i));const l=a(t,["filteredPrompt"]);return l!=null&&s(e,["filteredPrompt"],aE(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function uE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function cE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function fE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],rE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],uE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],cE(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Ts(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>fE(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function dE(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const C=a(t,["minProperties"]);C!=null&&s(e,["minProperties"],C);const E=a(t,["minimum"]);E!=null&&s(e,["minimum"],E);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const x=a(t,["propertyOrdering"]);x!=null&&s(e,["propertyOrdering"],x);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const b=a(t,["title"]);b!=null&&s(e,["title"],b);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function mE(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function hE(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function pE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function gE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],pE(n)),e}function yE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function vE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],yE(n)),e}function TE(){return{}}function SE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>hE(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],gE(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],vE(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],TE());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function CE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function xE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function _E(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],xE(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function EE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],CE(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],_E(i)),e}function AE(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function dy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],AE(n)),e}function ME(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],dy(i)),e}function NE(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ME(l))),s(e,["speakerVoiceConfigs"],i)}return e}function RE(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],dy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],NE(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function bE(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function DE(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],Ts(Oe(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const C=a(e,["seed"]);C!=null&&s(i,["seed"],C);const E=a(e,["responseMimeType"]);E!=null&&s(i,["responseMimeType"],E);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],dE(fo(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(fe=>mE(fe))),s(n,["safetySettings"],P)}const x=a(e,["tools"]);if(n!==void 0&&x!=null){let P=pl(x);Array.isArray(P)&&(P=P.map(fe=>SE(hl(fe)))),s(n,["tools"],P)}const _=a(e,["toolConfig"]);if(n!==void 0&&_!=null&&s(n,["toolConfig"],EE(_)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&s(n,["cachedContent"],on(t,b));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const M=a(e,["mediaResolution"]);M!=null&&s(i,["mediaResolution"],M);const D=a(e,["speechConfig"]);if(D!=null&&s(i,["speechConfig"],RE(Ac(D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],bE(w)),i}function bm(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>Ts(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],DE(t,o,n)),n}function wE(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["requests[]","taskType"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["requests[]","title"],l);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&s(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["contents"]);l!=null&&s(n,["requests[]","content"],Qg(t,l));const o=a(e,["config"]);o!=null&&s(n,["config"],wE(o,n));const r=a(e,["model"]);return r!==void 0&&s(n,["requests[]","model"],le(t,r)),n}function UE(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&s(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&s(e,["parameters","safetySetting"],r);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&s(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&s(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&s(e,["parameters","language"],d);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&s(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function IE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],UE(o,n)),n}function LE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function VE(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],ey(t,u)),i}function PE(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],VE(t,i,n)),n}function qE(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function BE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],qE(l,n)),n}function GE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function zE(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function HE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>Ts(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],zE(o)),n}function OE(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],an(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function FE(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=a(t,["durationSeconds"]);if(e!==void 0&&l!=null&&s(e,["parameters","durationSeconds"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);if(e!==void 0&&o!=null&&s(e,["parameters","aspectRatio"],o),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const r=a(t,["personGeneration"]);if(e!==void 0&&r!=null&&s(e,["parameters","personGeneration"],r),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&s(e,["parameters","negativePrompt"],u);const c=a(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&s(e,["parameters","enhancePrompt"],c),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function YE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&s(n,["instances[0]","image"],OE(o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=a(e,["config"]);return r!=null&&s(n,["config"],FE(r,n)),n}function JE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function ZE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function $E(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function XE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],JE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],ZE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],$E(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function gl(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>XE(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function KE(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const C=a(t,["minProperties"]);C!=null&&s(e,["minProperties"],C);const E=a(t,["minimum"]);E!=null&&s(e,["minimum"],E);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const x=a(t,["propertyOrdering"]);x!=null&&s(e,["propertyOrdering"],x);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const b=a(t,["title"]);b!=null&&s(e,["title"],b);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function QE(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function WE(t){const e={},n=a(t,["method"]);n!=null&&s(e,["method"],n);const i=a(t,["category"]);i!=null&&s(e,["category"],i);const l=a(t,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function jE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function eA(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function tA(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],eA(n)),e}function nA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function iA(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],nA(n)),e}function lA(){return{}}function oA(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function aA(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],oA(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function sA(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],aA(n)),e}function rA(){return{}}function my(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>jE(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],tA(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],iA(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],lA());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],sA(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],rA());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function uA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function cA(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function fA(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],cA(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function dA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],uA(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],fA(i)),e}function mA(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function hA(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],mA(n)),e}function pA(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],hA(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function gA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function yA(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],gl(Oe(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const C=a(e,["seed"]);C!=null&&s(i,["seed"],C);const E=a(e,["responseMimeType"]);E!=null&&s(i,["responseMimeType"],E);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],KE(fo(v)));const y=a(e,["responseJsonSchema"]);y!=null&&s(i,["responseJsonSchema"],y);const T=a(e,["routingConfig"]);T!=null&&s(i,["routingConfig"],T);const x=a(e,["modelSelectionConfig"]);x!=null&&s(i,["modelConfig"],QE(x));const _=a(e,["safetySettings"]);if(n!==void 0&&_!=null){let re=_;Array.isArray(re)&&(re=re.map(k=>WE(k))),s(n,["safetySettings"],re)}const b=a(e,["tools"]);if(n!==void 0&&b!=null){let re=pl(b);Array.isArray(re)&&(re=re.map(k=>my(hl(k)))),s(n,["tools"],re)}const N=a(e,["toolConfig"]);n!==void 0&&N!=null&&s(n,["toolConfig"],dA(N));const M=a(e,["labels"]);n!==void 0&&M!=null&&s(n,["labels"],M);const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],on(t,D));const w=a(e,["responseModalities"]);w!=null&&s(i,["responseModalities"],w);const P=a(e,["mediaResolution"]);P!=null&&s(i,["mediaResolution"],P);const fe=a(e,["speechConfig"]);fe!=null&&s(i,["speechConfig"],pA(Ac(fe)));const Ge=a(e,["audioTimestamp"]);Ge!=null&&s(i,["audioTimestamp"],Ge);const ge=a(e,["thinkingConfig"]);return ge!=null&&s(i,["thinkingConfig"],gA(ge)),i}function Dm(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>gl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],yA(t,o,n)),n}function vA(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["instances[]","task_type"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["instances[]","title"],l);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&s(e,["parameters","outputDimensionality"],o);const r=a(t,["mimeType"]);e!==void 0&&r!=null&&s(e,["instances[]","mimeType"],r);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&s(e,["parameters","autoTruncate"],u),n}function TA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["contents"]);l!=null&&s(n,["instances[]","content"],Qg(t,l));const o=a(e,["config"]);return o!=null&&s(n,["config"],vA(o,n)),n}function SA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const S=a(t,["outputMimeType"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","mimeType"],S);const C=a(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);const E=a(t,["addWatermark"]);e!==void 0&&E!=null&&s(e,["parameters","addWatermark"],E);const v=a(t,["enhancePrompt"]);return e!==void 0&&v!=null&&s(e,["parameters","enhancePrompt"],v),n}function CA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],SA(o,n)),n}function Ss(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&s(e,["bytesBase64Encoded"],an(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function xA(t){const e={},n=a(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&s(e,["maskClasses"],i);const l=a(t,["maskDilation"]);return l!=null&&s(e,["dilation"],l),e}function _A(t){const e={},n=a(t,["controlType"]);n!=null&&s(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&s(e,["computeControl"],i),e}function EA(t){const e={},n=a(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function AA(t){const e={},n=a(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const i=a(t,["subjectDescription"]);return i!=null&&s(e,["subjectDescription"],i),e}function MA(t){const e={},n=a(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],Ss(n));const i=a(t,["referenceId"]);i!=null&&s(e,["referenceId"],i);const l=a(t,["referenceType"]);l!=null&&s(e,["referenceType"],l);const o=a(t,["maskImageConfig"]);o!=null&&s(e,["maskImageConfig"],xA(o));const r=a(t,["controlImageConfig"]);r!=null&&s(e,["controlImageConfig"],_A(r));const u=a(t,["styleImageConfig"]);u!=null&&s(e,["styleImageConfig"],EA(u));const c=a(t,["subjectImageConfig"]);return c!=null&&s(e,["subjectImageConfig"],AA(c)),e}function NA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const S=a(t,["outputMimeType"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","mimeType"],S);const C=a(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);const E=a(t,["editMode"]);e!==void 0&&E!=null&&s(e,["parameters","editMode"],E);const v=a(t,["baseSteps"]);return e!==void 0&&v!=null&&s(e,["parameters","editConfig","baseSteps"],v),n}function RA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>MA(c))),s(n,["instances[0]","referenceImages"],u)}const r=a(e,["config"]);return r!=null&&s(n,["config"],NA(r,n)),n}function bA(t,e){const n={},i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","mimeType"],l);const o=a(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&s(e,["parameters","outputOptions","compressionQuality"],o);const r=a(t,["enhanceInputImage"]);e!==void 0&&r!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],r);const u=a(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&s(e,["parameters","sampleCount"],c);const f=a(t,["mode"]);return e!==void 0&&f!=null&&s(e,["parameters","mode"],f),n}function DA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["image"]);l!=null&&s(n,["instances[0]","image"],Ss(l));const o=a(e,["upscaleFactor"]);o!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],o);const r=a(e,["config"]);return r!=null&&s(n,["config"],bA(r,n)),n}function wA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function kA(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],ey(t,u)),i}function UA(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],kA(t,i,n)),n}function IA(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function LA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],IA(l,n)),n}function VA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function PA(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&s(e,["systemInstruction"],gl(Oe(i)));const l=a(t,["tools"]);if(e!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>my(u))),s(e,["tools"],r)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&s(e,["generationConfig"],o),n}function qA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>gl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],PA(o,n)),n}function BA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>gl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function GA(t){const e={},n=a(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&s(e,["bytesBase64Encoded"],an(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function zA(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const o=a(t,["fps"]);e!==void 0&&o!=null&&s(e,["parameters","fps"],o);const r=a(t,["durationSeconds"]);e!==void 0&&r!=null&&s(e,["parameters","durationSeconds"],r);const u=a(t,["seed"]);e!==void 0&&u!=null&&s(e,["parameters","seed"],u);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&s(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&s(e,["parameters","negativePrompt"],h);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","enhancePrompt"],g);const S=a(t,["generateAudio"]);e!==void 0&&S!=null&&s(e,["parameters","generateAudio"],S);const C=a(t,["lastFrame"]);e!==void 0&&C!=null&&s(e,["instances[0]","lastFrame"],Ss(C));const E=a(t,["compressionQuality"]);return e!==void 0&&E!=null&&s(e,["parameters","compressionQuality"],E),n}function HA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],le(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&s(n,["instances[0]","image"],Ss(o));const r=a(e,["video"]);r!=null&&s(n,["instances[0]","video"],GA(r));const u=a(e,["config"]);return u!=null&&s(n,["config"],zA(u,n)),n}function OA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function FA(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function YA(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function JA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],OA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],FA(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],YA(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function ZA(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>JA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function $A(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function XA(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function KA(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>XA(l))),s(e,["urlMetadata"],i)}return e}function QA(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],ZA(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],$A(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],KA(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function wm(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>QA(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function WA(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function jA(){return{}}function e2(t){const e={},n=a(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>WA(o))),s(e,["embeddings"],l)}return a(t,["metadata"])!=null&&s(e,["metadata"],jA()),e}function t2(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],an(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function hy(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function n2(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],t2(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);return l!=null&&s(e,["safetyAttributes"],hy(l)),e}function i2(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>n2(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],hy(i)),e}function l2(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function Su(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["version"]);o!=null&&s(e,["version"],o);const r=a(t,["_self"]);r!=null&&s(e,["tunedModelInfo"],l2(r));const u=a(t,["inputTokenLimit"]);u!=null&&s(e,["inputTokenLimit"],u);const c=a(t,["outputTokenLimit"]);c!=null&&s(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);return f!=null&&s(e,["supportedActions"],f),e}function o2(t,e){const n={},i=a(e,["nextPageToken"]);i!=null&&s(n,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=ty(l);Array.isArray(o)&&(o=o.map(r=>Su(r))),s(n,["models"],o)}return n}function a2(){return{}}function s2(t){const e={},n=a(t,["totalTokens"]);n!=null&&s(e,["totalTokens"],n);const i=a(t,["cachedContentTokenCount"]);return i!=null&&s(e,["cachedContentTokenCount"],i),e}function r2(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],an(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function u2(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],r2(n)),e}function c2(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>u2(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function f2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],c2(r)),e}function d2(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function m2(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function h2(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function p2(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],d2(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],m2(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],h2(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function g2(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>p2(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function y2(t){const e={},n=a(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function v2(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function T2(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>v2(l))),s(e,["urlMetadata"],i)}return e}function S2(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],g2(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],y2(i));const l=a(t,["finishMessage"]);l!=null&&s(e,["finishMessage"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],T2(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function km(t){const e={},n=a(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>S2(f))),s(e,["candidates"],c)}const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["responseId"]);l!=null&&s(e,["responseId"],l);const o=a(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const r=a(t,["promptFeedback"]);r!=null&&s(e,["promptFeedback"],r);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function C2(t){const e={},n=a(t,["truncated"]);n!=null&&s(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&s(e,["tokenCount"],i),e}function x2(t){const e={},n=a(t,["values"]);n!=null&&s(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&s(e,["statistics"],C2(i)),e}function _2(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function E2(t){const e={},n=a(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>x2(o))),s(e,["embeddings"],l)}const i=a(t,["metadata"]);return i!=null&&s(e,["metadata"],_2(i)),e}function A2(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["imageBytes"],an(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function py(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function Nc(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],A2(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);l!=null&&s(e,["safetyAttributes"],py(l));const o=a(t,["prompt"]);return o!=null&&s(e,["enhancedPrompt"],o),e}function M2(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Nc(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],py(i)),e}function N2(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Nc(l))),s(e,["generatedImages"],i)}return e}function R2(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Nc(l))),s(e,["generatedImages"],i)}return e}function b2(t){const e={},n=a(t,["endpoint"]);n!=null&&s(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&s(e,["deployedModelId"],i),e}function D2(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function w2(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);return l!=null&&s(e,["step"],l),e}function Cu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["versionId"]);o!=null&&s(e,["version"],o);const r=a(t,["deployedModels"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>b2(h))),s(e,["endpoints"],m)}const u=a(t,["labels"]);u!=null&&s(e,["labels"],u);const c=a(t,["_self"]);c!=null&&s(e,["tunedModelInfo"],D2(c));const f=a(t,["defaultCheckpointId"]);f!=null&&s(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>w2(h))),s(e,["checkpoints"],m)}return e}function k2(t,e){const n={},i=a(e,["nextPageToken"]);i!=null&&s(n,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=ty(l);Array.isArray(o)&&(o=o.map(r=>Cu(r))),s(n,["models"],o)}return n}function U2(){return{}}function I2(t){const e={},n=a(t,["totalTokens"]);return n!=null&&s(e,["totalTokens"],n),e}function L2(t){const e={},n=a(t,["tokensInfo"]);return n!=null&&s(e,["tokensInfo"],n),e}function V2(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],an(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function P2(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],V2(n)),e}function q2(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>P2(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function B2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],q2(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G2="Content-Type",z2="X-Server-Timeout",H2="User-Agent",xu="x-goog-api-client",O2="1.7.0",F2=`google-genai-sdk/${O2}`,Y2="v1beta1",J2="v1beta",Um=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Z2{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Y2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:J2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))l.searchParams.append(r,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(n))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const l=new AbortController,o=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return n&&n.extraBody!==null&&$2(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Im(l),new hu(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Im(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Fi(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:c}=yield he(l.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),g=h.status,S=h.code,C=`got status: ${g}. ${JSON.stringify(m)}`;if(S>=400&&S<600)throw new vs({message:C,status:S})}}catch(m){if(m.name==="ApiError")throw m}r+=f;let d=r.match(Um);for(;d;){const m=d[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield he(new hu(h)),r=r.slice(d[0].length),d=r.match(Um)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=F2+" "+this.clientOptions.userAgentExtra;return e[H2]=n,e[xu]=n,e[G2]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))n.append(i,l);e.timeout&&e.timeout>0&&n.append(z2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,r=await o.stat(e);l.sizeBytes=String(r.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},r=await this.request({path:V("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=r==null?void 0:r.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Im(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new vs({message:l,status:n}):new Error(l)}}function $2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,r){const u=Object.assign({},o);for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const f=r[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const l=i(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X2="mcp_used/unknown";function gy(t){for(const e of t)if(Rc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function yy(t){var e;const n=(e=t[xu])!==null&&e!==void 0?e:"";t[xu]=(n+` ${X2}`).trimStart()}function K2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>Rc(l)))!==null&&i!==void 0?i:!1}function Q2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!Rc(l)))!==null&&i!==void 0?i:!1}function Rc(t){return t!==null&&typeof t=="object"&&t instanceof bc}function W2(t,e=100){return Fi(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield he(t.listTools({cursor:i}));for(const r of o.tools)yield yield he(r),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class bc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new bc(e,n)}async initialize(){var e,n,i,l;if(this.mcpTools.length>0)return;const o={},r=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,Xl(W2(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const m=l;r.push(m);const h=m.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(m){n={error:m}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),ZS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await l.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function j2(t,e,n){const i=new IS;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const o=sE(l);Object.assign(i,o),e(i)}class eM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),r=iM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),m=e.callbacks,h=function(){f({})},g=this.apiClient,S={onopen:h,onmessage:T=>{j2(g,m.onmessage,T)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},C=this.webSocketFactory.create(c,nM(r),S);C.connect(),await d;const E=le(this.apiClient,e.model),v=cy({model:E}),y=Tu({setup:v});return C.send(JSON.stringify(y)),new tM(C,this.apiClient)}}class tM{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=C1(e),i=fy(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=x1(e),i=Tu(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Tu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ii.PLAY)}pause(){this.sendPlaybackControl(Ii.PAUSE)}stop(){this.sendPlaybackControl(Ii.STOP)}resetContext(){this.sendPlaybackControl(Ii.RESET_CONTEXT)}close(){this.conn.close()}}function nM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function iM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function oM(t,e,n){const i=new US;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const o=JSON.parse(l);if(t.isVertexAI()){const r=W1(o);Object.assign(i,r)}else{const r=Q1(o);Object.assign(i,r)}e(i)}class aM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new eM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,l,o,r,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&gy(e.config.tools)&&yy(m);const h=cM(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const D=this.apiClient.getApiKey();let w="BidiGenerateContent",P="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),w="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${w}?${P}=${D}`}let g=()=>{};const S=new Promise(D=>{g=D}),C=e.callbacks,E=function(){var D;(D=C==null?void 0:C.onopen)===null||D===void 0||D.call(C),g({})},v=this.apiClient,y={onopen:E,onmessage:D=>{oM(v,C.onmessage,D)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(D){}},T=this.webSocketFactory.create(d,uM(h),y);T.connect(),await S;let x=le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const D=this.apiClient.getProject(),w=this.apiClient.getLocation();x=`projects/${D}/locations/${w}/`+x}let _={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ka.AUDIO]}:e.config.responseModalities=[Ka.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(u=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[],N=[];for(const D of b)if(this.isCallableTool(D)){const w=D;N.push(await w.tool())}else N.push(D);N.length>0&&(e.config.tools=N);const M={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=h1(this.apiClient,M):_=m1(this.apiClient,M),delete _.config,T.send(JSON.stringify(_)),new rM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sM={turnComplete:!0};class rM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=vt(n.turns),e.isVertexAI()?i=i.map(l=>gl(l)):i=i.map(l=>Ts(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(lM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},sM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:S1(e)}:n={realtimeInput:T1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function uM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function cM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=10;function Vm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ma(r)){l=!0;break}if(!l)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ma(t){return"callTool"in t&&typeof t.callTool=="function"}function Pm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fM extends ci{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,l,o,r,u;const c=await this.processParamsForMcpUsage(n);if(!K2(n)||Vm(n.config))return await this.generateContentInternal(c);if(Q2(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=vt(c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Lm;let g=0;for(;g<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,C=[];for(const E of(u=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[])if(ma(E)){const y=await E.callTool(f.functionCalls);C.push(...y)}g++,d={role:"user",parts:C},c.contents=vt(c.contents),c.contents.push(S),c.contents.push(d),Pm(c.config)&&(m.push(S),m.push(d))}return Pm(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(Vm(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let o;const r=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:r.push(c);let u;return o?u={generatedImages:r,positivePromptSafetyAttributes:o}:u={generatedImages:r},u}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new bo(oi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var n,i,l;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const r=await Promise.all(o.map(async c=>ma(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(u.config.tools=r,e.config&&e.config.tools&&gy(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),yy(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,l;const o=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ma(r)){const u=r,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,i,l;const o=(l=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Lm;let r=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var h,g;return Fi(this,arguments,function*(){for(var S,C,E,v;u<o;){r&&(u++,r=!1);const _=yield he(f.processParamsForMcpUsage(m)),b=yield he(f.generateContentStreamInternal(_)),N=[],M=[];try{for(var y=!0,T=(C=void 0,Xl(b)),x;x=yield he(T.next()),S=x.done,!S;y=!0){v=x.value,y=!1;const D=v;if(yield yield he(D),D.candidates&&(!((h=D.candidates[0])===null||h===void 0)&&h.content)){M.push(D.candidates[0].content);for(const w of(g=D.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<o&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(w.functionCall.name)){const P=yield he(d.get(w.functionCall.name).callTool([w.functionCall]));N.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(D){C={error:D}}finally{try{!y&&!S&&(E=T.return)&&(yield he(E.call(T)))}finally{if(C)throw C.error}}if(N.length>0){r=!0;const D=new Ml;D.candidates=[{content:{role:"user",parts:N}}],yield yield he(D);const w=[];w.push(...M),w.push({role:"user",parts:N});const P=vt(m.contents).concat(w);m.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Dm(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=km(d),h=new Ml;return Object.assign(h,m),h})}else{const f=bm(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=wm(d),h=new Ml;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Dm(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(m){return Fi(this,arguments,function*(){var h,g,S,C;try{for(var E=!0,v=Xl(m),y;y=yield he(v.next()),h=y.done,!h;E=!0){C=y.value,E=!1;const x=km(yield he(C.json())),_=new Ml;Object.assign(_,x),yield yield he(_)}}catch(T){g={error:T}}finally{try{!E&&!h&&(S=v.return)&&(yield he(S.call(v)))}finally{if(g)throw g.error}}})})}else{const f=bm(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(m){return Fi(this,arguments,function*(){var h,g,S,C;try{for(var E=!0,v=Xl(m),y;y=yield he(v.next()),h=y.done,!h;E=!0){C=y.value,E=!1;const x=wm(yield he(C.json())),_=new Ml;Object.assign(_,x),yield yield he(_)}}catch(T){g={error:T}}finally{try{!E&&!h&&(S=v.return)&&(yield he(S.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=TA(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=E2(d),h=new rm;return Object.assign(h,m),h})}else{const f=kE(this.apiClient,e);return u=V("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=e2(d),h=new rm;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=CA(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=M2(d),h=new um;return Object.assign(h,m),h})}else{const f=IE(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=i2(d),h=new um;return Object.assign(h,m),h})}}async editImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=RA(this.apiClient,e);return o=V("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=N2(c),d=new NS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=DA(this.apiClient,e);return o=V("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=R2(c),d=new RS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=wA(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Cu(d))}else{const f=LE(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Su(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=UA(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=k2(this.apiClient,d),h=new cm;return Object.assign(h,m),h})}else{const f=PE(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=o2(this.apiClient,d),h=new cm;return Object.assign(h,m),h})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=LA(this.apiClient,e);return u=V("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Cu(d))}else{const f=BE(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Su(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=VA(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=U2(),m=new fm;return Object.assign(m,d),m})}else{const f=GE(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=a2(),m=new fm;return Object.assign(m,d),m})}}async countTokens(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=qA(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=I2(d),h=new dm;return Object.assign(h,m),h})}else{const f=HE(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=s2(d),h=new dm;return Object.assign(h,m),h})}}async computeTokens(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=BA(this.apiClient,e);return o=V("{model}:computeTokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=L2(c),d=new bS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=HA(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>B2(d))}else{const f=YE(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>f2(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function mM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function hM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["operationName"],n);const i=a(t,["resourceName"]);i!=null&&s(e,["_url","resourceName"],i);const l=a(t,["config"]);return l!=null&&s(e,["config"],l),e}function pM(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],an(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function gM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],pM(n)),e}function yM(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>gM(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function vM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],yM(r)),e}function TM(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],an(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function SM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],TM(n)),e}function CM(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>SM(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function qm(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],CM(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xM extends ci{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=mM(e);return u=V("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>qm(d))}else{const f=dM(e);return u=V("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>vM(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=hM(e);return o=V("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>qm(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _M(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function vy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],_M(n)),e}function EM(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],vy(i)),e}function AM(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>EM(l))),s(e,["speakerVoiceConfigs"],i)}return e}function MM(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],vy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],AM(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function NM(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function RM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function bM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function DM(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],NM(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],RM(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],bM(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function wM(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>DM(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function kM(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function UM(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function IM(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],UM(n)),e}function LM(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function VM(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],LM(n)),e}function PM(){return{}}function qM(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>kM(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],IM(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],VM(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],PM());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function BM(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bm(){return{}}function GM(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function zM(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],GM(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function HM(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function OM(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],HM(i)),e}function FM(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function YM(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],MM(Mc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],wM(Oe(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let _=pl(S);Array.isArray(_)&&(_=_.map(b=>qM(hl(b)))),s(e,["setup","tools"],_)}const C=a(t,["sessionResumption"]);e!==void 0&&C!=null&&s(e,["setup","sessionResumption"],BM(C));const E=a(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&s(e,["setup","inputAudioTranscription"],Bm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Bm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],zM(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],OM(T));const x=a(t,["proactivity"]);return e!==void 0&&x!=null&&s(e,["setup","proactivity"],FM(x)),n}function JM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],le(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],YM(l,n)),n}function ZM(t,e,n){const i={},l=a(e,["expireTime"]);n!==void 0&&l!=null&&s(n,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&s(n,["newSessionExpireTime"],o);const r=a(e,["uses"]);n!==void 0&&r!=null&&s(n,["uses"],r);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&s(n,["bidiGenerateContentSetup"],JM(t,u));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&s(n,["fieldMask"],c),i}function $M(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],ZM(t,i,n)),n}function XM(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KM(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${n}.${o}`);e.push(...l)}else e.push(n)}return e.join(",")}function QM(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const o=KM(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>r.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class WM extends ci{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=$M(this.apiClient,e);o=V("auth_tokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query;const c=QM(u,e.config);return l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>XM(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function eN(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function tN(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],eN(n,e)),e}function nN(t){const e={},n=a(t,["textInput"]);n!=null&&s(e,["textInput"],n);const i=a(t,["output"]);return i!=null&&s(e,["output"],i),e}function iN(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>nN(l))),s(e,["examples","examples"],i)}return e}function lN(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&s(e,["displayName"],i),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&s(e,["tuningTask","hyperparameters","epochCount"],l);const o=a(t,["learningRateMultiplier"]);if(o!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","batchSize"],r);const u=a(t,["learningRate"]);return e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","learningRate"],u),n}function oN(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["tuningTask","trainingData"],iN(i));const l=a(t,["config"]);return l!=null&&s(e,["config"],lN(l,e)),e}function aN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function sN(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function rN(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],sN(n,e)),e}function uN(t,e){const n={},i=a(t,["gcsUri"]);if(e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function cN(t){const e={},n=a(t,["gcsUri"]);return n!=null&&s(e,["validationDatasetUri"],n),e}function fN(t,e){const n={},i=a(t,["validationDataset"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec"],cN(i));const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&s(e,["tunedModelDisplayName"],l);const o=a(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const r=a(t,["epochCount"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],r);const u=a(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=a(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=a(t,["adapterSize"]);if(e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function dN(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],uN(i,e));const l=a(t,["config"]);return l!=null&&s(e,["config"],fN(l,e)),e}function mN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["model"],n);const i=a(t,["name"]);return i!=null&&s(e,["endpoint"],i),e}function Ty(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],Wg(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["tuningTask","startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["tuningTask","completeTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["description"]);c!=null&&s(e,["description"],c);const f=a(t,["baseModel"]);f!=null&&s(e,["baseModel"],f);const d=a(t,["_self"]);d!=null&&s(e,["tunedModel"],mN(d));const m=a(t,["distillationSpec"]);m!=null&&s(e,["distillationSpec"],m);const h=a(t,["experiment"]);h!=null&&s(e,["experiment"],h);const g=a(t,["labels"]);g!=null&&s(e,["labels"],g);const S=a(t,["pipelineJob"]);S!=null&&s(e,["pipelineJob"],S);const C=a(t,["serviceAccount"]);C!=null&&s(e,["serviceAccount"],C);const E=a(t,["tunedModelDisplayName"]);return E!=null&&s(e,["tunedModelDisplayName"],E),e}function hN(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Ty(o))),s(e,["tuningJobs"],l)}return e}function pN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);return o!=null&&s(e,["error"],o),e}function gN(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);l!=null&&s(e,["step"],l);const o=a(t,["endpoint"]);return o!=null&&s(e,["endpoint"],o),e}function yN(t){const e={},n=a(t,["model"]);n!=null&&s(e,["model"],n);const i=a(t,["endpoint"]);i!=null&&s(e,["endpoint"],i);const l=a(t,["checkpoints"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>gN(r))),s(e,["checkpoints"],o)}return e}function _u(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],Wg(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["error"]);c!=null&&s(e,["error"],c);const f=a(t,["description"]);f!=null&&s(e,["description"],f);const d=a(t,["baseModel"]);d!=null&&s(e,["baseModel"],d);const m=a(t,["tunedModel"]);m!=null&&s(e,["tunedModel"],yN(m));const h=a(t,["supervisedTuningSpec"]);h!=null&&s(e,["supervisedTuningSpec"],h);const g=a(t,["tuningDataStats"]);g!=null&&s(e,["tuningDataStats"],g);const S=a(t,["encryptionSpec"]);S!=null&&s(e,["encryptionSpec"],S);const C=a(t,["partnerModelTuningSpec"]);C!=null&&s(e,["partnerModelTuningSpec"],C);const E=a(t,["distillationSpec"]);E!=null&&s(e,["distillationSpec"],E);const v=a(t,["experiment"]);v!=null&&s(e,["experiment"],v);const y=a(t,["labels"]);y!=null&&s(e,["labels"],y);const T=a(t,["pipelineJob"]);T!=null&&s(e,["pipelineJob"],T);const x=a(t,["serviceAccount"]);x!=null&&s(e,["serviceAccount"],x);const _=a(t,["tunedModelDisplayName"]);return _!=null&&s(e,["tunedModelDisplayName"],_),e}function vN(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>_u(o))),s(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TN extends ci{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bo(oi.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:mu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=aN(e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>_u(d))}else{const f=jM(e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Ty(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=rN(e);return u=V("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=vN(d),h=new mm;return Object.assign(h,m),h})}else{const f=tN(e);return u=V("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=hN(d),h=new mm;return Object.assign(h,m),h})}}async tuneInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=dN(e);return o=V("tuningJobs",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>_u(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=oN(e);return o=V("tunedModels",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>pN(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const CN=1024*1024*8,xN=3,_N=1e3,EN=2,sr="x-goog-upload-status";async function AN(t,e,n){var i,l,o;let r=0,u=0,c=new hu(new Response),f="upload";for(r=t.size;u<r;){const m=Math.min(CN,r-u),h=t.slice(u,u+m);u+m>=r&&(f+=", finalize");let g=0,S=_N;for(;g<xN&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[sr]));)g++,await NN(S),S=S*EN;if(u+=m,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[sr])!=="active")break;if(r<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[sr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function MN(t){return{size:t.size,type:t.type}}function NN(t){return new Promise(e=>setTimeout(e,t))}class RN{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AN(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bN{create(e,n,i){return new DN(e,n,i)}}class DN{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gm="x-goog-api-key";class wN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Gm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Gm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kN="gl-node/";class UN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=MS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new wN(this.apiKey);this.apiClient=new Z2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:kN+"web",uploader:new RN,downloader:new SN}),this.models=new fM(this.apiClient),this.live=new aM(this.apiClient,l,new bN),this.batches=new ex(this.apiClient),this.chats=new l_(this.models,this.apiClient),this.caches=new t_(this.apiClient),this.files=new y_(this.apiClient),this.operations=new xM(this.apiClient),this.authTokens=new WM(this.apiClient),this.tunings=new TN(this.apiClient)}}const Sy="gemini-2.5-flash-preview-04-17",IN=`
{
  "salespersonEvaluation": {
    "strengths": ["สร้างความสัมพันธ์ได้ดี", "มีความกระตือรือร้นในการนำเสนอ"],
    "areasForImprovement": ["ควรนำเสนอข้อมูลทางเทคนิคให้แม่นยำขึ้น", "เทคนิคการปิดการขายยังไม่เฉียบคม"],
    "communicationStyle": "เป็นมิตรและเข้าถึงง่าย",
    "productKnowledgeScore": 7,
    "closingSkillScore": 6,
    "overallPerformanceScore": 75
  },
  "customerEvaluation": {
    "customerProfile": "ลูกค้าเก่า เคยซื้อสินค้า X เมื่อ 6 เดือนก่อน เป็นผู้ใช้จริงแต่ไม่มีอำนาจตัดสินใจ",
    "interestLevel": 8,
    "painPointsIdentified": ["สินค้าปัจจุบันทำงานช้า", "ต้องการลดต้นทุนการดำเนินงาน"],
    "decisionMakingFactors": ["ราคา", "ความง่ายในการใช้งาน", "บริการหลังการขาย"],
    "purchasingBehavior": {
      "summary": "ลูกค้าเคยซื้อสินค้า 'Product A' 1 ชิ้น และ 'Product B' 2 ชิ้น ในปีที่แล้ว รวมยอดซื้อ 15,000 บาท",
      "buyingFrequency": "ประมาณทุกๆ 6 เดือน",
      "typicalPurchaseVolume": "ซื้อครั้งละ 1-2 รายการ",
      "priceSensitivity": "ค่อนข้างอ่อนไหวต่อราคา ตอบสนองต่อโปรโมชั่นส่วนลด"
    },
    "customerSentiment": "มีความสนใจแต่กังวลเรื่องงบประมาณ"
  },
  "situationalEvaluation": {
    "callSentiment": "เชิงบวกเป็นส่วนใหญ่ มีความกังวลช่วงท้าย",
    "currentSalesStage": "การนำเสนอโซลูชัน",
    "keyTopicsDiscussed": ["ฟีเจอร์ใหม่ของ Product C", "เปรียบเทียบกับคู่แข่ง", "ราคาและโปรโมชั่น"],
    "unresolvedQuestions": ["ต้องการใบเสนอราคาอย่างเป็นทางการ", "ใครคือผู้มีอำนาจอนุมัติสุดท้าย"],
    "callOutcomeSummary": "ลูกค้าร้องขอใบเสนอราคาและจะนำไปปรึกษาทีม แม้ลูกค้าจะสนใจสินค้ามาก แต่ได้แจ้งว่าไม่มีงบประมาณสำหรับโครงการนี้ในปีนี้ ทำให้โอกาสปิดการขายทันทีต่ำมาก",
    "closingProbability": 5,
    "positiveSignals": ["ลูกค้าถามถึงขั้นตอนการสั่งซื้อ", "แสดงความสนใจในฟีเจอร์ X อย่างชัดเจน"],
    "negativeSignals": ["ลูกค้ากล่าวถึงงบประมาณที่จำกัดหลายครั้ง", "ยืนยันว่าไม่มีงบประมาณในปีนี้"]
  },
  "strategicRecommendations": {
    "nextBestAction": "ส่งอีเมลสรุปการสนทนาพร้อมใบเสนอราคา และข้อมูลสำหรับของบประมาณในปีถัดไป",
    "talkingPoints": ["เน้นย้ำเรื่องการลดต้นทุนจากการใช้ผลิตภัณฑ์ใหม่", "เสนอ case study ของลูกค้าที่คล้ายกัน"],
    "suggestedOffer": "ส่วนลดพิเศษสำหรับการสั่งซื้อล่วงหน้าสำหรับงบประมาณปีหน้า",
    "potentialUpsellOpportunities": ["เสนอแพ็กเกจบริการดูแลรักษารายปี", "ผลิตภัณฑ์เสริม Y ที่ทำงานร่วมกันได้ดี"],
    "detailedStrategy": [
      {
        "recommendation": "ส่งอีเมลสรุปและใบเสนอราคา",
        "reasoning": "เพื่อรักษาโมเมนตัมและให้ข้อมูลที่เป็นลายลักษณ์อักษรสำหรับให้ลูกค้าไปปรึกษาทีมและวางแผนงบประมาณ",
        "successProbability": 90
      },
      {
        "recommendation": "โทรติดตามผลในอีก 3 เดือนเพื่อสอบถามความคืบหน้าเรื่องงบประมาณ",
        "reasoning": "เพื่อรักษาความสัมพันธ์และแสดงความใส่ใจ เตรียมพร้อมสำหรับโอกาสในอนาคต",
        "successProbability": 60
      }
    ]
  },
  "transcribedText": [
    { "speaker": "ผู้ขาย", "utterance": "สวัสดีครับคุณลูกค้า มีอะไรให้ช่วยไหมครับ", "timestamp": "00:00:02.100" },
    { "speaker": "ลูกค้า", "utterance": "สนใจสอบถามเกี่ยวกับโปรโมชั่นล่าสุดครับ", "timestamp": "00:00:05.500" }
  ]
}`,LN=t=>t?`
ส่วนที่ 2: คำใบ้เกี่ยวกับพนักงานขาย (Salesperson Hint)
ข้อมูลระบบระบุว่าพนักงานขายในสายนี้คือ:
- ชื่อ: ${t.name}
- เบอร์โทรศัพท์: ${t.phone}

โปรดใช้ข้อมูลนี้เป็น "คำใบ้ที่สำคัญ" เพื่อช่วยในการยืนยันและระบุบทบาทของผู้พูดในการสนทนาให้ถูกต้อง
`:"",VN=t=>t&&t.trim()!==""?`
ส่วนที่ 3: ข้อมูลผลิตภัณฑ์ (Product Context)
ใช้รายการด้านล่างนี้เพื่อช่วยในการระบุชื่อผลิตภัณฑ์ที่อาจถูกกล่าวถึงในการสนทนา:
${t}
`:"",PN=t=>t&&t.trim()!=="[]"&&t.trim()!==""?`
ส่วนที่ 4: ประวัติการซื้อของลูกค้า (Customer Purchase History)
นี่คือประวัติการซื้อของลูกค้าที่อยู่ในสาย โปรดใช้ข้อมูลนี้เพื่อทำความเข้าใจความสัมพันธ์ของลูกค้ากับบริษัทและปรับการวิเคราะห์ของคุณ:
${t}
`:"",Cy=(t,e,n)=>{const i=e?JSON.stringify(e,null,2):null;return`
คุณคือสุดยอดโค้ชการขายและนักวิเคราะห์ข้อมูลผู้เชี่ยวชาญ ภารกิจของคุณคือวิเคราะห์การสนทนาการขายอย่างละเอียดเพื่อเพิ่มประสิทธิภาพและโอกาสในการปิดการขาย

**ขั้นตอนการทำงาน (สำคัญมาก):**
1.  **ระบุบทบาทผู้พูด:** งานแรกและสำคัญที่สุดของคุณคือการระบุว่าใครคือ "ผู้ขาย" และใครคือ "ลูกค้า" โดยอิงตามเนื้อหาการสนทนาและคำใบ้ที่ให้มา (ถ้ามี) จากนั้น **ต้อง** แก้ไขป้ายกำกับผู้พูดในผลลัพธ์ \`transcribedText\` ให้เป็น "ผู้ขาย" หรือ "ลูกค้า" ให้ถูกต้องเสมอ
2.  **วิเคราะห์เชิงลึก:** หลังจากระบุบทบาทแล้ว ให้ทำการวิเคราะห์การสนทนาตามหัวข้อต่างๆ

คุณจะได้รับข้อมูลสูงสุด 4 ส่วนเพื่อใช้ในการวิเคราะห์:
1.  **บทสนทนา (จากข้อความหรือไฟล์เสียง):** เนื้อหาหลักของการสนทนา
${LN(n)}
${VN(t)}
${PN(i)}

วิเคราะห์ข้อมูลทั้งหมดที่ได้รับอย่างละเอียด และทำการประเมินใน 4 หัวข้อหลัก:
1.  **ประเมินพนักงานขาย (Salesperson Evaluation):** วิเคราะห์ประสิทธิภาพของพนักงานขายในด้านต่างๆ
2.  **ประเมินลูกค้า (Customer Evaluation):** ทำความเข้าใจโปรไฟล์ ความต้องการ และความรู้สึกของลูกค้า
3.  **ประเมินสถานการณ์ (Situational Evaluation):** สรุปภาพรวม, บรรยากาศ, และระบุสัญญาณเชิงบวกและลบที่สำคัญจากการสนทนา
4.  **กลยุทธ์และคำแนะนำ (Strategic Recommendations):** เสนอแนะกลยุทธ์ที่เป็นรูปธรรมและวัดผลได้เพื่อนำไปสู่ความสำเร็จ

ข้อกำหนดในการตอบ:
- **ต้องตอบเป็นภาษาไทยเท่านั้น** ในทุกๆ field ของ JSON ห้ามใช้ภาษาอังกฤษโดยเด็ดขาด
- **ระบุบทบาทให้ถูกต้อง:** ใน \`transcribedText\`, ค่า \`speaker\` ต้องเป็น "ผู้ขาย" หรือ "ลูกค้า" เท่านั้น ห้ามใช้ค่าอื่นเช่น "Speaker 1" หรือ "Speaker 2"
- **วิเคราะห์พฤติกรรมการซื้อ:** จากข้อมูลประวัติการซื้อ (ถ้ามี) ให้วิเคราะห์และสรุปพฤติกรรมการซื้อของลูกค้าใน field \`purchasingBehavior\` โดยต้องมีข้อมูล: \`summary\`, \`buyingFrequency\`, \`typicalPurchaseVolume\`, และ \`priceSensitivity\`
- **ความสอดคล้องของข้อมูล (สำคัญมาก):** ผลการวิเคราะห์ในทุกส่วนต้องมีความสมเหตุสมผลและสอดคล้องกัน ตัวอย่างเช่น หาก "ระดับความสนใจของลูกค้า" (interestLevel) สูง แต่ "โอกาสในการปิดการขาย" (closingProbability) กลับต่ำมาก (เช่น 0-10%) คุณต้องอธิบายเหตุผลที่ขัดแย้งกันนี้ให้ชัดเจนในส่วน "สรุปผลลัพธ์การโทร" (callOutcomeSummary) เช่น 'แม้ลูกค้าสนใจ แต่ยืนยันว่าไม่มีงบประมาณสำหรับปีนี้ ทำให้โอกาสปิดการขายเป็น 0%'
- **จัดรูปแบบการตอบกลับทั้งหมดให้เป็นออบเจ็กต์ JSON ที่ถูกต้องเพียงออบเจ็กต์เดียว** และครอบด้วยบล็อกโค้ด Markdown \`\`\`json ... \`\`\` เสมอ
- โครงสร้างของ JSON ต้องเป็นไปตามตัวอย่างนี้ทุกประการ (แทนที่ค่าตัวอย่างด้วยผลการวิเคราะห์ของคุณ):

${IN}
`},qN=(t,e,n,i)=>`
${Cy(e,n,i)}

--- BEGIN TRANSCRIPT ---
${t}
--- END TRANSCRIPT ---
`,BN=(t,e,n)=>`
${Cy(t,e,n)}

โปรดเริ่มจากการถอดเสียงไฟล์เสียงที่แนบมาเป็นภาษาไทย และใส่ผลลัพธ์ใน field "transcribedText" ของ JSON ตามโครงสร้างที่กำหนด จากนั้นจึงทำการวิเคราะห์ทั้งหมด
`,GN=t=>new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{const l=i.result.split(",")[1];if(!l){n(new Error("Failed to extract base64 data from file."));return}e(l)},i.onerror=l=>n(l)}),xy=t=>{let e=t.trim();const n=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,i=e.match(n);i&&i[2]&&(e=i[2].trim());try{const l=JSON.parse(e),{salespersonEvaluation:o,customerEvaluation:r,situationalEvaluation:u,strategicRecommendations:c}=l;return o&&(Array.isArray(o.strengths)||(o.strengths=[]),Array.isArray(o.areasForImprovement)||(o.areasForImprovement=[])),r&&(Array.isArray(r.painPointsIdentified)||(r.painPointsIdentified=[]),Array.isArray(r.decisionMakingFactors)||(r.decisionMakingFactors=[])),u&&(Array.isArray(u.keyTopicsDiscussed)||(u.keyTopicsDiscussed=[]),Array.isArray(u.unresolvedQuestions)||(u.unresolvedQuestions=[]),Array.isArray(u.positiveSignals)||(u.positiveSignals=[]),Array.isArray(u.negativeSignals)||(u.negativeSignals=[])),c&&(Array.isArray(c.talkingPoints)||(c.talkingPoints=[]),Array.isArray(c.potentialUpsellOpportunities)||(c.potentialUpsellOpportunities=[]),Array.isArray(c.detailedStrategy)||(c.detailedStrategy=[])),l.transcribedText&&!Array.isArray(l.transcribedText)&&(l.transcribedText=[]),l}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Raw response text:",t),new Error(`Failed to parse AI response. Expected JSON but received: ${e.substring(0,1e3)}...`)}},_y=()=>{const t="AIzaSyDSYxYY3gu09sc82s47lCfwqw8ZCVv67eI";return new UN({apiKey:t})},zN=async(t,e,n,i)=>{const l=_y(),o=qN(t,e,n,i);try{const r=await l.models.generateContent({model:Sy,contents:o,config:{temperature:.5}});if(!r.text)throw console.error("Gemini API returned an empty text response for text transcript analysis."),new Error("Received an empty response from the AI.");return xy(r.text)}catch(r){throw console.error("Error calling Gemini API for text analysis:",r),r instanceof Error?new Error(`Gemini API error: ${r.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},HN=async(t,e,n,i)=>{const l=_y();try{const o=await GN(t),r={inlineData:{mimeType:t.type||"audio/mpeg",data:o}},u={text:BN(e,n,i)},c=await l.models.generateContent({model:Sy,contents:[{parts:[r,u]}],config:{temperature:.5}});if(!c.text)throw console.error("Gemini API returned an empty text response for audio file analysis."),new Error("Received an empty response from the AI.");return xy(c.text)}catch(o){throw console.error("Error calling Gemini API for audio analysis:",o),o instanceof Error?new Error(`Gemini API error: ${o.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},ON=/^myrecordings_(\d{8})_(\d{6})_(in|out)_([^_]+)_([^_.]+)\.(WAV|MP3|M4A|OGG|FLAC)$/i,zm=t=>{let e=t.replace(/%2B/g,"");return e.startsWith("66")?"0"+e.substring(2):e},FN=t=>{const e=t.match(ON);if(!e)return null;const[,n,i,l,o,r]=e,u=n.substring(0,4),c=n.substring(4,6),f=n.substring(6,8),d=i.substring(0,2),m=i.substring(2,4),h=i.substring(4,6);return{date:`${u}-${c}-${f}`,time:`${d}:${m}:${h}`,callType:l.toLowerCase()==="out"?"โทรออก":"โทรเข้า",sourcePhone:zm(o),destinationPhone:zm(r),originalFilename:t}},YN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.95-4.243-1.591 1.591M5.25 12H3m4.243-4.95L6 6.209M12 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0Z"})}),JN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),ZN=({theme:t,toggleTheme:e})=>p.jsx("button",{onClick:e,className:`p-2 rounded-full transition-all duration-300
                 text-slate-500 hover:text-slate-900 hover:bg-slate-200/70
                 dark:text-slate-400 dark:hover:text-slate-100 dark:hover:bg-white/10`,"aria-label":`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?p.jsx(YN,{className:"h-6 w-6"}):p.jsx(JN,{className:"h-6 w-6"})}),$N=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",...t,children:[p.jsx("path",{fill:"#4285F4",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),p.jsx("path",{fill:"#34A853",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l5.657,5.657C42.822,35.419,44,31.891,44,28C44,22.659,43.862,21.35,43.611,20.083z"}),p.jsx("path",{fill:"#FBBC05",d:"M19.913,38.221c-1.856-1.405-3.295-3.334-4.087-5.571L10.169,38.31C13.438,42.946,18.4,46,24,46c5.6,0,10.562-3.054,13.831-7.69l-5.657-5.657C30.651,34.469,27.428,36,24,36C22.618,36,21.284,35.539,20.12,34.738L19.913,38.221z"}),p.jsx("path",{fill:"#EA4335",d:"M24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C18.4,4,13.438,7.054,10.169,11.69l5.657,5.657C16.618,14.461,19.841,12,24,12z"})]}),XN=({isLoggedIn:t,userProfile:e,onLogin:n,onLogout:i,isGapiReady:l})=>t&&e?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:e.imageUrl,alt:e.name,className:"h-8 w-8 rounded-full border-2 border-slate-300 dark:border-slate-600",title:`Logged in as ${e.name} (${e.email})`}),p.jsx("button",{onClick:i,className:"text-xs text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100 transition-colors",children:"Logout"})]}):p.jsxs("button",{onClick:n,disabled:!l,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 text-sm
                       text-slate-600 bg-white/80 border border-slate-300 hover:bg-slate-200
                       dark:text-slate-300 dark:bg-white/10 dark:border-white/20 dark:hover:bg-white/20
                       disabled:opacity-50 disabled:cursor-wait`,"aria-label":"Login with Google",children:[p.jsx($N,{className:"h-4 w-4"}),l?"Login":"Loading..."]}),Hm=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),KN=({customer:t})=>p.jsx("div",{className:"bg-white/50 dark:bg-black/20 backdrop-blur-xl p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:p.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[p.jsx(lu,{className:"h-16 w-16 text-sky-500 dark:text-sky-400 shrink-0"}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:t.name}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:t.phone}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:t.address})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4 text-right w-full sm:w-auto mt-4 sm:mt-0",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ยอดรวม"}),p.jsxs("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:[t.totalSpent.toLocaleString("th-TH")," บาท"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"จำนวนครั้งที่สั่ง"}),p.jsx("p",{className:"text-xl font-bold text-sky-600 dark:text-sky-400",children:t.orderCount})]})]})]})}),QN=({records:t})=>p.jsxs("div",{className:"mt-6",children:[p.jsxs("h4",{className:"text-xl font-semibold mb-4 flex items-center text-slate-700 dark:text-slate-300",children:[p.jsx(Hg,{className:"h-6 w-6 mr-3"})," ประวัติการสั่งซื้อ"]}),p.jsx("div",{className:"overflow-x-auto bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-200/60 dark:bg-white/5 text-slate-700 dark:text-slate-300",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 font-semibold",children:"วันที่ขาย"}),p.jsx("th",{className:"px-4 py-3 font-semibold",children:"สินค้า"}),p.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"จำนวน"}),p.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"ราคา"}),p.jsx("th",{className:"px-4 py-3 font-semibold",children:"พนักงานขาย"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200/80 dark:divide-white/10 text-slate-800 dark:text-slate-300",children:t.map((e,n)=>{var i;return p.jsxs("tr",{className:"hover:bg-slate-200/40 dark:hover:bg-white/5",children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.วันที่ขาย.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"})}),p.jsx("td",{className:"px-4 py-3",children:e.สินค้า||"-"}),p.jsx("td",{className:"px-4 py-3 text-right",children:e.จำนวน??"-"}),p.jsx("td",{className:"px-4 py-3 text-right",children:((i=e.ราคา)==null?void 0:i.toLocaleString("th-TH"))??"-"}),p.jsx("td",{className:"px-4 py-3",children:e.พนักงานขาย||"-"})]},n)})})]})})]}),WN=({allRecords:t,isLoading:e,error:n})=>{const[i,l]=G.useState(""),[o,r]=G.useState(null),[u,c]=G.useState(null),f=G.useMemo(()=>{if(!t)return[];const C=new Map;return t.forEach(E=>{const v=E.เบอร์โทร;C.has(v)||C.set(v,{records:[]}),C.get(v).records.push(E)}),Array.from(C.entries()).map(([E,v])=>{const T=v.records.sort((b,N)=>N.วันที่ขาย.getTime()-b.วันที่ขาย.getTime())[0],x=v.records.reduce((b,N)=>b+(N.ราคา||0),0),_=new Set(v.records.map(b=>b.วันที่ขาย.toDateString()));return{phone:E,name:T.ชื่อผู้รับ||T["ชื่อ Facebook"]||"Unknown",facebookName:T["ชื่อ Facebook"],address:`${T.ที่อยู่||""} ${T.ตำบล||""} ${T.อำเภอ||""} ${T.จังหวัด||""} ${T.รหัสไปรษณีย์||""}`.trim()||"ไม่มีข้อมูลที่อยู่",totalSpent:x,orderCount:_.size}})},[t]),d=C=>{l(C.target.value),c(null),r(null)},m=G.useCallback(()=>{if(!i.trim()){r([]);return}const C=i.toLowerCase(),E=f.filter(v=>v.phone.includes(i.replace(/\D/g,""))||v.name.toLowerCase().includes(C)||(v.facebookName||"").toLowerCase().includes(C));E.length===1?(c(E[0]),r(null)):r(E)},[i,f]),h=C=>{c(C),r(null),l(C.name)},g=()=>{l(""),r(null),c(null)},S=G.useMemo(()=>!u||!t?[]:t.filter(C=>C.เบอร์โทร===u.phone).sort((C,E)=>E.วันที่ขาย.getTime()-C.วันที่ขาย.getTime()),[u,t]);return p.jsxs("main",{className:"container mx-auto mt-4 mb-8 p-4 sm:p-6 lg:p-8 w-full max-w-5xl bg-slate-100/80 dark:bg-black/20 backdrop-blur-2xl shadow-2xl rounded-3xl border border-slate-200 dark:border-white/10 relative",children:[e&&p.jsx(Og,{}),n&&p.jsx(ou,{message:n}),!e&&!n&&t&&p.jsxs("div",{className:"animate-fadeIn",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-3",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(Hm,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 pointer-events-none"}),p.jsx("input",{type:"text",value:i,onChange:d,onKeyDown:C=>C.key==="Enter"&&m(),placeholder:"ค้นหาด้วยชื่อ, ชื่อ Facebook, หรือเบอร์โทรศัพท์...",className:"w-full pl-12 pr-4 py-3 bg-white/80 dark:bg-black/30 border-2 border-slate-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-lg text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 backdrop-blur-sm",autoComplete:"off"})]}),p.jsxs("button",{onClick:m,disabled:!i.trim(),className:"w-full sm:w-auto px-6 py-3 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-xl transition-colors duration-150 disabled:opacity-50 flex items-center justify-center gap-2",children:[p.jsx(Hm,{className:"h-5 w-5"}),"ค้นหา"]}),p.jsx("button",{onClick:g,className:"w-full sm:w-auto px-4 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-white/10 dark:hover:bg-white/20 text-slate-600 dark:text-slate-300 font-semibold rounded-xl transition-colors duration-150 flex items-center justify-center gap-2",title:"ล้างข้อมูล",children:p.jsx(Fg,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"mt-8",children:[u&&p.jsxs("div",{className:"animate-fadeIn",children:[p.jsx(KN,{customer:u}),p.jsx(QN,{records:S})]}),o&&o.length>1&&!u&&p.jsxs("div",{className:"animate-fadeIn",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-700 dark:text-slate-200",children:"พบผลลัพธ์หลายรายการ กรุณาเลือก:"}),p.jsx("ul",{className:"space-y-3",children:o.map(C=>p.jsxs("li",{onClick:()=>h(C),className:"p-4 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-lg shadow-md border border-slate-200 dark:border-white/10 cursor-pointer hover:border-sky-500 hover:bg-sky-50 dark:hover:bg-sky-500/10 transition-all",children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:C.name}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.phone})]},C.phone))})]}),o&&o.length===0&&p.jsx("div",{className:"text-center py-10 text-slate-500 dark:text-slate-400",children:p.jsxs("p",{children:['ไม่พบข้อมูลลูกค้าที่ตรงกับ "',i,'"']})})]})]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
      `}})]})},jN=({message:t="กำลังเตรียมข้อมูล..."})=>p.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-900 transition-opacity duration-300 ease-in-out",children:p.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[p.jsxs("svg",{className:"animate-spin h-16 w-16 text-sky-500 mb-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-700 dark:text-slate-200",children:t}),p.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"กรุณารอสักครู่ ระบบกำลังโหลดข้อมูลจากฐานข้อมูล"})]})}),eR="https://raw.githubusercontent.com/PonuoM/search/main/sales_data.xlsx",tR=t=>{if(!t)return null;if(t instanceof Date&&!isNaN(t.getTime()))return t;if(typeof t=="string"){const e=t.trim(),n=e.split("/");if(n.length===3){const l=parseInt(n[0],10),o=parseInt(n[1],10),r=parseInt(n[2],10);if(!isNaN(l)&&!isNaN(o)&&!isNaN(r)&&r>1e3){const u=new Date(r,o-1,l);if(u&&u.getFullYear()===r&&u.getMonth()===o-1&&u.getDate()===l)return u}}const i=new Date(e);return isNaN(i.getTime())?null:i}if(typeof t=="number"&&t>0){const e=new Date((t-25569)*86400*1e3);return isNaN(e.getTime())?null:e}return null},rr=t=>{if(t==null)return;if(typeof t=="number")return t;const e=Number(String(t).replace(/,/g,""));return isNaN(e)?void 0:e},nR=(t,e,n)=>{const i=tR(t[e]),l=t[n]?String(t[n]).replace(/\D/g,""):null;return!i||!l?null:{วันที่ขาย:i,เบอร์โทร:l,ลำดับ:rr(t.ลำดับ),ช่องทางขาย:t.ช่องทางขาย?String(t.ช่องทางขาย):void 0,ชำระเงิน:t.ชำระเงิน?String(t.ชำระเงิน):void 0,"ชื่อ Facebook":t["ชื่อ Facebook"]?String(t["ชื่อ Facebook"]):void 0,พนักงานขาย:t.พนักงานขาย?String(t.พนักงานขาย):void 0,สินค้า:t.สินค้า?String(t.สินค้า):void 0,จำนวน:rr(t.จำนวน),ราคา:rr(t.ราคา),ชื่อผู้รับ:t.ชื่อผู้รับ?String(t.ชื่อผู้รับ):void 0,ที่อยู่:t.ที่อยู่?String(t.ที่อยู่):void 0,ตำบล:t.ตำบล?String(t.ตำบล):void 0,อำเภอ:t.อำเภอ?String(t.อำเภอ):void 0,จังหวัด:t.จังหวัด?String(t.จังหวัด):void 0,รหัสไปรษณีย์:t.รหัสไปรษณีย์?String(t.รหัสไปรษณีย์):void 0}},iR=()=>{const[t,e]=G.useState(null),[n,i]=G.useState(!1),[l,o]=G.useState(null),[r,u]=G.useState(je.TEXT),[c,f]=G.useState(""),[d,m]=G.useState(null),[h,g]=G.useState(null),[S,C]=G.useState(null),[E,v]=G.useState(null),[y,T]=G.useState(null),[x,_]=G.useState("dark"),[b,N]=G.useState(!1),[M,D]=G.useState(null),[w,P]=G.useState(""),[fe,Ge]=G.useState(!1),[ge,re]=G.useState("analyzer"),[k,O]=G.useState(""),[B,oe]=G.useState(null),[me,Bt]=G.useState(null),[At,Gt]=G.useState(null),[Mt,qn]=G.useState(!0),[Cs,Dc]=G.useState(null),[Ay,xs]=G.useState("กำลังเตรียมข้อมูล..."),My=k==="1234";G.useEffect(()=>{(async()=>{xs("กำลังโหลดข้อมูลหลัก...");try{const F=await fetch(eR);if(!F.ok)throw new Error(`ไม่สามารถดาวน์โหลดไฟล์ข้อมูลได้ (HTTP ${F.status})`);const Re=await F.arrayBuffer(),Xe=kc.read(Re,{type:"buffer"}),Bn=Xe.SheetNames[0],sn=Xe.Sheets[Bn],fi=kc.utils.sheet_to_json(sn,{raw:!0,defval:null}).map(ue=>nR(ue,"วันที่ขาย","เบอร์โทร")).filter(ue=>ue!==null);Bt(fi)}catch(F){console.error("Error fetching GitHub data:",F),Dc(`ไม่สามารถโหลดข้อมูลจาก GitHub: ${F instanceof Error?F.message:"Unknown error"}`),Bt([])}})()},[]),G.useEffect(()=>{(async()=>{if(b&&w){xs("กำลังโหลดข้อมูล Real-time...");try{const{salesData:F,contextData:Re}=await IT(w);Gt(F),g(Re)}catch(F){console.error("Error fetching Google Sheet data:",F),Dc(Re=>`${Re?Re+`
`:""}ไม่สามารถโหลดข้อมูลจาก Google Sheet: ${F instanceof Error?F.message:"Unknown error"}`),Gt([]),g(null)}}})()},[b,w]),G.useEffect(()=>{if(me===null)return;xs("กำลังรวมข้อมูล...");const Q=new Map,F=Fe=>`${Fe.เบอร์โทร}_${Fe.วันที่ขาย.toISOString().split("T")[0]}_${Fe.สินค้า||""}_${Fe.ราคา||0}`;(me||[]).forEach(Fe=>{Q.set(F(Fe),Fe)}),(At||[]).forEach(Fe=>{Q.set(F(Fe),Fe)});const Re=Array.from(Q.values()).sort((Fe,fi)=>fi.วันที่ขาย.getTime()-Fe.วันที่ขาย.getTime());oe(Re),me!==null&&(!!!w||!b||At!==null)&&qn(!1)},[me,At,w,b]),G.useEffect(()=>{const Q=localStorage.getItem("googleSheetId");Q&&P(Q)},[]),G.useEffect(()=>{w?localStorage.setItem("googleSheetId",w):localStorage.removeItem("googleSheetId")},[w]),G.useEffect(()=>{const Q=()=>{hn.client.init({apiKey:"AIzaSyATZFV65oVONu6OYBvGRMHFETe673Q2A8w",clientId:"53047523110-uglvdak33tf38glmj73egrn1g9f4c6cb.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}).then(()=>{Ge(!0);const F=hn.auth2.getAuthInstance();if(F&&F.isSignedIn.get()){N(!0);const Xe=F.currentUser.get().getBasicProfile();D({name:Xe.getName(),email:Xe.getEmail(),imageUrl:Xe.getImageUrl()})}}).catch(F=>{console.error("Error initializing GAPI client",F);let Re="Could not initialize Google services.";if(typeof F=="object"&&F!==null&&"details"in F&&typeof F.details=="string"){const Xe=F.details;(Xe.includes("invalid")||Xe.includes("not a valid origin"))&&(Re=`เกิดข้อผิดพลาดในการกำหนดค่า Google: URL (${window.location.origin}) อาจไม่ได้ลงทะเบียนเป็น 'Authorized JavaScript origins' ใน Google Cloud Project ของคุณ`)}o(Re),Ge(!1)})};hn.load("client:auth2",Q)},[]);const Ny=G.useCallback(async()=>{try{const Q=hn.auth2.getAuthInstance();if(Q){const F=await Q.signIn();N(!0);const Re=F.getBasicProfile();D({name:Re.getName(),email:Re.getEmail(),imageUrl:Re.getImageUrl()})}}catch(Q){Q.error!=="popup_closed_by_user"&&console.error("Login error:",Q)}},[]),Ry=G.useCallback(async()=>{try{const Q=hn.auth2.getAuthInstance();Q&&(await Q.signOut(),N(!1),D(null),Gt(null),g(null))}catch(Q){console.error("Logout error:",Q)}},[]);G.useEffect(()=>{x==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[x]);const by=()=>{_(Q=>Q==="dark"?"light":"dark")},Dy=G.useCallback(async()=>{i(!0),o(null),e(null);try{let Q=null,F=null;const Re=(h==null?void 0:h.productContext)??null,Xe=(h==null?void 0:h.salespersons)??null;r===je.AUDIO&&d&&(F=FN(d.name)),C(F);let Bn=null;if(F&&Xe&&Xe.length>0){const ue=F.callType==="โทรออก"?F.sourcePhone:F.destinationPhone;if(ue){const yl=Xe.find(wc=>wc.phone&&wc.phone.replace(/\D/g,"")===ue.replace(/\D/g,""));yl&&(Bn=yl)}}v(Bn);let sn=null;if(F&&B){const ue=F.callType==="โทรออก"?F.destinationPhone:F.sourcePhone;ue&&(sn=B.filter(yl=>yl.เบอร์โทร&&yl.เบอร์โทร.replace(/\D/g,"")===ue.replace(/\D/g,"")))}const Fe=sn?sn.map(ue=>({phone:ue.เบอร์โทร,product:ue.สินค้า,price:ue.ราคา,date:ue.วันที่ขาย.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"}),recipientName:ue.ชื่อผู้รับ,address:[ue.ที่อยู่,ue.ตำบล,ue.อำเภอ].filter(Boolean).join(" ").trim(),province:ue.จังหวัด,quantity:ue.จำนวน})):null;T(Fe);const fi=sn?sn.map(ue=>({date:ue.วันที่ขาย.toISOString().split("T")[0],product:ue.สินค้า,quantity:ue.จำนวน,price:ue.ราคา,recipientName:ue.ชื่อผู้รับ,phone:ue.เบอร์โทร})):null;if(r===je.TEXT){if(!c.trim())throw new Error("Please paste a transcript.");Q=await zN(c,Re,fi,Bn)}else if(r===je.AUDIO){if(!d)throw new Error("Please upload an audio file.");Q=await HN(d,Re,fi,Bn)}if(Q)e(Q);else throw new Error("Analysis failed to produce a result.")}catch(Q){console.error("Analysis error:",Q),o(Q instanceof Error?`Analysis failed: ${Q.message}`:"An unknown error occurred during analysis.")}finally{i(!1)}},[r,c,d,h,B]);return G.useEffect(()=>{(r===je.TEXT||!d)&&(C(null),v(null))},[r,d]),Mt?p.jsx(jN,{message:Ay}):p.jsxs("div",{className:"min-h-screen text-slate-800 dark:text-slate-200 flex flex-col items-center p-4 selection:bg-sky-500 selection:text-white transition-colors duration-300",children:[p.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[p.jsx(XN,{isLoggedIn:b,userProfile:M,onLogin:Ny,onLogout:Ry,isGapiReady:fe}),p.jsx(ZN,{theme:x,toggleTheme:by})]}),p.jsx(DT,{activePage:ge,setActivePage:re}),ge==="analyzer"?My?p.jsxs("main",{className:"container mx-auto mt-4 mb-8 p-4 sm:p-6 lg:p-8 w-full max-w-5xl bg-slate-100/80 dark:bg-black/20 backdrop-blur-2xl shadow-2xl rounded-3xl border border-slate-200 dark:border-white/10 relative",children:[p.jsx(FT,{isLoading:n,googleSheetId:w,setGoogleSheetId:P,isConnected:!!h}),p.jsx(wT,{onAnalyze:Dy,isLoading:n,currentInputMode:r,setCurrentInputMode:u,transcriptText:c,setTranscriptText:f,audioFile:d,setAudioFile:m,isDataConnected:!!h||!!w}),n&&p.jsx(Og,{}),l&&p.jsx(ou,{message:l}),Cs&&p.jsx(ou,{message:Cs}),t&&!n&&!l&&p.jsx(zT,{result:t,callMetadata:S,salespersonName:(E==null?void 0:E.name)??null,relevantHistory:y,isLoggedIn:b,googleSheetId:w})]}):p.jsx("main",{className:"container mx-auto mt-4 mb-8 flex items-center justify-center p-4 sm:p-6 lg:p-8 w-full max-w-5xl",children:p.jsxs("div",{className:"w-full max-w-sm p-8 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200 dark:border-white/10 text-center",children:[p.jsx(_c,{className:"h-12 w-12 text-sky-500 dark:text-sky-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ต้องการการเข้าถึง"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"กรุณาใส่รหัสผ่านเพื่อใช้งาน AI Analyzer"}),p.jsx("input",{type:"password",value:k,onChange:Q=>O(Q.target.value),placeholder:"••••••••",className:"w-full px-4 py-2.5 bg-white/50 dark:bg-black/20 border-2 border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-center text-lg tracking-widest",autoFocus:!0})]})}):p.jsx(WN,{allRecords:B,isLoading:Mt,error:Cs}),p.jsxs("footer",{className:"text-center py-4 text-slate-500 dark:text-slate-400 text-sm",children:[p.jsx("p",{children:"Powered by Thanu Suriwong"}),p.jsxs("p",{children:["© ",new Date().getFullYear()," Customer Service. All rights reserved."]})]})]})},Ey=document.getElementById("root");if(!Ey)throw new Error("Could not find root element to mount to");const lR=Gg.createRoot(Ey);lR.render(p.jsx(Ky.StrictMode,{children:p.jsx(iR,{})}));

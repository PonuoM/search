import{gapi as Pn}from"gapi-script";import gy from"jspdf";import yy from"html2canvas";import*as gs from"xlsx";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Um(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},Za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=Symbol.for("react.transitional.element"),Ty=Symbol.for("react.fragment");function Lm(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var l in e)l!=="key"&&(n[l]=e[l])}else n=e;return e=n.ref,{$$typeof:vy,type:t,key:i,ref:e!==void 0?e:null,props:n}}Za.Fragment=Ty;Za.jsx=Lm;Za.jsxs=Lm;Im.exports=Za;var p=Im.exports,Vm={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=Symbol.for("react.transitional.element"),Sy=Symbol.for("react.portal"),Cy=Symbol.for("react.fragment"),xy=Symbol.for("react.strict_mode"),_y=Symbol.for("react.profiler"),Ey=Symbol.for("react.consumer"),Ay=Symbol.for("react.context"),My=Symbol.for("react.forward_ref"),Ny=Symbol.for("react.suspense"),Ry=Symbol.for("react.memo"),Pm=Symbol.for("react.lazy"),xc=Symbol.iterator;function by(t){return t===null||typeof t!="object"?null:(t=xc&&t[xc]||t["@@iterator"],typeof t=="function"?t:null)}var qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bm=Object.assign,Gm={};function ji(t,e,n){this.props=t,this.context=e,this.refs=Gm,this.updater=n||qm}ji.prototype.isReactComponent={};ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zm(){}zm.prototype=ji.prototype;function pu(t,e,n){this.props=t,this.context=e,this.refs=Gm,this.updater=n||qm}var gu=pu.prototype=new zm;gu.constructor=pu;Bm(gu,ji.prototype);gu.isPureReactComponent=!0;var _c=Array.isArray,ge={H:null,A:null,T:null,S:null,V:null},Hm=Object.prototype.hasOwnProperty;function yu(t,e,n,i,l,o){return n=o.ref,{$$typeof:hu,type:t,key:e,ref:n!==void 0?n:null,props:o}}function Dy(t,e){return yu(t.type,e,void 0,void 0,void 0,t.props)}function vu(t){return typeof t=="object"&&t!==null&&t.$$typeof===hu}function wy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ec=/\/+/g;function ys(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wy(""+t.key):e.toString(36)}function Ac(){}function ky(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Ac,Ac):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ui(t,e,n,i,l){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(o){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case hu:case Sy:r=!0;break;case Pm:return r=t._init,ui(r(t._payload),e,n,i,l)}}if(r)return l=l(t),r=i===""?"."+ys(t,0):i,_c(l)?(n="",r!=null&&(n=r.replace(Ec,"$&/")+"/"),ui(l,e,n,"",function(f){return f})):l!=null&&(vu(l)&&(l=Dy(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(Ec,"$&/")+"/")+r)),e.push(l)),1;r=0;var u=i===""?".":i+":";if(_c(t))for(var c=0;c<t.length;c++)i=t[c],o=u+ys(i,c),r+=ui(i,e,n,o,l);else if(c=by(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,o=u+ys(i,c++),r+=ui(i,e,n,o,l);else if(o==="object"){if(typeof t.then=="function")return ui(ky(t),e,n,i,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Eo(t,e,n){if(t==null)return t;var i=[],l=0;return ui(t,i,"","",function(o){return e.call(n,o,l++)}),i}function Uy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Iy(){}J.Children={map:Eo,forEach:function(t,e,n){Eo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eo(t,function(){e++}),e},toArray:function(t){return Eo(t,function(e){return e})||[]},only:function(t){if(!vu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=ji;J.Fragment=Cy;J.Profiler=_y;J.PureComponent=pu;J.StrictMode=xy;J.Suspense=Ny;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge;J.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ge.H.useMemoCache(t)}};J.cache=function(t){return function(){return t.apply(null,arguments)}};J.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Bm({},t.props),l=t.key,o=void 0;if(e!=null)for(r in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!Hm.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}return yu(t.type,l,void 0,void 0,o,i)};J.createContext=function(t){return t={$$typeof:Ay,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Ey,_context:t},t};J.createElement=function(t,e,n){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)Hm.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var r=arguments.length-2;if(r===1)l.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];l.children=u}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)l[i]===void 0&&(l[i]=r[i]);return yu(t,o,void 0,void 0,null,l)};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:My,render:t}};J.isValidElement=vu;J.lazy=function(t){return{$$typeof:Pm,_payload:{_status:-1,_result:t},_init:Uy}};J.memo=function(t,e){return{$$typeof:Ry,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=ge.T,n={};ge.T=n;try{var i=t(),l=ge.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Iy,Mc)}catch(o){Mc(o)}finally{ge.T=e}};J.unstable_useCacheRefresh=function(){return ge.H.useCacheRefresh()};J.use=function(t){return ge.H.use(t)};J.useActionState=function(t,e,n){return ge.H.useActionState(t,e,n)};J.useCallback=function(t,e){return ge.H.useCallback(t,e)};J.useContext=function(t){return ge.H.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t,e){return ge.H.useDeferredValue(t,e)};J.useEffect=function(t,e,n){var i=ge.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};J.useId=function(){return ge.H.useId()};J.useImperativeHandle=function(t,e,n){return ge.H.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ge.H.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ge.H.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ge.H.useMemo(t,e)};J.useOptimistic=function(t,e){return ge.H.useOptimistic(t,e)};J.useReducer=function(t,e,n){return ge.H.useReducer(t,e,n)};J.useRef=function(t){return ge.H.useRef(t)};J.useState=function(t){return ge.H.useState(t)};J.useSyncExternalStore=function(t,e,n){return ge.H.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ge.H.useTransition()};J.version="19.1.0";Vm.exports=J;var G=Vm.exports;const Ly=Um(G);var Om={exports:{}},$a={},Fm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,F){var O=k.length;k.push(F);e:for(;0<O;){var se=O-1>>>1,Te=k[se];if(0<l(Te,F))k[se]=F,k[O]=Te,O=se;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var F=k[0],O=k.pop();if(O!==F){k[0]=O;e:for(var se=0,Te=k.length,en=Te>>>1;se<en;){var tn=2*(se+1)-1,Q=k[tn],ee=tn+1,He=k[ee];if(0>l(Q,O))ee<Te&&0>l(He,Q)?(k[se]=He,k[ee]=O,se=ee):(k[se]=Q,k[tn]=O,se=tn);else if(ee<Te&&0>l(He,O))k[se]=He,k[ee]=O,se=ee;else break e}}return F}function l(k,F){var O=k.sortIndex-F.sortIndex;return O!==0?O:k.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var r=Date,u=r.now();t.unstable_now=function(){return r.now()-u}}var c=[],f=[],d=1,m=null,h=3,g=!1,C=!1,x=!1,M=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function S(k){for(var F=n(f);F!==null;){if(F.callback===null)i(f);else if(F.startTime<=k)i(f),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(f)}}function _(k){if(x=!1,S(k),!C)if(n(c)!==null)C=!0,D||(D=!0,I());else{var F=n(f);F!==null&&ie(_,F.startTime-k)}}var D=!1,N=-1,E=5,R=-1;function w(){return M?!0:!(t.unstable_now()-R<E)}function q(){if(M=!1,D){var k=t.unstable_now();R=k;var F=!0;try{e:{C=!1,x&&(x=!1,y(N),N=-1),g=!0;var O=h;try{t:{for(S(k),m=n(c);m!==null&&!(m.expirationTime>k&&w());){var se=m.callback;if(typeof se=="function"){m.callback=null,h=m.priorityLevel;var Te=se(m.expirationTime<=k);if(k=t.unstable_now(),typeof Te=="function"){m.callback=Te,S(k),F=!0;break t}m===n(c)&&i(c),S(k)}else i(c);m=n(c)}if(m!==null)F=!0;else{var en=n(f);en!==null&&ie(_,en.startTime-k),F=!1}}break e}finally{m=null,h=O,g=!1}F=void 0}}finally{F?I():D=!1}}}var I;if(typeof T=="function")I=function(){T(q)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ce=Ee.port2;Ee.port1.onmessage=q,I=function(){ce.postMessage(null)}}else I=function(){v(q,0)};function ie(k,F){N=v(function(){k(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var O=h;h=F;try{return k()}finally{h=O}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var O=h;h=k;try{return F()}finally{h=O}},t.unstable_scheduleCallback=function(k,F,O){var se=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?se+O:se):O=se,k){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=O+Te,k={id:d++,callback:F,priorityLevel:k,startTime:O,expirationTime:Te,sortIndex:-1},O>se?(k.sortIndex=O,e(f,k),n(c)===null&&k===n(f)&&(x?(y(N),N=-1):x=!0,ie(_,O-se))):(k.sortIndex=Te,e(c,k),C||g||(C=!0,D||(D=!0,I()))),k},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(k){var F=h;return function(){var O=h;h=F;try{return k.apply(this,arguments)}finally{h=O}}}})(Ym);Fm.exports=Ym;var Vy=Fm.exports,Jm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py=G;function Zm(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nn(){}var Fe={d:{f:nn,r:function(){throw Error(Zm(522))},D:nn,C:nn,L:nn,m:nn,X:nn,S:nn,M:nn},p:0,findDOMNode:null},qy=Symbol.for("react.portal");function By(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qy,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ml=Py.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Xa(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fe;Je.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Zm(299));return By(t,e,null,n)};Je.flushSync=function(t){var e=Ml.T,n=Fe.p;try{if(Ml.T=null,Fe.p=2,t)return t()}finally{Ml.T=e,Fe.p=n,Fe.d.f()}};Je.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Fe.d.C(t,e))};Je.prefetchDNS=function(t){typeof t=="string"&&Fe.d.D(t)};Je.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Xa(n,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Fe.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):n==="script"&&Fe.d.X(t,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Je.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Xa(e.as,e.crossOrigin);Fe.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Fe.d.M(t)};Je.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Xa(n,e.crossOrigin);Fe.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Je.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Xa(e.as,e.crossOrigin);Fe.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Fe.d.m(t)};Je.requestFormReset=function(t){Fe.d.r(t)};Je.unstable_batchedUpdates=function(t,e){return t(e)};Je.useFormState=function(t,e,n){return Ml.H.useFormState(t,e,n)};Je.useFormStatus=function(){return Ml.H.useHostTransitionStatus()};Je.version="19.1.0";function $m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($m)}catch(t){console.error(t)}}$m(),Jm.exports=Je;var Gy=Jm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=Vy,Xm=G,zy=Gy;function A(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nc(t){if(lo(t)!==t)throw Error(A(188))}function Hy(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,i=e;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Nc(l),t;if(o===i)return Nc(l),e;o=o.sibling}throw Error(A(188))}if(n.return!==i.return)n=l,i=o;else{for(var r=!1,u=l.child;u;){if(u===n){r=!0,n=l,i=o;break}if(u===i){r=!0,i=l,n=o;break}u=u.sibling}if(!r){for(u=o.child;u;){if(u===n){r=!0,n=o,i=l;break}if(u===i){r=!0,i=o,n=l;break}u=u.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Wm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Wm(t),e!==null)return e;t=t.sibling}return null}var he=Object.assign,Oy=Symbol.for("react.element"),Ao=Symbol.for("react.transitional.element"),Sl=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),er=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),eh=Symbol.for("react.consumer"),Bt=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),tr=Symbol.for("react.suspense"),nr=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),ir=Symbol.for("react.activity"),Yy=Symbol.for("react.memo_cache_sentinel"),Rc=Symbol.iterator;function fl(t){return t===null||typeof t!="object"?null:(t=Rc&&t[Rc]||t["@@iterator"],typeof t=="function"?t:null)}var Jy=Symbol.for("react.client.reference");function lr(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Jy?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hi:return"Fragment";case er:return"Profiler";case jm:return"StrictMode";case tr:return"Suspense";case nr:return"SuspenseList";case ir:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Sl:return"Portal";case Bt:return(t.displayName||"Context")+".Provider";case eh:return(t._context.displayName||"Context")+".Consumer";case Tu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Su:return e=t.displayName||null,e!==null?e:lr(t.type)||"Memo";case an:e=t._payload,t=t._init;try{return lr(t(e))}catch{}}return null}var Cl=Array.isArray,B=Xm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=zy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qn={pending:!1,data:null,method:null,action:null},or=[],pi=-1;function Ut(t){return{current:t}}function Le(t){0>pi||(t.current=or[pi],or[pi]=null,pi--)}function ye(t,e){pi++,or[pi]=t.current,t.current=e}var Rt=Ut(null),Hl=Ut(null),yn=Ut(null),ua=Ut(null);function ca(t,e){switch(ye(yn,e),ye(Hl,t),ye(Rt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?If(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=If(e),t=yg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Le(Rt),ye(Rt,t)}function Pi(){Le(Rt),Le(Hl),Le(yn)}function ar(t){t.memoizedState!==null&&ye(ua,t);var e=Rt.current,n=yg(e,t.type);e!==n&&(ye(Hl,t),ye(Rt,n))}function fa(t){Hl.current===t&&(Le(Rt),Le(Hl)),ua.current===t&&(Le(ua),Wl._currentValue=qn)}var sr=Object.prototype.hasOwnProperty,Cu=De.unstable_scheduleCallback,vs=De.unstable_cancelCallback,Zy=De.unstable_shouldYield,$y=De.unstable_requestPaint,bt=De.unstable_now,Xy=De.unstable_getCurrentPriorityLevel,th=De.unstable_ImmediatePriority,nh=De.unstable_UserBlockingPriority,da=De.unstable_NormalPriority,Ky=De.unstable_LowPriority,ih=De.unstable_IdlePriority,Qy=De.log,Wy=De.unstable_setDisableYieldValue,oo=null,it=null;function mn(t){if(typeof Qy=="function"&&Wy(t),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(oo,t)}catch{}}var lt=Math.clz32?Math.clz32:t0,jy=Math.log,e0=Math.LN2;function t0(t){return t>>>=0,t===0?32:31-(jy(t)/e0|0)|0}var Mo=256,No=4194304;function In(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ka(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var l=0,o=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=In(i):(r&=u,r!==0?l=In(r):n||(n=u&~t,n!==0&&(l=In(n))))):(u=i&~o,u!==0?l=In(u):r!==0?l=In(r):n||(n=i&~t,n!==0&&(l=In(n)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:l}function ao(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function n0(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lh(){var t=Mo;return Mo<<=1,!(Mo&4194048)&&(Mo=256),t}function oh(){var t=No;return No<<=1,!(No&62914560)&&(No=4194304),t}function Ts(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function so(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function i0(t,e,n,i,l,o){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-lt(n),m=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var g=h[d];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&ah(t,i,0),o!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=o&~(r&~e))}function ah(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-lt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function sh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-lt(n),l=1<<i;l&e|t[i]&e&&(t[i]|=e),n&=~l}}function xu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _u(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function rh(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:Ng(t.type))}function l0(t,e){var n=ne.p;try{return ne.p=t,e()}finally{ne.p=n}}var Dn=Math.random().toString(36).slice(2),Be="__reactFiber$"+Dn,Qe="__reactProps$"+Dn,el="__reactContainer$"+Dn,rr="__reactEvents$"+Dn,o0="__reactListeners$"+Dn,a0="__reactHandles$"+Dn,bc="__reactResources$"+Dn,ro="__reactMarker$"+Dn;function Eu(t){delete t[Be],delete t[Qe],delete t[rr],delete t[o0],delete t[a0]}function gi(t){var e=t[Be];if(e)return e;for(var n=t.parentNode;n;){if(e=n[el]||n[Be]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pf(t);t!==null;){if(n=t[Be])return n;t=Pf(t)}return e}t=n,n=t.parentNode}return null}function tl(t){if(t=t[Be]||t[el]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function xl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(A(33))}function Ni(t){var e=t[bc];return e||(e=t[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ue(t){t[ro]=!0}var uh=new Set,ch={};function jn(t,e){qi(t,e),qi(t+"Capture",e)}function qi(t,e){for(ch[t]=e,t=0;t<e.length;t++)uh.add(e[t])}var s0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},wc={};function r0(t){return sr.call(wc,t)?!0:sr.call(Dc,t)?!1:s0.test(t)?wc[t]=!0:(Dc[t]=!0,!1)}function Yo(t,e,n){if(r0(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ro(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Lt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Ss,kc;function ci(t){if(Ss===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ss=e&&e[1]||"",kc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+kc}var Cs=!1;function xs(t,e){if(!t||Cs)return"";Cs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var h=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){h=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){h=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),r=o[0],u=o[1];if(r&&u){var c=r.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=l);break}}}finally{Cs=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ci(n):""}function u0(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return xs(t.type,!1);case 11:return xs(t.type.render,!1);case 1:return xs(t.type,!0);case 31:return ci("Activity");default:return""}}function Uc(t){try{var e="";do e+=u0(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c0(t){var e=fh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(r){i=""+r,o.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ma(t){t._valueTracker||(t._valueTracker=c0(t))}function dh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=fh(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var f0=/[\n"\\]/g;function dt(t){return t.replace(f0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ur(t,e,n,i,l,o,r,u){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ut(e)):t.value!==""+ut(e)&&(t.value=""+ut(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?cr(t,r,ut(e)):n!=null?cr(t,r,ut(n)):i!=null&&t.removeAttribute("value"),l==null&&o!=null&&(t.defaultChecked=!!o),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+ut(u):t.removeAttribute("name")}function mh(t,e,n,i,l,o,r,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+ut(n):"",e=e!=null?""+ut(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=u?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function cr(t,e,n){e==="number"&&ha(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ri(t,e,n,i){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ut(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,i&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function hh(t,e,n){if(e!=null&&(e=""+ut(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ut(n):""}function ph(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(A(92));if(Cl(i)){if(1<i.length)throw Error(A(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=ut(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Bi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var d0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ic(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||d0.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function gh(t,e,n){if(e!=null&&typeof e!="object")throw Error(A(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&n[l]!==i&&Ic(t,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Ic(t,o,e[o])}function Au(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jo(t){return h0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fr=null;function Mu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,bi=null;function Lc(t){var e=tl(t);if(e&&(t=e.stateNode)){var n=t[Qe]||null;e:switch(t=e.stateNode,e.type){case"input":if(ur(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+dt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var l=i[Qe]||null;if(!l)throw Error(A(90));ur(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&dh(i)}break e;case"textarea":hh(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ri(t,!!n.multiple,e,!1)}}}var _s=!1;function yh(t,e,n){if(_s)return t(e,n);_s=!0;try{var i=t(e);return i}finally{if(_s=!1,(yi!==null||bi!==null)&&(as(),yi&&(e=yi,t=bi,bi=yi=null,Lc(e),t)))for(e=0;e<t.length;e++)Lc(t[e])}}function Ol(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Qe]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Jt)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){dr=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{dr=!1}var hn=null,Nu=null,Zo=null;function vh(){if(Zo)return Zo;var t,e=Nu,n=e.length,i,l="value"in hn?hn.value:hn.textContent,o=l.length;for(t=0;t<n&&e[t]===l[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===l[o-i];i++);return Zo=l.slice(t,1<i?1-i:void 0)}function $o(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bo(){return!0}function Vc(){return!1}function We(t){function e(n,i,l,o,r){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bo:Vc,this.isPropagationStopped=Vc,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),e}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=We(ei),uo=he({},ei,{view:0,detail:0}),p0=We(uo),Es,As,ml,Wa=he({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(Es=t.screenX-ml.screenX,As=t.screenY-ml.screenY):As=Es=0,ml=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:As}}),Pc=We(Wa),g0=he({},Wa,{dataTransfer:0}),y0=We(g0),v0=he({},uo,{relatedTarget:0}),Ms=We(v0),T0=he({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),S0=We(T0),C0=he({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x0=We(C0),_0=he({},ei,{data:0}),qc=We(_0),E0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M0[t])?!!e[t]:!1}function Ru(){return N0}var R0=he({},uo,{key:function(t){if(t.key){var e=E0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$o(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(t){return t.type==="keypress"?$o(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$o(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b0=We(R0),D0=he({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=We(D0),w0=he({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),k0=We(w0),U0=he({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=We(U0),L0=he({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=We(L0),P0=he({},ei,{newState:0,oldState:0}),q0=We(P0),B0=[9,13,27,32],bu=Jt&&"CompositionEvent"in window,Nl=null;Jt&&"documentMode"in document&&(Nl=document.documentMode);var G0=Jt&&"TextEvent"in window&&!Nl,Th=Jt&&(!bu||Nl&&8<Nl&&11>=Nl),Gc=" ",zc=!1;function Sh(t,e){switch(t){case"keyup":return B0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ch(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function z0(t,e){switch(t){case"compositionend":return Ch(e);case"keypress":return e.which!==32?null:(zc=!0,Gc);case"textInput":return t=e.data,t===Gc&&zc?null:t;default:return null}}function H0(t,e){if(vi)return t==="compositionend"||!bu&&Sh(t,e)?(t=vh(),Zo=Nu=hn=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Th&&e.locale!=="ko"?null:e.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O0[t.type]:e==="textarea"}function xh(t,e,n,i){yi?bi?bi.push(i):bi=[i]:yi=i,e=ka(e,"onChange"),0<e.length&&(n=new Qa("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Rl=null,Fl=null;function F0(t){hg(t,0)}function ja(t){var e=xl(t);if(dh(e))return t}function Oc(t,e){if(t==="change")return e}var _h=!1;if(Jt){var Ns;if(Jt){var Rs="oninput"in document;if(!Rs){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),Rs=typeof Fc.oninput=="function"}Ns=Rs}else Ns=!1;_h=Ns&&(!document.documentMode||9<document.documentMode)}function Yc(){Rl&&(Rl.detachEvent("onpropertychange",Eh),Fl=Rl=null)}function Eh(t){if(t.propertyName==="value"&&ja(Fl)){var e=[];xh(e,Fl,t,Mu(t)),yh(F0,e)}}function Y0(t,e,n){t==="focusin"?(Yc(),Rl=e,Fl=n,Rl.attachEvent("onpropertychange",Eh)):t==="focusout"&&Yc()}function J0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(Fl)}function Z0(t,e){if(t==="click")return ja(e)}function $0(t,e){if(t==="input"||t==="change")return ja(e)}function X0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:X0;function Yl(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!sr.call(e,l)||!st(t[l],e[l]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zc(t,e){var n=Jc(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jc(n)}}function Ah(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ah(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ha(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ha(t.document)}return e}function Du(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var K0=Jt&&"documentMode"in document&&11>=document.documentMode,Ti=null,mr=null,bl=null,hr=!1;function $c(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hr||Ti==null||Ti!==ha(i)||(i=Ti,"selectionStart"in i&&Du(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bl&&Yl(bl,i)||(bl=i,i=ka(mr,"onSelect"),0<i.length&&(e=new Qa("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ti)))}function kn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionrun:kn("Transition","TransitionRun"),transitionstart:kn("Transition","TransitionStart"),transitioncancel:kn("Transition","TransitionCancel"),transitionend:kn("Transition","TransitionEnd")},bs={},Nh={};Jt&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function ti(t){if(bs[t])return bs[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nh)return bs[t]=e[n];return t}var Rh=ti("animationend"),bh=ti("animationiteration"),Dh=ti("animationstart"),Q0=ti("transitionrun"),W0=ti("transitionstart"),j0=ti("transitioncancel"),wh=ti("transitionend"),kh=new Map,pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pr.push("scrollEnd");function xt(t,e){kh.set(t,e),jn(e,[t])}var Xc=new WeakMap;function mt(t,e){if(typeof t=="object"&&t!==null){var n=Xc.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Uc(e)},Xc.set(t,e),e)}return{value:t,source:e,stack:Uc(e)}}var rt=[],Ci=0,wu=0;function es(){for(var t=Ci,e=wu=Ci=0;e<t;){var n=rt[e];rt[e++]=null;var i=rt[e];rt[e++]=null;var l=rt[e];rt[e++]=null;var o=rt[e];if(rt[e++]=null,i!==null&&l!==null){var r=i.pending;r===null?l.next=l:(l.next=r.next,r.next=l),i.pending=l}o!==0&&Uh(n,l,o)}}function ts(t,e,n,i){rt[Ci++]=t,rt[Ci++]=e,rt[Ci++]=n,rt[Ci++]=i,wu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function ku(t,e,n,i){return ts(t,e,n,i),pa(t)}function nl(t,e){return ts(t,null,null,e),pa(t)}function Uh(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var l=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(l=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,l&&e!==null&&(l=31-lt(n),t=o.hiddenUpdates,i=t[l],i===null?t[l]=[e]:i.push(e),e.lane=n|536870912),o):null}function pa(t){if(50<Bl)throw Bl=0,Vr=null,Error(A(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var xi={};function ev(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(t,e,n,i){return new ev(t,e,n,i)}function Uu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ft(t,e){var n=t.alternate;return n===null?(n=nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Ih(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Xo(t,e,n,i,l,o){var r=0;if(i=t,typeof t=="function")Uu(t)&&(r=1);else if(typeof t=="string")r=nT(t,n,Rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ir:return t=nt(31,n,e,l),t.elementType=ir,t.lanes=o,t;case hi:return Bn(n.children,l,o,e);case jm:r=8,l|=24;break;case er:return t=nt(12,n,e,l|2),t.elementType=er,t.lanes=o,t;case tr:return t=nt(13,n,e,l),t.elementType=tr,t.lanes=o,t;case nr:return t=nt(19,n,e,l),t.elementType=nr,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fy:case Bt:r=10;break e;case eh:r=9;break e;case Tu:r=11;break e;case Su:r=14;break e;case an:r=16,i=null;break e}r=29,n=Error(A(130,t===null?"null":typeof t,"")),i=null}return e=nt(r,n,e,l),e.elementType=t,e.type=i,e.lanes=o,e}function Bn(t,e,n,i){return t=nt(7,t,i,e),t.lanes=n,t}function Ds(t,e,n){return t=nt(6,t,null,e),t.lanes=n,t}function ws(t,e,n){return e=nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var _i=[],Ei=0,ga=null,ya=0,ct=[],ft=0,Gn=null,Gt=1,zt="";function Ln(t,e){_i[Ei++]=ya,_i[Ei++]=ga,ga=t,ya=e}function Lh(t,e,n){ct[ft++]=Gt,ct[ft++]=zt,ct[ft++]=Gn,Gn=t;var i=Gt;t=zt;var l=32-lt(i)-1;i&=~(1<<l),n+=1;var o=32-lt(e)+l;if(30<o){var r=l-l%5;o=(i&(1<<r)-1).toString(32),i>>=r,l-=r,Gt=1<<32-lt(e)+l|n<<l|i,zt=o+t}else Gt=1<<o|n<<l|i,zt=t}function Iu(t){t.return!==null&&(Ln(t,1),Lh(t,1,0))}function Lu(t){for(;t===ga;)ga=_i[--Ei],_i[Ei]=null,ya=_i[--Ei],_i[Ei]=null;for(;t===Gn;)Gn=ct[--ft],ct[ft]=null,zt=ct[--ft],ct[ft]=null,Gt=ct[--ft],ct[ft]=null}var Oe=null,Se=null,te=!1,zn=null,Et=!1,gr=Error(A(519));function Yn(t){var e=Error(A(418,""));throw Jl(mt(e,t)),gr}function Kc(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Be]=t,e[Qe]=i,n){case"dialog":$("cancel",e),$("close",e);break;case"iframe":case"object":case"embed":$("load",e);break;case"video":case"audio":for(n=0;n<Xl.length;n++)$(Xl[n],e);break;case"source":$("error",e);break;case"img":case"image":case"link":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"input":$("invalid",e),mh(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ma(e);break;case"select":$("invalid",e);break;case"textarea":$("invalid",e),ph(e,i.value,i.defaultValue,i.children),ma(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||gg(e.textContent,n)?(i.popover!=null&&($("beforetoggle",e),$("toggle",e)),i.onScroll!=null&&$("scroll",e),i.onScrollEnd!=null&&$("scrollend",e),i.onClick!=null&&(e.onclick=us),e=!0):e=!1,e||Yn(t)}function Qc(t){for(Oe=t.return;Oe;)switch(Oe.tag){case 5:case 13:Et=!1;return;case 27:case 3:Et=!0;return;default:Oe=Oe.return}}function hl(t){if(t!==Oe)return!1;if(!te)return Qc(t),te=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Hr(t.type,t.memoizedProps)),n=!n),n&&Se&&Yn(t),Qc(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Se=Ct(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Se=null}}else e===27?(e=Se,wn(t.type)?(t=Yr,Yr=null,Se=t):Se=e):Se=Oe?Ct(t.stateNode.nextSibling):null;return!0}function co(){Se=Oe=null,te=!1}function Wc(){var t=zn;return t!==null&&(Xe===null?Xe=t:Xe.push.apply(Xe,t),zn=null),t}function Jl(t){zn===null?zn=[t]:zn.push(t)}var yr=Ut(null),ni=null,Ht=null;function un(t,e,n){ye(yr,e._currentValue),e._currentValue=n}function Yt(t){t._currentValue=yr.current,Le(yr)}function vr(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Tr(t,e,n,i){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){var r=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),vr(o.return,n,t),i||(r=null);break e}o=u.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(A(341));r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),vr(r,n,t),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===t){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function fo(t,e,n,i){t=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var u=l.type;st(l.pendingProps.value,r.value)||(t!==null?t.push(u):t=[u])}}else if(l===ua.current){if(r=l.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}l=l.return}t!==null&&Tr(e,t,n,i),e.flags|=262144}function va(t){for(t=t.firstContext;t!==null;){if(!st(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jn(t){ni=t,Ht=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Vh(ni,t)}function Do(t,e){return ni===null&&Jn(t),Vh(t,e)}function Vh(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ht===null){if(t===null)throw Error(A(308));Ht=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ht=Ht.next=e;return n}var tv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},nv=De.unstable_scheduleCallback,iv=De.unstable_NormalPriority,Re={$$typeof:Bt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vu(){return{controller:new tv,data:new Map,refCount:0}}function mo(t){t.refCount--,t.refCount===0&&nv(iv,function(){t.controller.abort()})}var Dl=null,Sr=0,Gi=0,Di=null;function lv(t,e){if(Dl===null){var n=Dl=[];Sr=0,Gi=oc(),Di={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Sr++,e.then(jc,jc),e}function jc(){if(--Sr===0&&Dl!==null){Di!==null&&(Di.status="fulfilled");var t=Dl;Dl=null,Gi=0,Di=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function ov(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var ef=B.S;B.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&lv(t,e),ef!==null&&ef(t,e)};var Hn=Ut(null);function Pu(){var t=Hn.current;return t!==null?t:de.pooledCache}function Ko(t,e){e===null?ye(Hn,Hn.current):ye(Hn,e.pool)}function Ph(){var t=Pu();return t===null?null:{parent:Re._currentValue,pool:t}}var ho=Error(A(460)),qh=Error(A(474)),ns=Error(A(542)),Cr={then:function(){}};function tf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wo(){}function Bh(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(wo,wo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lf(t),t;default:if(typeof e.status=="string")e.then(wo,wo);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(A(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lf(t),t}throw wl=e,ho}}var wl=null;function nf(){if(wl===null)throw Error(A(459));var t=wl;return wl=null,t}function lf(t){if(t===ho||t===ns)throw Error(A(483))}var sn=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,oe&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=pa(t),Uh(t,null,n),e}return ts(t,i,e,n),pa(t)}function kl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sh(t,n)}}function ks(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?l=o=r:o=o.next=r,n=n.next}while(n!==null);o===null?l=o=e:o=o.next=e}else l=o=e;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var _r=!1;function Ul(){if(_r){var t=Di;if(t!==null)throw t}}function Il(t,e,n,i){_r=!1;var l=t.updateQueue;sn=!1;var o=l.firstBaseUpdate,r=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,r===null?o=f:r.next=f,r=c;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==r&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;r=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,g=h!==u.lane;if(g?(W&h)===h:(i&h)===h){h!==0&&h===Gi&&(_r=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var C=t,x=u;h=e;var M=n;switch(x.tag){case 1:if(C=x.payload,typeof C=="function"){m=C.call(M,m,h);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,h=typeof C=="function"?C.call(M,m,h):C,h==null)break e;m=he({},m,h);break e;case 2:sn=!0}}h=u.callback,h!==null&&(t.flags|=64,g&&(t.flags|=8192),g=l.callbacks,g===null?l.callbacks=[h]:g.push(h))}else g={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=g,c=m):d=d.next=g,r|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;g=u,u=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);d===null&&(c=m),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),Rn|=r,t.lanes=r,t.memoizedState=m}}function Gh(t,e){if(typeof t!="function")throw Error(A(191,t));t.call(e)}function zh(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Gh(n[t],e)}var zi=Ut(null),Ta=Ut(0);function of(t,e){t=Xt,ye(Ta,t),ye(zi,e),Xt=t|e.baseLanes}function Er(){ye(Ta,Xt),ye(zi,zi.current)}function Bu(){Xt=Ta.current,Le(zi),Le(Ta)}var Mn=0,Z=null,ue=null,Me=null,Sa=!1,wi=!1,Zn=!1,Ca=0,Zl=0,ki=null,av=0;function xe(){throw Error(A(321))}function Gu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!st(t[n],e[n]))return!1;return!0}function zu(t,e,n,i,l,o){return Mn=o,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B.H=t===null||t.memoizedState===null?vp:Tp,Zn=!1,o=n(i,l),Zn=!1,wi&&(o=Oh(e,n,i,l)),Hh(t),o}function Hh(t){B.H=xa;var e=ue!==null&&ue.next!==null;if(Mn=0,Me=ue=Z=null,Sa=!1,Zl=0,ki=null,e)throw Error(A(300));t===null||Ie||(t=t.dependencies,t!==null&&va(t)&&(Ie=!0))}function Oh(t,e,n,i){Z=t;var l=0;do{if(wi&&(ki=null),Zl=0,wi=!1,25<=l)throw Error(A(301));if(l+=1,Me=ue=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}B.H=mv,o=e(n,i)}while(wi);return o}function sv(){var t=B.H,e=t.useState()[0];return e=typeof e.then=="function"?po(e):e,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(Z.flags|=1024),e}function Hu(){var t=Ca!==0;return Ca=0,t}function Ou(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Fu(t){if(Sa){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Sa=!1}Mn=0,Me=ue=Z=null,wi=!1,Zl=Ca=0,ki=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Z.memoizedState=Me=t:Me=Me.next=t,Me}function Ne(){if(ue===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=Me===null?Z.memoizedState:Me.next;if(e!==null)Me=e,ue=t;else{if(t===null)throw Z.alternate===null?Error(A(467)):Error(A(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Me===null?Z.memoizedState=Me=t:Me=Me.next=t}return Me}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(t){var e=Zl;return Zl+=1,ki===null&&(ki=[]),t=Bh(ki,t,e),e=Z,(Me===null?e.memoizedState:Me.next)===null&&(e=e.alternate,B.H=e===null||e.memoizedState===null?vp:Tp),t}function is(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return po(t);if(t.$$typeof===Bt)return Ge(t)}throw Error(A(438,String(t)))}function Ju(t){var e=null,n=Z.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Yu(),Z.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Yy;return e.index++,n}function Zt(t,e){return typeof e=="function"?e(t):e}function Qo(t){var e=Ne();return Zu(e,ue,t)}function Zu(t,e,n){var i=t.queue;if(i===null)throw Error(A(311));i.lastRenderedReducer=n;var l=t.baseQueue,o=i.pending;if(o!==null){if(l!==null){var r=l.next;l.next=o.next,o.next=r}e.baseQueue=l=o,i.pending=null}if(o=t.baseState,l===null)t.memoizedState=o;else{e=l.next;var u=r=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(W&m)===m:(Mn&m)===m){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===Gi&&(d=!0);else if((Mn&h)===h){f=f.next,h===Gi&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,r=o):c=c.next=m,Z.lanes|=h,Rn|=h;m=f.action,Zn&&n(o,m),o=f.hasEagerState?f.eagerState:n(o,m)}else h={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,r=o):c=c.next=h,Z.lanes|=m,Rn|=m;f=f.next}while(f!==null&&f!==e);if(c===null?r=o:c.next=u,!st(o,t.memoizedState)&&(Ie=!0,d&&(n=Di,n!==null)))throw n;t.memoizedState=o,t.baseState=r,t.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Us(t){var e=Ne(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=n.dispatch,l=n.pending,o=e.memoizedState;if(l!==null){n.pending=null;var r=l=l.next;do o=t(o,r.action),r=r.next;while(r!==l);st(o,e.memoizedState)||(Ie=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Fh(t,e,n){var i=Z,l=Ne(),o=te;if(o){if(n===void 0)throw Error(A(407));n=n()}else n=e();var r=!st((ue||l).memoizedState,n);r&&(l.memoizedState=n,Ie=!0),l=l.queue;var u=Zh.bind(null,i,l,t);if(go(2048,8,u,[t]),l.getSnapshot!==e||r||Me!==null&&Me.memoizedState.tag&1){if(i.flags|=2048,Hi(9,ls(),Jh.bind(null,i,l,n,e),null),de===null)throw Error(A(349));o||Mn&124||Yh(i,e,n)}return n}function Yh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e=Yu(),Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jh(t,e,n,i){e.value=n,e.getSnapshot=i,$h(e)&&Xh(t)}function Zh(t,e,n){return n(function(){$h(e)&&Xh(t)})}function $h(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!st(t,n)}catch{return!0}}function Xh(t){var e=nl(t,2);e!==null&&at(e,t,2)}function Ar(t){var e=Ze();if(typeof t=="function"){var n=t;if(t=n(),Zn){mn(!0);try{n()}finally{mn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:t},e}function Kh(t,e,n,i){return t.baseState=n,Zu(t,ue,typeof i=="function"?i:Zt)}function rv(t,e,n,i,l){if(os(t))throw Error(A(485));if(t=e.action,t!==null){var o={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){o.listeners.push(r)}};B.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,Qh(e,o)):(o.next=n.next,e.pending=n.next=o)}}function Qh(t,e){var n=e.action,i=e.payload,l=t.state;if(e.isTransition){var o=B.T,r={};B.T=r;try{var u=n(l,i),c=B.S;c!==null&&c(r,u),af(t,e,u)}catch(f){Mr(t,e,f)}finally{B.T=o}}else try{o=n(l,i),af(t,e,o)}catch(f){Mr(t,e,f)}}function af(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){sf(t,e,i)},function(i){return Mr(t,e,i)}):sf(t,e,n)}function sf(t,e,n){e.status="fulfilled",e.value=n,Wh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Qh(t,n)))}function Mr(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Wh(e),e=e.next;while(e!==i)}t.action=null}function Wh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function jh(t,e){return e}function rf(t,e){if(te){var n=de.formState;if(n!==null){e:{var i=Z;if(te){if(Se){t:{for(var l=Se,o=Et;l.nodeType!==8;){if(!o){l=null;break t}if(l=Ct(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){Se=Ct(l.nextSibling),i=l.data==="F!";break e}}Yn(i)}i=!1}i&&(e=n[0])}}return n=Ze(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:e},n.queue=i,n=pp.bind(null,Z,i),i.dispatch=n,i=Ar(!1),o=Qu.bind(null,Z,!1,i.queue),i=Ze(),l={state:e,dispatch:null,action:t,pending:null},i.queue=l,n=rv.bind(null,Z,l,o,n),l.dispatch=n,i.memoizedState=t,[e,n,!1]}function uf(t){var e=Ne();return ep(e,ue,t)}function ep(t,e,n){if(e=Zu(t,e,jh)[0],t=Qo(Zt)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=po(e)}catch(r){throw r===ho?ns:r}else i=e;e=Ne();var l=e.queue,o=l.dispatch;return n!==e.memoizedState&&(Z.flags|=2048,Hi(9,ls(),uv.bind(null,l,n),null)),[i,o,t]}function uv(t,e){t.action=e}function cf(t){var e=Ne(),n=ue;if(n!==null)return ep(e,n,t);Ne(),e=e.memoizedState,n=Ne();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Hi(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Z.updateQueue,e===null&&(e=Yu(),Z.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ls(){return{destroy:void 0,resource:void 0}}function tp(){return Ne().memoizedState}function Wo(t,e,n,i){var l=Ze();i=i===void 0?null:i,Z.flags|=t,l.memoizedState=Hi(1|e,ls(),n,i)}function go(t,e,n,i){var l=Ne();i=i===void 0?null:i;var o=l.memoizedState.inst;ue!==null&&i!==null&&Gu(i,ue.memoizedState.deps)?l.memoizedState=Hi(e,o,n,i):(Z.flags|=t,l.memoizedState=Hi(1|e,o,n,i))}function ff(t,e){Wo(8390656,8,t,e)}function np(t,e){go(2048,8,t,e)}function ip(t,e){return go(4,2,t,e)}function lp(t,e){return go(4,4,t,e)}function op(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ap(t,e,n){n=n!=null?n.concat([t]):null,go(4,4,op.bind(null,e,t),n)}function $u(){}function sp(t,e){var n=Ne();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Gu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function rp(t,e){var n=Ne();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Gu(e,i[1]))return i[0];if(i=t(),Zn){mn(!0);try{t()}finally{mn(!1)}}return n.memoizedState=[i,e],i}function Xu(t,e,n){return n===void 0||Mn&1073741824?t.memoizedState=e:(t.memoizedState=n,t=Wp(),Z.lanes|=t,Rn|=t,n)}function up(t,e,n,i){return st(n,e)?n:zi.current!==null?(t=Xu(t,n,i),st(t,e)||(Ie=!0),t):Mn&42?(t=Wp(),Z.lanes|=t,Rn|=t,e):(Ie=!0,t.memoizedState=n)}function cp(t,e,n,i,l){var o=ne.p;ne.p=o!==0&&8>o?o:8;var r=B.T,u={};B.T=u,Qu(t,!1,e,n);try{var c=l(),f=B.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=ov(c,i);Ll(t,e,d,ot(t))}else Ll(t,e,i,ot(t))}catch(m){Ll(t,e,{then:function(){},status:"rejected",reason:m},ot())}finally{ne.p=o,B.T=r}}function cv(){}function Nr(t,e,n,i){if(t.tag!==5)throw Error(A(476));var l=fp(t).queue;cp(t,l,e,qn,n===null?cv:function(){return dp(t),n(i)})}function fp(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:qn,baseState:qn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:qn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function dp(t){var e=fp(t).next.queue;Ll(t,e,{},ot())}function Ku(){return Ge(Wl)}function mp(){return Ne().memoizedState}function hp(){return Ne().memoizedState}function fv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ot();t=vn(n);var i=Tn(e,t,n);i!==null&&(at(i,e,n),kl(i,e,n)),e={cache:Vu()},t.payload=e;return}e=e.return}}function dv(t,e,n){var i=ot();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},os(t)?gp(e,n):(n=ku(t,e,n,i),n!==null&&(at(n,t,i),yp(n,e,i)))}function pp(t,e,n){var i=ot();Ll(t,e,n,i)}function Ll(t,e,n,i){var l={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(os(t))gp(e,l);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var r=e.lastRenderedState,u=o(r,n);if(l.hasEagerState=!0,l.eagerState=u,st(u,r))return ts(t,e,l,0),de===null&&es(),!1}catch{}finally{}if(n=ku(t,e,l,i),n!==null)return at(n,t,i),yp(n,e,i),!0}return!1}function Qu(t,e,n,i){if(i={lane:2,revertLane:oc(),action:i,hasEagerState:!1,eagerState:null,next:null},os(t)){if(e)throw Error(A(479))}else e=ku(t,n,i,2),e!==null&&at(e,t,2)}function os(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function gp(t,e){wi=Sa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yp(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sh(t,n)}}var xa={readContext:Ge,use:is,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe},vp={readContext:Ge,use:is,useCallback:function(t,e){return Ze().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:ff,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Wo(4194308,4,op.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wo(4194308,4,t,e)},useInsertionEffect:function(t,e){Wo(4,2,t,e)},useMemo:function(t,e){var n=Ze();e=e===void 0?null:e;var i=t();if(Zn){mn(!0);try{t()}finally{mn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ze();if(n!==void 0){var l=n(e);if(Zn){mn(!0);try{n(e)}finally{mn(!1)}}}else l=e;return i.memoizedState=i.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},i.queue=t,t=t.dispatch=dv.bind(null,Z,t),[i.memoizedState,t]},useRef:function(t){var e=Ze();return t={current:t},e.memoizedState=t},useState:function(t){t=Ar(t);var e=t.queue,n=pp.bind(null,Z,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:$u,useDeferredValue:function(t,e){var n=Ze();return Xu(n,t,e)},useTransition:function(){var t=Ar(!1);return t=cp.bind(null,Z,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Z,l=Ze();if(te){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),de===null)throw Error(A(349));W&124||Yh(i,e,n)}l.memoizedState=n;var o={value:n,getSnapshot:e};return l.queue=o,ff(Zh.bind(null,i,o,t),[t]),i.flags|=2048,Hi(9,ls(),Jh.bind(null,i,o,n,e),null),n},useId:function(){var t=Ze(),e=de.identifierPrefix;if(te){var n=zt,i=Gt;n=(i&~(1<<32-lt(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=Ca++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=av++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Ku,useFormState:rf,useActionState:rf,useOptimistic:function(t){var e=Ze();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Qu.bind(null,Z,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ju,useCacheRefresh:function(){return Ze().memoizedState=fv.bind(null,Z)}},Tp={readContext:Ge,use:is,useCallback:sp,useContext:Ge,useEffect:np,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:lp,useMemo:rp,useReducer:Qo,useRef:tp,useState:function(){return Qo(Zt)},useDebugValue:$u,useDeferredValue:function(t,e){var n=Ne();return up(n,ue.memoizedState,t,e)},useTransition:function(){var t=Qo(Zt)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:po(t),e]},useSyncExternalStore:Fh,useId:mp,useHostTransitionStatus:Ku,useFormState:uf,useActionState:uf,useOptimistic:function(t,e){var n=Ne();return Kh(n,ue,t,e)},useMemoCache:Ju,useCacheRefresh:hp},mv={readContext:Ge,use:is,useCallback:sp,useContext:Ge,useEffect:np,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:lp,useMemo:rp,useReducer:Us,useRef:tp,useState:function(){return Us(Zt)},useDebugValue:$u,useDeferredValue:function(t,e){var n=Ne();return ue===null?Xu(n,t,e):up(n,ue.memoizedState,t,e)},useTransition:function(){var t=Us(Zt)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:po(t),e]},useSyncExternalStore:Fh,useId:mp,useHostTransitionStatus:Ku,useFormState:cf,useActionState:cf,useOptimistic:function(t,e){var n=Ne();return ue!==null?Kh(n,ue,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:hp},Ui=null,$l=0;function ko(t){var e=$l;return $l+=1,Ui===null&&(Ui=[]),Bh(Ui,t,e)}function pl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Uo(t,e){throw e.$$typeof===Oy?Error(A(525)):(t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function df(t){var e=t._init;return e(t._payload)}function Sp(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function l(v,y){return v=Ft(v,y),v.index=0,v.sibling=null,v}function o(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=67108866,y):T):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function r(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function u(v,y,T,S){return y===null||y.tag!==6?(y=Ds(T,v.mode,S),y.return=v,y):(y=l(y,T),y.return=v,y)}function c(v,y,T,S){var _=T.type;return _===hi?d(v,y,T.props.children,S,T.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===an&&df(_)===y.type)?(y=l(y,T.props),pl(y,T),y.return=v,y):(y=Xo(T.type,T.key,T.props,null,v.mode,S),pl(y,T),y.return=v,y)}function f(v,y,T,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=ws(T,v.mode,S),y.return=v,y):(y=l(y,T.children||[]),y.return=v,y)}function d(v,y,T,S,_){return y===null||y.tag!==7?(y=Bn(T,v.mode,S,_),y.return=v,y):(y=l(y,T),y.return=v,y)}function m(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Ds(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ao:return T=Xo(y.type,y.key,y.props,null,v.mode,T),pl(T,y),T.return=v,T;case Sl:return y=ws(y,v.mode,T),y.return=v,y;case an:var S=y._init;return y=S(y._payload),m(v,y,T)}if(Cl(y)||fl(y))return y=Bn(y,v.mode,T,null),y.return=v,y;if(typeof y.then=="function")return m(v,ko(y),T);if(y.$$typeof===Bt)return m(v,Do(v,y),T);Uo(v,y)}return null}function h(v,y,T,S){var _=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return _!==null?null:u(v,y,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ao:return T.key===_?c(v,y,T,S):null;case Sl:return T.key===_?f(v,y,T,S):null;case an:return _=T._init,T=_(T._payload),h(v,y,T,S)}if(Cl(T)||fl(T))return _!==null?null:d(v,y,T,S,null);if(typeof T.then=="function")return h(v,y,ko(T),S);if(T.$$typeof===Bt)return h(v,y,Do(v,T),S);Uo(v,T)}return null}function g(v,y,T,S,_){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return v=v.get(T)||null,u(y,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ao:return v=v.get(S.key===null?T:S.key)||null,c(y,v,S,_);case Sl:return v=v.get(S.key===null?T:S.key)||null,f(y,v,S,_);case an:var D=S._init;return S=D(S._payload),g(v,y,T,S,_)}if(Cl(S)||fl(S))return v=v.get(T)||null,d(y,v,S,_,null);if(typeof S.then=="function")return g(v,y,T,ko(S),_);if(S.$$typeof===Bt)return g(v,y,T,Do(y,S),_);Uo(y,S)}return null}function C(v,y,T,S){for(var _=null,D=null,N=y,E=y=0,R=null;N!==null&&E<T.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var w=h(v,N,T[E],S);if(w===null){N===null&&(N=R);break}t&&N&&w.alternate===null&&e(v,N),y=o(w,y,E),D===null?_=w:D.sibling=w,D=w,N=R}if(E===T.length)return n(v,N),te&&Ln(v,E),_;if(N===null){for(;E<T.length;E++)N=m(v,T[E],S),N!==null&&(y=o(N,y,E),D===null?_=N:D.sibling=N,D=N);return te&&Ln(v,E),_}for(N=i(N);E<T.length;E++)R=g(N,v,E,T[E],S),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?E:R.key),y=o(R,y,E),D===null?_=R:D.sibling=R,D=R);return t&&N.forEach(function(q){return e(v,q)}),te&&Ln(v,E),_}function x(v,y,T,S){if(T==null)throw Error(A(151));for(var _=null,D=null,N=y,E=y=0,R=null,w=T.next();N!==null&&!w.done;E++,w=T.next()){N.index>E?(R=N,N=null):R=N.sibling;var q=h(v,N,w.value,S);if(q===null){N===null&&(N=R);break}t&&N&&q.alternate===null&&e(v,N),y=o(q,y,E),D===null?_=q:D.sibling=q,D=q,N=R}if(w.done)return n(v,N),te&&Ln(v,E),_;if(N===null){for(;!w.done;E++,w=T.next())w=m(v,w.value,S),w!==null&&(y=o(w,y,E),D===null?_=w:D.sibling=w,D=w);return te&&Ln(v,E),_}for(N=i(N);!w.done;E++,w=T.next())w=g(N,v,E,w.value,S),w!==null&&(t&&w.alternate!==null&&N.delete(w.key===null?E:w.key),y=o(w,y,E),D===null?_=w:D.sibling=w,D=w);return t&&N.forEach(function(I){return e(v,I)}),te&&Ln(v,E),_}function M(v,y,T,S){if(typeof T=="object"&&T!==null&&T.type===hi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ao:e:{for(var _=T.key;y!==null;){if(y.key===_){if(_=T.type,_===hi){if(y.tag===7){n(v,y.sibling),S=l(y,T.props.children),S.return=v,v=S;break e}}else if(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===an&&df(_)===y.type){n(v,y.sibling),S=l(y,T.props),pl(S,T),S.return=v,v=S;break e}n(v,y);break}else e(v,y);y=y.sibling}T.type===hi?(S=Bn(T.props.children,v.mode,S,T.key),S.return=v,v=S):(S=Xo(T.type,T.key,T.props,null,v.mode,S),pl(S,T),S.return=v,v=S)}return r(v);case Sl:e:{for(_=T.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),S=l(y,T.children||[]),S.return=v,v=S;break e}else{n(v,y);break}else e(v,y);y=y.sibling}S=ws(T,v.mode,S),S.return=v,v=S}return r(v);case an:return _=T._init,T=_(T._payload),M(v,y,T,S)}if(Cl(T))return C(v,y,T,S);if(fl(T)){if(_=fl(T),typeof _!="function")throw Error(A(150));return T=_.call(T),x(v,y,T,S)}if(typeof T.then=="function")return M(v,y,ko(T),S);if(T.$$typeof===Bt)return M(v,y,Do(v,T),S);Uo(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),S=l(y,T),S.return=v,v=S):(n(v,y),S=Ds(T,v.mode,S),S.return=v,v=S),r(v)):n(v,y)}return function(v,y,T,S){try{$l=0;var _=M(v,y,T,S);return Ui=null,_}catch(N){if(N===ho||N===ns)throw N;var D=nt(29,N,null,v.mode);return D.lanes=S,D.return=v,D}finally{}}}var Oi=Sp(!0),Cp=Sp(!1),gt=Ut(null),Dt=null;function cn(t){var e=t.alternate;ye(be,be.current&1),ye(gt,t),Dt===null&&(e===null||zi.current!==null||e.memoizedState!==null)&&(Dt=t)}function xp(t){if(t.tag===22){if(ye(be,be.current),ye(gt,t),Dt===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Dt=t)}}else fn()}function fn(){ye(be,be.current),ye(gt,gt.current)}function Ot(t){Le(gt),Dt===t&&(Dt=null),Le(be)}var be=Ut(0);function _a(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Fr(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Is(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rr={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ot(),l=vn(i);l.payload=e,n!=null&&(l.callback=n),e=Tn(t,l,i),e!==null&&(at(e,t,i),kl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ot(),l=vn(i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Tn(t,l,i),e!==null&&(at(e,t,i),kl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),i=vn(n);i.tag=2,e!=null&&(i.callback=e),e=Tn(t,i,n),e!==null&&(at(e,t,n),kl(e,t,n))}};function mf(t,e,n,i,l,o,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,r):e.prototype&&e.prototype.isPureReactComponent?!Yl(n,i)||!Yl(l,o):!0}function hf(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Rr.enqueueReplaceState(e,e.state,null)}function $n(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=he({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}var Ea=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _p(t){Ea(t)}function Ep(t){console.error(t)}function Ap(t){Ea(t)}function Aa(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function pf(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function br(t,e,n){return n=vn(n),n.tag=3,n.payload={element:null},n.callback=function(){Aa(t,e)},n}function Mp(t){return t=vn(t),t.tag=3,t}function Np(t,e,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;t.payload=function(){return l(o)},t.callback=function(){pf(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){pf(e,n,i),typeof l!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function hv(t,e,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&fo(e,n,l,!0),n=gt.current,n!==null){switch(n.tag){case 13:return Dt===null?Pr():n.alternate===null&&Ce===0&&(Ce=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===Cr?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Ys(t,i,l)),!1;case 22:return n.flags|=65536,i===Cr?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Ys(t,i,l)),!1}throw Error(A(435,n.tag))}return Ys(t,i,l),Pr(),!1}if(te)return e=gt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==gr&&(t=Error(A(422),{cause:i}),Jl(mt(t,n)))):(i!==gr&&(e=Error(A(423),{cause:i}),Jl(mt(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,i=mt(i,n),l=br(t.stateNode,i,l),ks(t,l),Ce!==4&&(Ce=2)),!1;var o=Error(A(520),{cause:i});if(o=mt(o,n),ql===null?ql=[o]:ql.push(o),Ce!==4&&(Ce=2),e===null)return!0;i=mt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=br(n.stateNode,i,t),ks(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Sn===null||!Sn.has(o))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Mp(l),Np(l,t,n,i),ks(n,l),!1}n=n.return}while(n!==null);return!1}var Rp=Error(A(461)),Ie=!1;function Ve(t,e,n,i){e.child=t===null?Cp(e,null,n,i):Oi(e,t.child,n,i)}function gf(t,e,n,i,l){n=n.render;var o=e.ref;if("ref"in i){var r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}else r=i;return Jn(e),i=zu(t,e,n,r,o,l),u=Hu(),t!==null&&!Ie?(Ou(t,e,l),$t(t,e,l)):(te&&u&&Iu(e),e.flags|=1,Ve(t,e,i,l),e.child)}function yf(t,e,n,i,l){if(t===null){var o=n.type;return typeof o=="function"&&!Uu(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,bp(t,e,o,i,l)):(t=Xo(n.type,null,i,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!Wu(t,l)){var r=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yl,n(r,i)&&t.ref===e.ref)return $t(t,e,l)}return e.flags|=1,t=Ft(o,i),t.ref=e.ref,t.return=e,e.child=t}function bp(t,e,n,i,l){if(t!==null){var o=t.memoizedProps;if(Yl(o,i)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=i=o,Wu(t,l))t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,$t(t,e,l)}return Dr(t,e,n,i,l)}function Dp(t,e,n){var i=e.pendingProps,l=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|n:n,t!==null){for(l=e.child=t.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return vf(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(e,o!==null?o.cachePool:null),o!==null?of(e,o):Er(),xp(e);else return e.lanes=e.childLanes=536870912,vf(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(Ko(e,o.cachePool),of(e,o),fn(),e.memoizedState=null):(t!==null&&Ko(e,null),Er(),fn());return Ve(t,e,l,n),e.child}function vf(t,e,n,i){var l=Pu();return l=l===null?null:{parent:Re._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&Ko(e,null),Er(),xp(e),t!==null&&fo(t,e,i,!0),null}function jo(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Dr(t,e,n,i,l){return Jn(e),n=zu(t,e,n,i,void 0,l),i=Hu(),t!==null&&!Ie?(Ou(t,e,l),$t(t,e,l)):(te&&i&&Iu(e),e.flags|=1,Ve(t,e,n,l),e.child)}function Tf(t,e,n,i,l,o){return Jn(e),e.updateQueue=null,n=Oh(e,i,n,l),Hh(t),i=Hu(),t!==null&&!Ie?(Ou(t,e,o),$t(t,e,o)):(te&&i&&Iu(e),e.flags|=1,Ve(t,e,n,o),e.child)}function Sf(t,e,n,i,l){if(Jn(e),e.stateNode===null){var o=xi,r=n.contextType;typeof r=="object"&&r!==null&&(o=Ge(r)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rr,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},qu(e),r=n.contextType,o.context=typeof r=="object"&&r!==null?Ge(r):xi,o.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Is(e,n,r,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&Rr.enqueueReplaceState(o,o.state,null),Il(e,i,o,l),Ul(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var u=e.memoizedProps,c=$n(n,u);o.props=c;var f=o.context,d=n.contextType;r=xi,typeof d=="object"&&d!==null&&(r=Ge(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==r)&&hf(e,o,i,r),sn=!1;var h=e.memoizedState;o.state=h,Il(e,i,o,l),Ul(),f=e.memoizedState,u||h!==f||sn?(typeof m=="function"&&(Is(e,n,m,i),f=e.memoizedState),(c=sn||mf(e,n,c,i,h,f,r))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=r,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,xr(t,e),r=e.memoizedProps,d=$n(n,r),o.props=d,m=e.pendingProps,h=o.context,f=n.contextType,c=xi,typeof f=="object"&&f!==null&&(c=Ge(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r!==m||h!==c)&&hf(e,o,i,c),sn=!1,h=e.memoizedState,o.state=h,Il(e,i,o,l),Ul();var g=e.memoizedState;r!==m||h!==g||sn||t!==null&&t.dependencies!==null&&va(t.dependencies)?(typeof u=="function"&&(Is(e,n,u,i),g=e.memoizedState),(d=sn||mf(e,n,d,i,h,g,c)||t!==null&&t.dependencies!==null&&va(t.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,jo(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=Oi(e,t.child,null,l),e.child=Oi(e,null,n,l)):Ve(t,e,n,l),e.memoizedState=o.state,t=e.child):t=$t(t,e,l),t}function Cf(t,e,n,i){return co(),e.flags|=256,Ve(t,e,n,i),e.child}var Ls={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vs(t){return{baseLanes:t,cachePool:Ph()}}function Ps(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ht),t}function wp(t,e,n){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,r;if((r=o)||(r=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),r&&(l=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(te){if(l?cn(e):fn(),te){var u=Se,c;if(c=u){e:{for(c=u,u=Et;c.nodeType!==8;){if(!u){u=null;break e}if(c=Ct(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:Gn!==null?{id:Gt,overflow:zt}:null,retryLane:536870912,hydrationErrors:null},c=nt(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,Oe=e,Se=null,c=!0):c=!1}c||Yn(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Fr(u)?e.lanes=32:e.lanes=536870912,null;Ot(e)}return u=i.children,i=i.fallback,l?(fn(),l=e.mode,u=Ma({mode:"hidden",children:u},l),i=Bn(i,l,n,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=Vs(n),l.childLanes=Ps(t,r,n),e.memoizedState=Ls,i):(cn(e),wr(e,u))}if(c=t.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(cn(e),e.flags&=-257,e=qs(t,e,n)):e.memoizedState!==null?(fn(),e.child=t.child,e.flags|=128,e=null):(fn(),l=i.fallback,u=e.mode,i=Ma({mode:"visible",children:i.children},u),l=Bn(l,u,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Oi(e,t.child,null,n),i=e.child,i.memoizedState=Vs(n),i.childLanes=Ps(t,r,n),e.memoizedState=Ls,e=l);else if(cn(e),Fr(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var f=r.dgst;r=f,i=Error(A(419)),i.stack="",i.digest=r,Jl({value:i,source:null,stack:null}),e=qs(t,e,n)}else if(Ie||fo(t,e,n,!1),r=(n&t.childLanes)!==0,Ie||r){if(r=de,r!==null&&(i=n&-n,i=i&42?1:xu(i),i=i&(r.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,nl(t,i),at(r,t,i),Rp;u.data==="$?"||Pr(),e=qs(t,e,n)}else u.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Se=Ct(u.nextSibling),Oe=e,te=!0,zn=null,Et=!1,t!==null&&(ct[ft++]=Gt,ct[ft++]=zt,ct[ft++]=Gn,Gt=t.id,zt=t.overflow,Gn=e),e=wr(e,i.children),e.flags|=4096);return e}return l?(fn(),l=i.fallback,u=e.mode,c=t.child,f=c.sibling,i=Ft(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Ft(f,l):(l=Bn(l,u,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=t.child.memoizedState,u===null?u=Vs(n):(c=u.cachePool,c!==null?(f=Re._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Ph(),u={baseLanes:u.baseLanes|n,cachePool:c}),l.memoizedState=u,l.childLanes=Ps(t,r,n),e.memoizedState=Ls,i):(cn(e),n=t.child,t=n.sibling,n=Ft(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function wr(t,e){return e=Ma({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ma(t,e){return t=nt(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qs(t,e,n){return Oi(e,t.child,null,n),t=wr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),vr(t.return,e,n)}function Bs(t,e,n,i,l){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function kp(t,e,n){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(Ve(t,e,i.children,n),i=be.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xf(t,n,e);else if(t.tag===19)xf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(ye(be,i),l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&_a(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Bs(e,!1,l,n,o);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&_a(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Bs(e,!0,n,null,o);break;case"together":Bs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rn|=e.lanes,!(n&e.childLanes))if(t!==null){if(fo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Ft(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ft(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wu(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&va(t)))}function pv(t,e,n){switch(e.tag){case 3:ca(e,e.stateNode.containerInfo),un(e,Re,t.memoizedState.cache),co();break;case 27:case 5:ar(e);break;case 4:ca(e,e.stateNode.containerInfo);break;case 10:un(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(cn(e),e.flags|=128,null):n&e.child.childLanes?wp(t,e,n):(cn(e),t=$t(t,e,n),t!==null?t.sibling:null);cn(e);break;case 19:var l=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(fo(t,e,n,!1),i=(n&e.childLanes)!==0),l){if(i)return kp(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(be,be.current),i)break;return null;case 22:case 23:return e.lanes=0,Dp(t,e,n);case 24:un(e,Re,t.memoizedState.cache)}return $t(t,e,n)}function Up(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ie=!0;else{if(!Wu(t,n)&&!(e.flags&128))return Ie=!1,pv(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,te&&e.flags&1048576&&Lh(e,ya,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Uu(i)?(t=$n(i,t),e.tag=1,e=Sf(null,e,i,t,n)):(e.tag=0,e=Dr(null,e,i,t,n));else{if(i!=null){if(l=i.$$typeof,l===Tu){e.tag=11,e=gf(null,e,i,t,n);break e}else if(l===Su){e.tag=14,e=yf(null,e,i,t,n);break e}}throw e=lr(i)||i,Error(A(306,e,""))}}return e;case 0:return Dr(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,l=$n(i,e.pendingProps),Sf(t,e,i,l,n);case 3:e:{if(ca(e,e.stateNode.containerInfo),t===null)throw Error(A(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,xr(t,e),Il(e,i,null,n);var r=e.memoizedState;if(i=r.cache,un(e,Re,i),i!==o.cache&&Tr(e,[Re],n,!0),Ul(),i=r.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Cf(t,e,i,n);break e}else if(i!==l){l=mt(Error(A(424)),e),Jl(l),e=Cf(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=Ct(t.firstChild),Oe=e,te=!0,zn=null,Et=!0,n=Cp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(co(),i===l){e=$t(t,e,n);break e}Ve(t,e,i,n)}e=e.child}return e;case 26:return jo(t,e),t===null?(n=Bf(e.type,null,e.pendingProps,null))?e.memoizedState=n:te||(n=e.type,t=e.pendingProps,i=Ua(yn.current).createElement(n),i[Be]=e,i[Qe]=t,qe(i,n,t),Ue(i),e.stateNode=i):e.memoizedState=Bf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ar(e),t===null&&te&&(i=e.stateNode=Tg(e.type,e.pendingProps,yn.current),Oe=e,Et=!0,l=Se,wn(e.type)?(Yr=l,Se=Ct(i.firstChild)):Se=l),Ve(t,e,e.pendingProps.children,n),jo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&te&&((l=i=Se)&&(i=Ov(i,e.type,e.pendingProps,Et),i!==null?(e.stateNode=i,Oe=e,Se=Ct(i.firstChild),Et=!1,l=!0):l=!1),l||Yn(e)),ar(e),l=e.type,o=e.pendingProps,r=t!==null?t.memoizedProps:null,i=o.children,Hr(l,o)?i=null:r!==null&&Hr(l,r)&&(e.flags|=32),e.memoizedState!==null&&(l=zu(t,e,sv,null,null,n),Wl._currentValue=l),jo(t,e),Ve(t,e,i,n),e.child;case 6:return t===null&&te&&((t=n=Se)&&(n=Fv(n,e.pendingProps,Et),n!==null?(e.stateNode=n,Oe=e,Se=null,t=!0):t=!1),t||Yn(e)),null;case 13:return wp(t,e,n);case 4:return ca(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Oi(e,null,i,n):Ve(t,e,i,n),e.child;case 11:return gf(t,e,e.type,e.pendingProps,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,un(e,e.type,i.value),Ve(t,e,i.children,n),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,Jn(e),l=Ge(l),i=i(l),e.flags|=1,Ve(t,e,i,n),e.child;case 14:return yf(t,e,e.type,e.pendingProps,n);case 15:return bp(t,e,e.type,e.pendingProps,n);case 19:return kp(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=Ma(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ft(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Dp(t,e,n);case 24:return Jn(e),i=Ge(Re),t===null?(l=Pu(),l===null&&(l=de,o=Vu(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=n),l=o),e.memoizedState={parent:i,cache:l},qu(e),un(e,Re,l)):(t.lanes&n&&(xr(t,e),Il(e,null,null,n),Ul()),l=t.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),un(e,Re,i)):(i=o.cache,un(e,Re,i),i!==l.cache&&Tr(e,[Re],n,!0))),Ve(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(A(156,e.tag))}function Vt(t){t.flags|=4}function _f(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!xg(e)){if(e=gt.current,e!==null&&((W&4194048)===W?Dt!==null:(W&62914560)!==W&&!(W&536870912)||e!==Dt))throw wl=Cr,qh;t.flags|=8192}}function Io(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?oh():536870912,t.lanes|=e,Fi|=e)}function gl(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function gv(t,e,n){var i=e.pendingProps;switch(Lu(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return ve(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Yt(Re),Pi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(hl(e)?Vt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wc())),ve(e),null;case 26:return n=e.memoizedState,t===null?(Vt(e),n!==null?(ve(e),_f(e,n)):(ve(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Vt(e),ve(e),_f(e,n)):(ve(e),e.flags&=-16777217):(t.memoizedProps!==i&&Vt(e),ve(e),e.flags&=-16777217),null;case 27:fa(e),n=yn.current;var l=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Vt(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return ve(e),null}t=Rt.current,hl(e)?Kc(e):(t=Tg(l,i,n),e.stateNode=t,Vt(e))}return ve(e),null;case 5:if(fa(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Vt(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return ve(e),null}if(t=Rt.current,hl(e))Kc(e);else{switch(l=Ua(yn.current),t){case 1:t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?l.createElement(n,{is:i.is}):l.createElement(n)}}t[Be]=e,t[Qe]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=t;e:switch(qe(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Vt(e)}}return ve(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Vt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(A(166));if(t=yn.current,hl(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,l=Oe,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}t[Be]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||gg(t.nodeValue,n)),t||Yn(e)}else t=Ua(t).createTextNode(i),t[Be]=e,e.stateNode=t}return ve(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=hl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(A(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[Be]=e}else co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),l=!1}else l=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Ot(e),e):(Ot(e),null)}if(Ot(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Io(e,e.updateQueue),ve(e),null;case 4:return Pi(),t===null&&ac(e.stateNode.containerInfo),ve(e),null;case 10:return Yt(e.type),ve(e),null;case 19:if(Le(be),l=e.memoizedState,l===null)return ve(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)gl(l,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_a(t),o!==null){for(e.flags|=128,gl(l,!1),t=o.updateQueue,e.updateQueue=t,Io(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Ih(n,t),n=n.sibling;return ye(be,be.current&1|2),e.child}t=t.sibling}l.tail!==null&&bt()>Ra&&(e.flags|=128,i=!0,gl(l,!1),e.lanes=4194304)}else{if(!i)if(t=_a(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Io(e,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!te)return ve(e),null}else 2*bt()-l.renderingStartTime>Ra&&n!==536870912&&(e.flags|=128,i=!0,gl(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(t=l.last,t!==null?t.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=bt(),e.sibling=null,t=be.current,ye(be,i?t&1|2:t&1),e):(ve(e),null);case 22:case 23:return Ot(e),Bu(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),n=e.updateQueue,n!==null&&Io(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Le(Hn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Yt(Re),ve(e),null;case 25:return null;case 30:return null}throw Error(A(156,e.tag))}function yv(t,e){switch(Lu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yt(Re),Pi(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return fa(e),null;case 13:if(Ot(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(be),null;case 4:return Pi(),null;case 10:return Yt(e.type),null;case 22:case 23:return Ot(e),Bu(),t!==null&&Le(Hn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Yt(Re),null;case 25:return null;default:return null}}function Ip(t,e){switch(Lu(e),e.tag){case 3:Yt(Re),Pi();break;case 26:case 27:case 5:fa(e);break;case 4:Pi();break;case 13:Ot(e);break;case 19:Le(be);break;case 10:Yt(e.type);break;case 22:case 23:Ot(e),Bu(),t!==null&&Le(Hn);break;case 24:Yt(Re)}}function yo(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){i=void 0;var o=n.create,r=n.inst;i=o(),r.destroy=i}n=n.next}while(n!==l)}}catch(u){fe(e,e.return,u)}}function Nn(t,e,n){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&t)===t){var r=i.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,l=e;var c=n,f=u;try{f()}catch(d){fe(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){fe(e,e.return,d)}}function Lp(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{zh(e,n)}catch(i){fe(t,t.return,i)}}}function Vp(t,e,n){n.props=$n(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){fe(t,e,i)}}function Vl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(l){fe(t,e,l)}}function At(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){fe(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){fe(t,e,l)}else n.current=null}function Pp(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){fe(t,t.return,l)}}function Gs(t,e,n){try{var i=t.stateNode;qv(i,t.type,n,e),i[Qe]=e}catch(l){fe(t,t.return,l)}}function qp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wn(t.type)||t.tag===4}function zs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kr(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=us));else if(i!==4&&(i===27&&wn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(kr(t,e,n),t=t.sibling;t!==null;)kr(t,e,n),t=t.sibling}function Na(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&wn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Na(t,e,n),t=t.sibling;t!==null;)Na(t,e,n),t=t.sibling}function Bp(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);qe(e,i,n),e[Be]=t,e[Qe]=n}catch(o){fe(t,t.return,o)}}var qt=!1,_e=!1,Hs=!1,Ef=typeof WeakSet=="function"?WeakSet:Set,ke=null;function vv(t,e){if(t=t.containerInfo,Gr=Pa,t=Mh(t),Du(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var r=0,u=-1,c=-1,f=0,d=0,m=t,h=null;t:for(;;){for(var g;m!==n||l!==0&&m.nodeType!==3||(u=r+l),m!==o||i!==0&&m.nodeType!==3||(c=r+i),m.nodeType===3&&(r+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===t)break t;if(h===n&&++f===l&&(u=r),h===o&&++d===i&&(c=r),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zr={focusedElem:t,selectionRange:n},Pa=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){switch(e=ke,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,l=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var C=$n(n.type,l,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(C,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(x){fe(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Or(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Or(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(A(163))}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}}function Gp(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ln(t,n),i&4&&yo(5,n);break;case 1:if(ln(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){fe(n,n.return,r)}else{var l=$n(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){fe(n,n.return,r)}}i&64&&Lp(n),i&512&&Vl(n,n.return);break;case 3:if(ln(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{zh(t,e)}catch(r){fe(n,n.return,r)}}break;case 27:e===null&&i&4&&Bp(n);case 26:case 5:ln(t,n),e===null&&i&4&&Pp(n),i&512&&Vl(n,n.return);break;case 12:ln(t,n);break;case 13:ln(t,n),i&4&&Op(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Nv.bind(null,n),Yv(t,n))));break;case 22:if(i=n.memoizedState!==null||qt,!i){e=e!==null&&e.memoizedState!==null||_e,l=qt;var o=_e;qt=i,(_e=e)&&!o?on(t,n,(n.subtreeFlags&8772)!==0):ln(t,n),qt=l,_e=o}break;case 30:break;default:ln(t,n)}}function zp(t){var e=t.alternate;e!==null&&(t.alternate=null,zp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Eu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,$e=!1;function Pt(t,e,n){for(n=n.child;n!==null;)Hp(t,e,n),n=n.sibling}function Hp(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(oo,n)}catch{}switch(n.tag){case 26:_e||At(n,e),Pt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_e||At(n,e);var i=pe,l=$e;wn(n.type)&&(pe=n.stateNode,$e=!1),Pt(t,e,n),Gl(n.stateNode),pe=i,$e=l;break;case 5:_e||At(n,e);case 6:if(i=pe,l=$e,pe=null,Pt(t,e,n),pe=i,$e=l,pe!==null)if($e)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(n.stateNode)}catch(o){fe(n,e,o)}else try{pe.removeChild(n.stateNode)}catch(o){fe(n,e,o)}break;case 18:pe!==null&&($e?(t=pe,Vf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),to(t)):Vf(pe,n.stateNode));break;case 4:i=pe,l=$e,pe=n.stateNode.containerInfo,$e=!0,Pt(t,e,n),pe=i,$e=l;break;case 0:case 11:case 14:case 15:_e||Nn(2,n,e),_e||Nn(4,n,e),Pt(t,e,n);break;case 1:_e||(At(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Vp(n,e,i)),Pt(t,e,n);break;case 21:Pt(t,e,n);break;case 22:_e=(i=_e)||n.memoizedState!==null,Pt(t,e,n),_e=i;break;default:Pt(t,e,n)}}function Op(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(n){fe(e,e.return,n)}}function Tv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ef),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ef),e;default:throw Error(A(435,t.tag))}}function Os(t,e){var n=Tv(t);e.forEach(function(i){var l=Rv.bind(null,t,i);n.has(i)||(n.add(i),i.then(l,l))})}function je(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],o=t,r=e,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(wn(u.type)){pe=u.stateNode,$e=!1;break e}break;case 5:pe=u.stateNode,$e=!1;break e;case 3:case 4:pe=u.stateNode.containerInfo,$e=!0;break e}u=u.return}if(pe===null)throw Error(A(160));Hp(o,r,l),pe=null,$e=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Fp(e,t),e=e.sibling}var St=null;function Fp(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:je(e,t),et(t),i&4&&(Nn(3,t,t.return),yo(3,t),Nn(5,t,t.return));break;case 1:je(e,t),et(t),i&512&&(_e||n===null||At(n,n.return)),i&64&&qt&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=St;if(je(e,t),et(t),i&512&&(_e||n===null||At(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[ro]||o[Be]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),qe(o,i,n),o[Be]=t,Ue(o),i=o;break e;case"link":var r=zf("link","href",l).get(i+(n.href||""));if(r){for(var u=0;u<r.length;u++)if(o=r[u],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(u,1);break t}}o=l.createElement(i),qe(o,i,n),l.head.appendChild(o);break;case"meta":if(r=zf("meta","content",l).get(i+(n.content||""))){for(u=0;u<r.length;u++)if(o=r[u],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(u,1);break t}}o=l.createElement(i),qe(o,i,n),l.head.appendChild(o);break;default:throw Error(A(468,i))}o[Be]=t,Ue(o),i=o}t.stateNode=i}else Hf(l,t.type,t.stateNode);else t.stateNode=Gf(l,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?Hf(l,t.type,t.stateNode):Gf(l,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Gs(t,t.memoizedProps,n.memoizedProps)}break;case 27:je(e,t),et(t),i&512&&(_e||n===null||At(n,n.return)),n!==null&&i&4&&Gs(t,t.memoizedProps,n.memoizedProps);break;case 5:if(je(e,t),et(t),i&512&&(_e||n===null||At(n,n.return)),t.flags&32){l=t.stateNode;try{Bi(l,"")}catch(g){fe(t,t.return,g)}}i&4&&t.stateNode!=null&&(l=t.memoizedProps,Gs(t,l,n!==null?n.memoizedProps:l)),i&1024&&(Hs=!0);break;case 6:if(je(e,t),et(t),i&4){if(t.stateNode===null)throw Error(A(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){fe(t,t.return,g)}}break;case 3:if(na=null,l=St,St=Ia(e.containerInfo),je(e,t),St=l,et(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{to(e.containerInfo)}catch(g){fe(t,t.return,g)}Hs&&(Hs=!1,Yp(t));break;case 4:i=St,St=Ia(t.stateNode.containerInfo),je(e,t),et(t),St=i;break;case 12:je(e,t),et(t);break;case 13:je(e,t),et(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ic=bt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Os(t,i)));break;case 22:l=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=qt,d=_e;if(qt=f||l,_e=d||c,je(e,t),_e=d,qt=f,et(t),i&8192)e:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||c||qt||_e||Vn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(o=c.stateNode,l)r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=c.stateNode;var m=c.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){fe(c,c.return,g)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(g){fe(c,c.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Os(t,n))));break;case 19:je(e,t),et(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Os(t,i)));break;case 30:break;case 21:break;default:je(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(qp(i)){n=i;break}i=i.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var l=n.stateNode,o=zs(t);Na(t,o,l);break;case 5:var r=n.stateNode;n.flags&32&&(Bi(r,""),n.flags&=-33);var u=zs(t);Na(t,u,r);break;case 3:case 4:var c=n.stateNode.containerInfo,f=zs(t);kr(t,f,c);break;default:throw Error(A(161))}}catch(d){fe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Yp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ln(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Gp(t,e.alternate,e),e=e.sibling}function Vn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Nn(4,e,e.return),Vn(e);break;case 1:At(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Vp(e,e.return,n),Vn(e);break;case 27:Gl(e.stateNode);case 26:case 5:At(e,e.return),Vn(e);break;case 22:e.memoizedState===null&&Vn(e);break;case 30:Vn(e);break;default:Vn(e)}t=t.sibling}}function on(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=t,o=e,r=o.flags;switch(o.tag){case 0:case 11:case 15:on(l,o,n),yo(4,o);break;case 1:if(on(l,o,n),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){fe(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)Gh(c[l],u)}catch(f){fe(i,i.return,f)}}n&&r&64&&Lp(o),Vl(o,o.return);break;case 27:Bp(o);case 26:case 5:on(l,o,n),n&&i===null&&r&4&&Pp(o),Vl(o,o.return);break;case 12:on(l,o,n);break;case 13:on(l,o,n),n&&r&4&&Op(l,o);break;case 22:o.memoizedState===null&&on(l,o,n),Vl(o,o.return);break;case 30:break;default:on(l,o,n)}e=e.sibling}}function ju(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&mo(n))}function ec(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&mo(t))}function _t(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jp(t,e,n,i),e=e.sibling}function Jp(t,e,n,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:_t(t,e,n,i),l&2048&&yo(9,e);break;case 1:_t(t,e,n,i);break;case 3:_t(t,e,n,i),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&mo(t)));break;case 12:if(l&2048){_t(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,r=o.id,u=o.onPostCommit;typeof u=="function"&&u(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){fe(e,e.return,c)}}else _t(t,e,n,i);break;case 13:_t(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,r=e.alternate,e.memoizedState!==null?o._visibility&2?_t(t,e,n,i):Pl(t,e):o._visibility&2?_t(t,e,n,i):(o._visibility|=2,fi(t,e,n,i,(e.subtreeFlags&10256)!==0)),l&2048&&ju(r,e);break;case 24:_t(t,e,n,i),l&2048&&ec(e.alternate,e);break;default:_t(t,e,n,i)}}function fi(t,e,n,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,r=e,u=n,c=i,f=r.flags;switch(r.tag){case 0:case 11:case 15:fi(o,r,u,c,l),yo(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?fi(o,r,u,c,l):Pl(o,r):(d._visibility|=2,fi(o,r,u,c,l)),l&&f&2048&&ju(r.alternate,r);break;case 24:fi(o,r,u,c,l),l&&f&2048&&ec(r.alternate,r);break;default:fi(o,r,u,c,l)}e=e.sibling}}function Pl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,l=i.flags;switch(i.tag){case 22:Pl(n,i),l&2048&&ju(i.alternate,i);break;case 24:Pl(n,i),l&2048&&ec(i.alternate,i);break;default:Pl(n,i)}e=e.sibling}}var _l=8192;function li(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Zp(t),t=t.sibling}function Zp(t){switch(t.tag){case 26:li(t),t.flags&_l&&t.memoizedState!==null&&lT(St,t.memoizedState,t.memoizedProps);break;case 5:li(t);break;case 3:case 4:var e=St;St=Ia(t.stateNode.containerInfo),li(t),St=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=_l,_l=16777216,li(t),_l=e):li(t));break;default:li(t)}}function $p(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function yl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ke=i,Kp(i,t)}$p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xp(t),t=t.sibling}function Xp(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Nn(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ea(t)):yl(t);break;default:yl(t)}}function ea(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ke=i,Kp(i,t)}$p(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Nn(8,e,e.return),ea(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ea(e));break;default:ea(e)}t=t.sibling}}function Kp(t,e){for(;ke!==null;){var n=ke;switch(n.tag){case 0:case 11:case 15:Nn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:mo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ke=i;else e:for(n=t;ke!==null;){i=ke;var l=i.sibling,o=i.return;if(zp(i),i===n){ke=null;break e}if(l!==null){l.return=o,ke=l;break e}ke=o}}}var Sv={getCacheForType:function(t){var e=Ge(Re),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Cv=typeof WeakMap=="function"?WeakMap:Map,oe=0,de=null,X=null,W=0,le=0,tt=null,pn=!1,il=!1,tc=!1,Xt=0,Ce=0,Rn=0,On=0,nc=0,ht=0,Fi=0,ql=null,Xe=null,Ur=!1,ic=0,Ra=1/0,ba=null,Sn=null,Pe=0,Cn=null,Yi=null,Ii=0,Ir=0,Lr=null,Qp=null,Bl=0,Vr=null;function ot(){if(oe&2&&W!==0)return W&-W;if(B.T!==null){var t=Gi;return t!==0?t:oc()}return rh()}function Wp(){ht===0&&(ht=!(W&536870912)||te?lh():536870912);var t=gt.current;return t!==null&&(t.flags|=32),ht}function at(t,e,n){(t===de&&(le===2||le===9)||t.cancelPendingCommit!==null)&&(Ji(t,0),gn(t,W,ht,!1)),so(t,n),(!(oe&2)||t!==de)&&(t===de&&(!(oe&2)&&(On|=n),Ce===4&&gn(t,W,ht,!1)),It(t))}function jp(t,e,n){if(oe&6)throw Error(A(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||ao(t,e),l=i?Ev(t,e):Fs(t,e,!0),o=i;do{if(l===0){il&&!i&&gn(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!xv(n)){l=Fs(t,e,!1),o=!1;continue}if(l===2){if(o=e,t.errorRecoveryDisabledLanes&o)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var u=t;l=ql;var c=u.current.memoizedState.isDehydrated;if(c&&(Ji(u,r).flags|=256),r=Fs(u,r,!1),r!==2){if(tc&&!c){u.errorRecoveryDisabledLanes|=o,On|=o,l=4;break e}o=Xe,Xe=l,o!==null&&(Xe===null?Xe=o:Xe.push.apply(Xe,o))}l=r}if(o=!1,l!==2)continue}}if(l===1){Ji(t,0),gn(t,e,0,!0);break}e:{switch(i=t,o=l,o){case 0:case 1:throw Error(A(345));case 4:if((e&4194048)!==e)break;case 6:gn(i,e,ht,!pn);break e;case 2:Xe=null;break;case 3:case 5:break;default:throw Error(A(329))}if((e&62914560)===e&&(l=ic+300-bt(),10<l)){if(gn(i,e,ht,!pn),Ka(i,0,!0)!==0)break e;i.timeoutHandle=vg(Af.bind(null,i,n,Xe,ba,Ur,e,ht,On,Fi,pn,o,2,-0,0),l);break e}Af(i,n,Xe,ba,Ur,e,ht,On,Fi,pn,o,0,-0,0)}}break}while(!0);It(t)}function Af(t,e,n,i,l,o,r,u,c,f,d,m,h,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:iT},Zp(e),m=oT(),m!==null)){t.cancelPendingCommit=m(Nf.bind(null,t,e,o,n,i,l,r,u,c,d,1,h,g)),gn(t,o,r,!f);return}Nf(t,e,o,n,i,l,r,u,c)}function xv(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!st(o(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gn(t,e,n,i){e&=~nc,e&=~On,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var l=e;0<l;){var o=31-lt(l),r=1<<o;i[o]=-1,l&=~r}n!==0&&ah(t,n,e)}function as(){return oe&6?!0:(vo(0),!1)}function lc(){if(X!==null){if(le===0)var t=X.return;else t=X,Ht=ni=null,Fu(t),Ui=null,$l=0,t=X;for(;t!==null;)Ip(t.alternate,t),t=t.return;X=null}}function Ji(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Gv(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),lc(),de=t,X=n=Ft(t.current,null),W=e,le=0,tt=null,pn=!1,il=ao(t,e),tc=!1,Fi=ht=nc=On=Rn=Ce=0,Xe=ql=null,Ur=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var l=31-lt(i),o=1<<l;e|=t[l],i&=~o}return Xt=e,es(),n}function eg(t,e){Z=null,B.H=xa,e===ho||e===ns?(e=nf(),le=3):e===qh?(e=nf(),le=4):le=e===Rp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,tt=e,X===null&&(Ce=1,Aa(t,mt(e,t.current)))}function tg(){var t=B.H;return B.H=xa,t===null?xa:t}function ng(){var t=B.A;return B.A=Sv,t}function Pr(){Ce=4,pn||(W&4194048)!==W&&gt.current!==null||(il=!0),!(Rn&134217727)&&!(On&134217727)||de===null||gn(de,W,ht,!1)}function Fs(t,e,n){var i=oe;oe|=2;var l=tg(),o=ng();(de!==t||W!==e)&&(ba=null,Ji(t,e)),e=!1;var r=Ce;e:do try{if(le!==0&&X!==null){var u=X,c=tt;switch(le){case 8:lc(),r=6;break e;case 3:case 2:case 9:case 6:gt.current===null&&(e=!0);var f=le;if(le=0,tt=null,Ai(t,u,c,f),n&&il){r=0;break e}break;default:f=le,le=0,tt=null,Ai(t,u,c,f)}}_v(),r=Ce;break}catch(d){eg(t,d)}while(!0);return e&&t.shellSuspendCounter++,Ht=ni=null,oe=i,B.H=l,B.A=o,X===null&&(de=null,W=0,es()),r}function _v(){for(;X!==null;)ig(X)}function Ev(t,e){var n=oe;oe|=2;var i=tg(),l=ng();de!==t||W!==e?(ba=null,Ra=bt()+500,Ji(t,e)):il=ao(t,e);e:do try{if(le!==0&&X!==null){e=X;var o=tt;t:switch(le){case 1:le=0,tt=null,Ai(t,e,o,1);break;case 2:case 9:if(tf(o)){le=0,tt=null,Mf(e);break}e=function(){le!==2&&le!==9||de!==t||(le=7),It(t)},o.then(e,e);break e;case 3:le=7;break e;case 4:le=5;break e;case 7:tf(o)?(le=0,tt=null,Mf(e)):(le=0,tt=null,Ai(t,e,o,7));break;case 5:var r=null;switch(X.tag){case 26:r=X.memoizedState;case 5:case 27:var u=X;if(!r||xg(r)){le=0,tt=null;var c=u.sibling;if(c!==null)X=c;else{var f=u.return;f!==null?(X=f,ss(f)):X=null}break t}}le=0,tt=null,Ai(t,e,o,5);break;case 6:le=0,tt=null,Ai(t,e,o,6);break;case 8:lc(),Ce=6;break e;default:throw Error(A(462))}}Av();break}catch(d){eg(t,d)}while(!0);return Ht=ni=null,B.H=i,B.A=l,oe=n,X!==null?0:(de=null,W=0,es(),Ce)}function Av(){for(;X!==null&&!Zy();)ig(X)}function ig(t){var e=Up(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?ss(t):X=e}function Mf(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Tf(n,e,e.pendingProps,e.type,void 0,W);break;case 11:e=Tf(n,e,e.pendingProps,e.type.render,e.ref,W);break;case 5:Fu(e);default:Ip(n,e),e=X=Ih(e,Xt),e=Up(n,e,Xt)}t.memoizedProps=t.pendingProps,e===null?ss(t):X=e}function Ai(t,e,n,i){Ht=ni=null,Fu(e),Ui=null,$l=0;var l=e.return;try{if(hv(t,l,e,n,W)){Ce=1,Aa(t,mt(n,t.current)),X=null;return}}catch(o){if(l!==null)throw X=l,o;Ce=1,Aa(t,mt(n,t.current)),X=null;return}e.flags&32768?(te||i===1?t=!0:il||W&536870912?t=!1:(pn=t=!0,(i===2||i===9||i===3||i===6)&&(i=gt.current,i!==null&&i.tag===13&&(i.flags|=16384))),lg(e,t)):ss(e)}function ss(t){var e=t;do{if(e.flags&32768){lg(e,pn);return}t=e.return;var n=gv(e.alternate,e,Xt);if(n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);Ce===0&&(Ce=5)}function lg(t,e){do{var n=yv(t.alternate,t);if(n!==null){n.flags&=32767,X=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){X=t;return}X=t=n}while(t!==null);Ce=6,X=null}function Nf(t,e,n,i,l,o,r,u,c){t.cancelPendingCommit=null;do rs();while(Pe!==0);if(oe&6)throw Error(A(327));if(e!==null){if(e===t.current)throw Error(A(177));if(o=e.lanes|e.childLanes,o|=wu,i0(t,n,o,r,u,c),t===de&&(X=de=null,W=0),Yi=e,Cn=t,Ii=n,Ir=o,Lr=l,Qp=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,bv(da,function(){return ug(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=B.T,B.T=null,l=ne.p,ne.p=2,r=oe,oe|=4;try{vv(t,e,n)}finally{oe=r,ne.p=l,B.T=i}}Pe=1,og(),ag(),sg()}}function og(){if(Pe===1){Pe=0;var t=Cn,e=Yi,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=B.T,B.T=null;var i=ne.p;ne.p=2;var l=oe;oe|=4;try{Fp(e,t);var o=zr,r=Mh(t.containerInfo),u=o.focusedElem,c=o.selectionRange;if(r!==u&&u&&u.ownerDocument&&Ah(u.ownerDocument.documentElement,u)){if(c!==null&&Du(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var m=u.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var g=h.getSelection(),C=u.textContent.length,x=Math.min(c.start,C),M=c.end===void 0?x:Math.min(c.end,C);!g.extend&&x>M&&(r=M,M=x,x=r);var v=Zc(u,x),y=Zc(u,M);if(v&&y&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var T=m.createRange();T.setStart(v.node,v.offset),g.removeAllRanges(),x>M?(g.addRange(T),g.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),g.addRange(T))}}}}for(m=[],g=u;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<m.length;u++){var S=m[u];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Pa=!!Gr,zr=Gr=null}finally{oe=l,ne.p=i,B.T=n}}t.current=e,Pe=2}}function ag(){if(Pe===2){Pe=0;var t=Cn,e=Yi,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=B.T,B.T=null;var i=ne.p;ne.p=2;var l=oe;oe|=4;try{Gp(t,e.alternate,e)}finally{oe=l,ne.p=i,B.T=n}}Pe=3}}function sg(){if(Pe===4||Pe===3){Pe=0,$y();var t=Cn,e=Yi,n=Ii,i=Qp;e.subtreeFlags&10256||e.flags&10256?Pe=5:(Pe=0,Yi=Cn=null,rg(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Sn=null),_u(n),e=e.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(oo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=B.T,l=ne.p,ne.p=2,B.T=null;try{for(var o=t.onRecoverableError,r=0;r<i.length;r++){var u=i[r];o(u.value,{componentStack:u.stack})}}finally{B.T=e,ne.p=l}}Ii&3&&rs(),It(t),l=t.pendingLanes,n&4194090&&l&42?t===Vr?Bl++:(Bl=0,Vr=t):Bl=0,vo(0)}}function rg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,mo(e)))}function rs(t){return og(),ag(),sg(),ug()}function ug(){if(Pe!==5)return!1;var t=Cn,e=Ir;Ir=0;var n=_u(Ii),i=B.T,l=ne.p;try{ne.p=32>n?32:n,B.T=null,n=Lr,Lr=null;var o=Cn,r=Ii;if(Pe=0,Yi=Cn=null,Ii=0,oe&6)throw Error(A(331));var u=oe;if(oe|=4,Xp(o.current),Jp(o,o.current,r,n),oe=u,vo(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(oo,o)}catch{}return!0}finally{ne.p=l,B.T=i,rg(t,e)}}function Rf(t,e,n){e=mt(n,e),e=br(t.stateNode,e,2),t=Tn(t,e,2),t!==null&&(so(t,2),It(t))}function fe(t,e,n){if(t.tag===3)Rf(t,t,n);else for(;e!==null;){if(e.tag===3){Rf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sn===null||!Sn.has(i))){t=mt(n,t),n=Mp(2),i=Tn(e,n,2),i!==null&&(Np(n,i,e,t),so(i,2),It(i));break}}e=e.return}}function Ys(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Cv;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(n)||(tc=!0,l.add(n),t=Mv.bind(null,t,e,n),e.then(t,t))}function Mv(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,de===t&&(W&n)===n&&(Ce===4||Ce===3&&(W&62914560)===W&&300>bt()-ic?!(oe&2)&&Ji(t,0):nc|=n,Fi===W&&(Fi=0)),It(t)}function cg(t,e){e===0&&(e=oh()),t=nl(t,e),t!==null&&(so(t,e),It(t))}function Nv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cg(t,n)}function Rv(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(A(314))}i!==null&&i.delete(e),cg(t,n)}function bv(t,e){return Cu(t,e)}var Da=null,di=null,qr=!1,wa=!1,Js=!1,Fn=0;function It(t){t!==di&&t.next===null&&(di===null?Da=di=t:di=di.next=t),wa=!0,qr||(qr=!0,wv())}function vo(t,e){if(!Js&&wa){Js=!0;do for(var n=!1,i=Da;i!==null;){if(t!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var r=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-lt(42|t)+1)-1,o&=l&~(r&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,bf(i,o))}else o=W,o=Ka(i,i===de?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||ao(i,o)||(n=!0,bf(i,o));i=i.next}while(n);Js=!1}}function Dv(){fg()}function fg(){wa=qr=!1;var t=0;Fn!==0&&(Bv()&&(t=Fn),Fn=0);for(var e=bt(),n=null,i=Da;i!==null;){var l=i.next,o=dg(i,e);o===0?(i.next=null,n===null?Da=l:n.next=l,l===null&&(di=n)):(n=i,(t!==0||o&3)&&(wa=!0)),i=l}vo(t)}function dg(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,l=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var r=31-lt(o),u=1<<r,c=l[r];c===-1?(!(u&n)||u&i)&&(l[r]=n0(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}if(e=de,n=W,n=Ka(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(le===2||le===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&vs(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ao(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&vs(i),_u(n)){case 2:case 8:n=nh;break;case 32:n=da;break;case 268435456:n=ih;break;default:n=da}return i=mg.bind(null,t),n=Cu(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&vs(i),t.callbackPriority=2,t.callbackNode=null,2}function mg(t,e){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(rs()&&t.callbackNode!==n)return null;var i=W;return i=Ka(t,t===de?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(jp(t,i,e),dg(t,bt()),t.callbackNode!=null&&t.callbackNode===n?mg.bind(null,t):null)}function bf(t,e){if(rs())return null;jp(t,e,!0)}function wv(){zv(function(){oe&6?Cu(th,Dv):fg()})}function oc(){return Fn===0&&(Fn=lh()),Fn}function Df(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jo(""+t)}function wf(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function kv(t,e,n,i,l){if(e==="submit"&&n&&n.stateNode===l){var o=Df((l[Qe]||null).action),r=i.submitter;r&&(e=(e=r[Qe]||null)?Df(e.formAction):r.getAttribute("formAction"),e!==null&&(o=e,r=null));var u=new Qa("action","action",null,i,l);t.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Fn!==0){var c=r?wf(l,r):new FormData(l);Nr(n,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=r?wf(l,r):new FormData(l),Nr(n,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var Zs=0;Zs<pr.length;Zs++){var $s=pr[Zs],Uv=$s.toLowerCase(),Iv=$s[0].toUpperCase()+$s.slice(1);xt(Uv,"on"+Iv)}xt(Rh,"onAnimationEnd");xt(bh,"onAnimationIteration");xt(Dh,"onAnimationStart");xt("dblclick","onDoubleClick");xt("focusin","onFocus");xt("focusout","onBlur");xt(Q0,"onTransitionRun");xt(W0,"onTransitionStart");xt(j0,"onTransitionCancel");xt(wh,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function hg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var r=i.length-1;0<=r;r--){var u=i[r],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Ea(d)}l.currentTarget=null,o=c}else for(r=0;r<i.length;r++){if(u=i[r],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Ea(d)}l.currentTarget=null,o=c}}}}function $(t,e){var n=e[rr];n===void 0&&(n=e[rr]=new Set);var i=t+"__bubble";n.has(i)||(pg(e,t,2,!1),n.add(i))}function Xs(t,e,n){var i=0;e&&(i|=4),pg(n,t,i,e)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function ac(t){if(!t[Lo]){t[Lo]=!0,uh.forEach(function(n){n!=="selectionchange"&&(Lv.has(n)||Xs(n,!1,t),Xs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lo]||(e[Lo]=!0,Xs("selectionchange",!1,e))}}function pg(t,e,n,i){switch(Ng(e)){case 2:var l=rT;break;case 8:l=uT;break;default:l=cc}n=l.bind(null,e,n,t),l=void 0,!dr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Ks(t,e,n,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var u=i.stateNode.containerInfo;if(u===l)break;if(r===4)for(r=i.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;u!==null;){if(r=gi(u),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){i=o=r;continue e}u=u.parentNode}}i=i.return}yh(function(){var f=o,d=Mu(n),m=[];e:{var h=kh.get(t);if(h!==void 0){var g=Qa,C=t;switch(t){case"keypress":if($o(n)===0)break e;case"keydown":case"keyup":g=b0;break;case"focusin":C="focus",g=Ms;break;case"focusout":C="blur",g=Ms;break;case"beforeblur":case"afterblur":g=Ms;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=k0;break;case Rh:case bh:case Dh:g=S0;break;case wh:g=I0;break;case"scroll":case"scrollend":g=p0;break;case"wheel":g=V0;break;case"copy":case"cut":case"paste":g=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Bc;break;case"toggle":case"beforetoggle":g=q0}var x=(e&4)!==0,M=!x&&(t==="scroll"||t==="scrollend"),v=x?h!==null?h+"Capture":null:h;x=[];for(var y=f,T;y!==null;){var S=y;if(T=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||T===null||v===null||(S=Ol(y,v),S!=null&&x.push(Kl(y,S,T))),M)break;y=y.return}0<x.length&&(h=new g(h,C,null,n,d),m.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==fr&&(C=n.relatedTarget||n.fromElement)&&(gi(C)||C[el]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=f,C=C?gi(C):null,C!==null&&(M=lo(C),x=C.tag,C!==M||x!==5&&x!==27&&x!==6)&&(C=null)):(g=null,C=f),g!==C)){if(x=Pc,S="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=Bc,S="onPointerLeave",v="onPointerEnter",y="pointer"),M=g==null?h:xl(g),T=C==null?h:xl(C),h=new x(S,y+"leave",g,n,d),h.target=M,h.relatedTarget=T,S=null,gi(d)===f&&(x=new x(v,y+"enter",C,n,d),x.target=T,x.relatedTarget=M,S=x),M=S,g&&C)t:{for(x=g,v=C,y=0,T=x;T;T=oi(T))y++;for(T=0,S=v;S;S=oi(S))T++;for(;0<y-T;)x=oi(x),y--;for(;0<T-y;)v=oi(v),T--;for(;y--;){if(x===v||v!==null&&x===v.alternate)break t;x=oi(x),v=oi(v)}x=null}else x=null;g!==null&&kf(m,h,g,x,!1),C!==null&&M!==null&&kf(m,M,C,x,!0)}}e:{if(h=f?xl(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=Oc;else if(Hc(h))if(_h)_=$0;else{_=J0;var D=Y0}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Au(f.elementType)&&(_=Oc):_=Z0;if(_&&(_=_(t,f))){xh(m,_,n,d);break e}D&&D(t,h,f),t==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&cr(h,"number",h.value)}switch(D=f?xl(f):window,t){case"focusin":(Hc(D)||D.contentEditable==="true")&&(Ti=D,mr=f,bl=null);break;case"focusout":bl=mr=Ti=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,$c(m,n,d);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":$c(m,n,d)}var N;if(bu)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vi?Sh(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Th&&n.locale!=="ko"&&(vi||E!=="onCompositionStart"?E==="onCompositionEnd"&&vi&&(N=vh()):(hn=d,Nu="value"in hn?hn.value:hn.textContent,vi=!0)),D=ka(f,E),0<D.length&&(E=new qc(E,t,null,n,d),m.push({event:E,listeners:D}),N?E.data=N:(N=Ch(n),N!==null&&(E.data=N)))),(N=G0?z0(t,n):H0(t,n))&&(E=ka(f,"onBeforeInput"),0<E.length&&(D=new qc("onBeforeInput","beforeinput",null,n,d),m.push({event:D,listeners:E}),D.data=N)),kv(m,t,f,n,d)}hg(m,e)})}function Kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ka(t,e){for(var n=e+"Capture",i=[];t!==null;){var l=t,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=Ol(t,n),l!=null&&i.unshift(Kl(t,l,o)),l=Ol(t,e),l!=null&&i.push(Kl(t,l,o))),t.tag===3)return i;t=t.return}return[]}function oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kf(t,e,n,i,l){for(var o=e._reactName,r=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=Ol(n,o),f!=null&&r.unshift(Kl(n,f,c))):l||(f=Ol(n,o),f!=null&&r.push(Kl(n,f,c)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var Vv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function Uf(t){return(typeof t=="string"?t:""+t).replace(Vv,`
`).replace(Pv,"")}function gg(t,e){return e=Uf(e),Uf(t)===e}function us(){}function re(t,e,n,i,l,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Bi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Bi(t,""+i);break;case"className":Ro(t,"class",i);break;case"tabIndex":Ro(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ro(t,n,i);break;case"style":gh(t,i,o);break;case"data":if(e!=="object"){Ro(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Jo(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&re(t,e,"name",l.name,l,null),re(t,e,"formEncType",l.formEncType,l,null),re(t,e,"formMethod",l.formMethod,l,null),re(t,e,"formTarget",l.formTarget,l,null)):(re(t,e,"encType",l.encType,l,null),re(t,e,"method",l.method,l,null),re(t,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Jo(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=us);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Jo(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":$("beforetoggle",t),$("toggle",t),Yo(t,"popover",i);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Yo(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=m0.get(n)||n,Yo(t,n,i))}}function Br(t,e,n,i,l,o){switch(n){case"style":gh(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Bi(t,i):(typeof i=="number"||typeof i=="bigint")&&Bi(t,""+i);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"onClick":i!=null&&(t.onclick=us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ch.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),o=t[Qe]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,l);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Yo(t,n,i)}}}function qe(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",t),$("load",t);var i=!1,l=!1,o;for(o in n)if(n.hasOwnProperty(o)){var r=n[o];if(r!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:re(t,e,o,r,n,null)}}l&&re(t,e,"srcSet",n.srcSet,n,null),i&&re(t,e,"src",n.src,n,null);return;case"input":$("invalid",t);var u=o=r=l=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":l=d;break;case"type":r=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,e));break;default:re(t,e,i,d,n,null)}}mh(t,o,u,c,f,r,l,!1),ma(t);return;case"select":$("invalid",t),i=r=o=null;for(l in n)if(n.hasOwnProperty(l)&&(u=n[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":r=u;break;case"multiple":i=u;default:re(t,e,l,u,n,null)}e=o,n=r,t.multiple=!!i,e!=null?Ri(t,!!i,e,!1):n!=null&&Ri(t,!!i,n,!0);return;case"textarea":$("invalid",t),o=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(A(91));break;default:re(t,e,r,u,n,null)}ph(t,i,l,o),ma(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:re(t,e,c,i,n,null)}return;case"dialog":$("beforetoggle",t),$("toggle",t),$("cancel",t),$("close",t);break;case"iframe":case"object":$("load",t);break;case"video":case"audio":for(i=0;i<Xl.length;i++)$(Xl[i],t);break;case"image":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"embed":case"source":case"link":$("error",t),$("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:re(t,e,f,i,n,null)}return;default:if(Au(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Br(t,e,d,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&re(t,e,u,i,n,null))}function qv(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,r=null,u=null,c=null,f=null,d=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(g)||re(t,e,g,null,i,m)}}for(var h in i){var g=i[h];if(m=n[h],i.hasOwnProperty(h)&&(g!=null||m!=null))switch(h){case"type":o=g;break;case"name":l=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":r=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(A(137,e));break;default:g!==m&&re(t,e,h,g,i,m)}}ur(t,r,u,c,f,d,o,l);return;case"select":g=r=u=h=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(o)||re(t,e,o,null,i,c)}for(l in i)if(o=i[l],c=n[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":r=o;default:o!==c&&re(t,e,l,o,i,c)}e=u,n=r,i=g,h!=null?Ri(t,!!n,h,!1):!!i!=!!n&&(e!=null?Ri(t,!!n,e,!0):Ri(t,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(u in n)if(l=n[u],n.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:re(t,e,u,null,i,l)}for(r in i)if(l=i[r],o=n[r],i.hasOwnProperty(r)&&(l!=null||o!=null))switch(r){case"value":h=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:l!==o&&re(t,e,r,l,i,o)}hh(t,h,g);return;case"option":for(var C in n)if(h=n[C],n.hasOwnProperty(C)&&h!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:re(t,e,C,null,i,h)}for(c in i)if(h=i[c],g=n[c],i.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:re(t,e,c,h,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x)&&re(t,e,x,null,i,h);for(f in i)if(h=i[f],g=n[f],i.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,e));break;default:re(t,e,f,h,i,g)}return;default:if(Au(e)){for(var M in n)h=n[M],n.hasOwnProperty(M)&&h!==void 0&&!i.hasOwnProperty(M)&&Br(t,e,M,void 0,i,h);for(d in i)h=i[d],g=n[d],!i.hasOwnProperty(d)||h===g||h===void 0&&g===void 0||Br(t,e,d,h,i,g);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!i.hasOwnProperty(v)&&re(t,e,v,null,i,h);for(m in i)h=i[m],g=n[m],!i.hasOwnProperty(m)||h===g||h==null&&g==null||re(t,e,m,h,i,g)}var Gr=null,zr=null;function Ua(t){return t.nodeType===9?t:t.ownerDocument}function If(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Hr(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qs=null;function Bv(){var t=window.event;return t&&t.type==="popstate"?t===Qs?!1:(Qs=t,!0):(Qs=null,!1)}var vg=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(t){return Lf.resolve(null).then(t).catch(Hv)}:vg;function Hv(t){setTimeout(function(){throw t})}function wn(t){return t==="head"}function Vf(t,e){var n=e,i=0,l=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<i&&8>i){n=i;var r=t.ownerDocument;if(n&1&&Gl(r.documentElement),n&2&&Gl(r.body),n&4)for(n=r.head,Gl(n),r=n.firstChild;r;){var u=r.nextSibling,c=r.nodeName;r[ro]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=u}}if(l===0){t.removeChild(o),to(e);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);to(e)}function Or(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Or(n),Eu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Ov(t,e,n,i){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ro])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=Ct(t.nextSibling),t===null)break}return null}function Fv(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ct(t.nextSibling),t===null))return null;return t}function Fr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Yv(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Yr=null;function Pf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Tg(t,e,n){switch(e=Ua(n),t){case"html":if(t=e.documentElement,!t)throw Error(A(452));return t;case"head":if(t=e.head,!t)throw Error(A(453));return t;case"body":if(t=e.body,!t)throw Error(A(454));return t;default:throw Error(A(451))}}function Gl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Eu(t)}var yt=new Map,qf=new Set;function Ia(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qt=ne.d;ne.d={f:Jv,r:Zv,D:$v,C:Xv,L:Kv,m:Qv,X:jv,S:Wv,M:eT};function Jv(){var t=Qt.f(),e=as();return t||e}function Zv(t){var e=tl(t);e!==null&&e.tag===5&&e.type==="form"?dp(e):Qt.r(t)}var ll=typeof document>"u"?null:document;function Sg(t,e,n){var i=ll;if(i&&typeof e=="string"&&e){var l=dt(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),qf.has(l)||(qf.add(l),t={rel:t,crossOrigin:n,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),qe(e,"link",t),Ue(e),i.head.appendChild(e)))}}function $v(t){Qt.D(t),Sg("dns-prefetch",t,null)}function Xv(t,e){Qt.C(t,e),Sg("preconnect",t,e)}function Kv(t,e,n){Qt.L(t,e,n);var i=ll;if(i&&t&&e){var l='link[rel="preload"][as="'+dt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+dt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+dt(n.imageSizes)+'"]')):l+='[href="'+dt(t)+'"]';var o=l;switch(e){case"style":o=Zi(t);break;case"script":o=ol(t)}yt.has(o)||(t=he({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),yt.set(o,t),i.querySelector(l)!==null||e==="style"&&i.querySelector(To(o))||e==="script"&&i.querySelector(So(o))||(e=i.createElement("link"),qe(e,"link",t),Ue(e),i.head.appendChild(e)))}}function Qv(t,e){Qt.m(t,e);var n=ll;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+dt(i)+'"][href="'+dt(t)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ol(t)}if(!yt.has(o)&&(t=he({rel:"modulepreload",href:t},e),yt.set(o,t),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(So(o)))return}i=n.createElement("link"),qe(i,"link",t),Ue(i),n.head.appendChild(i)}}}function Wv(t,e,n){Qt.S(t,e,n);var i=ll;if(i&&t){var l=Ni(i).hoistableStyles,o=Zi(t);e=e||"default";var r=l.get(o);if(!r){var u={loading:0,preload:null};if(r=i.querySelector(To(o)))u.loading=5;else{t=he({rel:"stylesheet",href:t,"data-precedence":e},n),(n=yt.get(o))&&sc(t,n);var c=r=i.createElement("link");Ue(c),qe(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,ta(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:u},l.set(o,r)}}}function jv(t,e){Qt.X(t,e);var n=ll;if(n&&t){var i=Ni(n).hoistableScripts,l=ol(t),o=i.get(l);o||(o=n.querySelector(So(l)),o||(t=he({src:t,async:!0},e),(e=yt.get(l))&&rc(t,e),o=n.createElement("script"),Ue(o),qe(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function eT(t,e){Qt.M(t,e);var n=ll;if(n&&t){var i=Ni(n).hoistableScripts,l=ol(t),o=i.get(l);o||(o=n.querySelector(So(l)),o||(t=he({src:t,async:!0,type:"module"},e),(e=yt.get(l))&&rc(t,e),o=n.createElement("script"),Ue(o),qe(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Bf(t,e,n,i){var l=(l=yn.current)?Ia(l):null;if(!l)throw Error(A(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Zi(n.href),n=Ni(l).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Zi(n.href);var o=Ni(l).hoistableStyles,r=o.get(t);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,r),(o=l.querySelector(To(t)))&&!o._p&&(r.instance=o,r.state.loading=5),yt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yt.set(t,n),o||tT(l,t,n,r.state))),e&&i===null)throw Error(A(528,""));return r}if(e&&i!==null)throw Error(A(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ol(n),n=Ni(l).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,t))}}function Zi(t){return'href="'+dt(t)+'"'}function To(t){return'link[rel="stylesheet"]['+t+"]"}function Cg(t){return he({},t,{"data-precedence":t.precedence,precedence:null})}function tT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),qe(e,"link",n),Ue(e),t.head.appendChild(e))}function ol(t){return'[src="'+dt(t)+'"]'}function So(t){return"script[async]"+t}function Gf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+dt(n.href)+'"]');if(i)return e.instance=i,Ue(i),i;var l=he({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ue(i),qe(i,"style",l),ta(i,n.precedence,t),e.instance=i;case"stylesheet":l=Zi(n.href);var o=t.querySelector(To(l));if(o)return e.state.loading|=4,e.instance=o,Ue(o),o;i=Cg(n),(l=yt.get(l))&&sc(i,l),o=(t.ownerDocument||t).createElement("link"),Ue(o);var r=o;return r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),qe(o,"link",i),e.state.loading|=4,ta(o,n.precedence,t),e.instance=o;case"script":return o=ol(n.src),(l=t.querySelector(So(o)))?(e.instance=l,Ue(l),l):(i=n,(l=yt.get(o))&&(i=he({},n),rc(i,l)),t=t.ownerDocument||t,l=t.createElement("script"),Ue(l),qe(l,"link",i),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(A(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ta(i,n.precedence,t));return e.instance}function ta(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,r=0;r<i.length;r++){var u=i[r];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function sc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function rc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var na=null;function zf(t,e,n){if(na===null){var i=new Map,l=na=new Map;l.set(n,i)}else l=na,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var o=n[l];if(!(o[ro]||o[Be]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var r=o.getAttribute(e)||"";r=t+r;var u=i.get(r);u?u.push(o):i.set(r,[o])}}return i}function Hf(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function nT(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function xg(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ql=null;function iT(){}function lT(t,e,n){if(Ql===null)throw Error(A(475));var i=Ql;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=Zi(n.href),o=t.querySelector(To(l));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=La.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,Ue(o);return}o=t.ownerDocument||t,n=Cg(n),(l=yt.get(l))&&sc(n,l),o=o.createElement("link"),Ue(o);var r=o;r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),qe(o,"link",n),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=La.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function oT(){if(Ql===null)throw Error(A(475));var t=Ql;return t.stylesheets&&t.count===0&&Jr(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Jr(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function La(){if(this.count--,this.count===0){if(this.stylesheets)Jr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Va=null;function Jr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Va=new Map,e.forEach(aT,t),Va=null,La.call(t))}function aT(t,e){if(!(e.state.loading&4)){var n=Va.get(t);if(n)var i=n.get(null);else{n=new Map,Va.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var r=l[o];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}l=e.instance,r=l.getAttribute("data-precedence"),o=n.get(r)||i,o===i&&n.set(null,l),n.set(r,l),this.count++,i=La.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var Wl={$$typeof:Bt,Provider:null,Consumer:null,_currentValue:qn,_currentValue2:qn,_threadCount:0};function sT(t,e,n,i,l,o,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function _g(t,e,n,i,l,o,r,u,c,f,d,m){return t=new sT(t,e,n,r,u,c,f,m),e=1,o===!0&&(e|=24),o=nt(3,null,null,e),t.current=o,o.stateNode=t,e=Vu(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},qu(o),t}function Eg(t){return t?(t=xi,t):xi}function Ag(t,e,n,i,l,o){l=Eg(l),i.context===null?i.context=l:i.pendingContext=l,i=vn(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Tn(t,i,e),n!==null&&(at(n,t,e),kl(n,t,e))}function Of(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uc(t,e){Of(t,e),(t=t.alternate)&&Of(t,e)}function Mg(t){if(t.tag===13){var e=nl(t,67108864);e!==null&&at(e,t,67108864),uc(t,67108864)}}var Pa=!0;function rT(t,e,n,i){var l=B.T;B.T=null;var o=ne.p;try{ne.p=2,cc(t,e,n,i)}finally{ne.p=o,B.T=l}}function uT(t,e,n,i){var l=B.T;B.T=null;var o=ne.p;try{ne.p=8,cc(t,e,n,i)}finally{ne.p=o,B.T=l}}function cc(t,e,n,i){if(Pa){var l=Zr(i);if(l===null)Ks(t,e,i,qa,n),Ff(t,i);else if(fT(l,t,e,n,i))i.stopPropagation();else if(Ff(t,i),e&4&&-1<cT.indexOf(t)){for(;l!==null;){var o=tl(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var r=In(o.pendingLanes);if(r!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var c=1<<31-lt(r);u.entanglements[1]|=c,r&=~c}It(o),!(oe&6)&&(Ra=bt()+500,vo(0))}}break;case 13:u=nl(o,2),u!==null&&at(u,o,2),as(),uc(o,2)}if(o=Zr(i),o===null&&Ks(t,e,i,qa,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else Ks(t,e,i,null,n)}}function Zr(t){return t=Mu(t),fc(t)}var qa=null;function fc(t){if(qa=null,t=gi(t),t!==null){var e=lo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Qm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return qa=t,null}function Ng(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xy()){case th:return 2;case nh:return 8;case da:case Ky:return 32;case ih:return 268435456;default:return 32}default:return 32}}var $r=!1,xn=null,_n=null,En=null,jl=new Map,eo=new Map,dn=[],cT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ff(t,e){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(e.pointerId)}}function vl(t,e,n,i,l,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=tl(e),e!==null&&Mg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function fT(t,e,n,i,l){switch(e){case"focusin":return xn=vl(xn,t,e,n,i,l),!0;case"dragenter":return _n=vl(_n,t,e,n,i,l),!0;case"mouseover":return En=vl(En,t,e,n,i,l),!0;case"pointerover":var o=l.pointerId;return jl.set(o,vl(jl.get(o)||null,t,e,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,eo.set(o,vl(eo.get(o)||null,t,e,n,i,l)),!0}return!1}function Rg(t){var e=gi(t.target);if(e!==null){var n=lo(e);if(n!==null){if(e=n.tag,e===13){if(e=Qm(n),e!==null){t.blockedOn=e,l0(t.priority,function(){if(n.tag===13){var i=ot();i=xu(i);var l=nl(n,i);l!==null&&at(l,n,i),uc(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ia(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zr(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);fr=i,n.target.dispatchEvent(i),fr=null}else return e=tl(n),e!==null&&Mg(e),t.blockedOn=n,!1;e.shift()}return!0}function Yf(t,e,n){ia(t)&&n.delete(e)}function dT(){$r=!1,xn!==null&&ia(xn)&&(xn=null),_n!==null&&ia(_n)&&(_n=null),En!==null&&ia(En)&&(En=null),jl.forEach(Yf),eo.forEach(Yf)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,$r||($r=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,dT)))}var Po=null;function Jf(t){Po!==t&&(Po=t,De.unstable_scheduleCallback(De.unstable_NormalPriority,function(){Po===t&&(Po=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],l=t[e+2];if(typeof i!="function"){if(fc(i||n)===null)continue;break}var o=tl(n);o!==null&&(t.splice(e,3),e-=3,Nr(o,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function to(t){function e(c){return Vo(c,t)}xn!==null&&Vo(xn,t),_n!==null&&Vo(_n,t),En!==null&&Vo(En,t),jl.forEach(e),eo.forEach(e);for(var n=0;n<dn.length;n++){var i=dn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)Rg(n),n.blockedOn===null&&dn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],o=n[i+1],r=l[Qe]||null;if(typeof o=="function")r||Jf(n);else if(r){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,r=o[Qe]||null)u=r.formAction;else if(fc(l)!==null)continue}else u=r.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),Jf(n)}}}function dc(t){this._internalRoot=t}cs.prototype.render=dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));var n=e.current,i=ot();Ag(n,i,t,e,null,null)};cs.prototype.unmount=dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ag(t.current,2,null,t,null,null),as(),e[el]=null}};function cs(t){this._internalRoot=t}cs.prototype.unstable_scheduleHydration=function(t){if(t){var e=rh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dn.length&&e!==0&&e<dn[n].priority;n++);dn.splice(n,0,t),n===0&&Rg(t)}};var Zf=Xm.version;if(Zf!=="19.1.0")throw Error(A(527,Zf,"19.1.0"));ne.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Hy(e),t=t!==null?Wm(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{oo=qo.inject(mT),it=qo}catch{}}$a.createRoot=function(t,e){if(!Km(t))throw Error(A(299));var n=!1,i="",l=_p,o=Ep,r=Ap,u=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=_g(t,1,!1,null,null,n,i,l,o,r,u,null),t[el]=e.current,ac(t),new dc(e)};$a.hydrateRoot=function(t,e,n){if(!Km(t))throw Error(A(299));var i=!1,l="",o=_p,r=Ep,u=Ap,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=_g(t,1,!0,e,n??null,i,l,o,r,u,c,f),e.context=Eg(null),n=e.current,i=ot(),i=xu(i),l=vn(i),l.callback=null,Tn(n,l,i),n=i,e.current.lanes=n,so(e,n),It(e),t[el]=e.current,ac(t),new cs(e)};$a.version="19.1.0";function bg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bg)}catch(t){console.error(t)}}bg(),Om.exports=$a;var hT=Om.exports;const Dg=Um(hT),mc=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.25 12h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1.5a.75.75 0 0 1 .75.75V3a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM12 21a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0v-.75a.75.75 0 0 1 .75-.75ZM4.06 4.06a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0Zm14.82 14.82a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0ZM1.5 12a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5H2.25A.75.75 0 0 1 1.5 12Zm21 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM4.06 19.94a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Zm14.82-14.82a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Z"})]}),pT=({activePage:t,setActivePage:e})=>{const n="bg-sky-100 dark:bg-sky-500/20 text-sky-600 dark:text-sky-300 shadow-inner",i="text-slate-500 hover:bg-slate-200/60 dark:text-slate-400 dark:hover:bg-white/10";return p.jsxs("header",{className:"text-center my-8 w-full max-w-5xl",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[p.jsx(mc,{className:"h-10 w-10 text-sky-500 dark:text-sky-400"}),p.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-700 via-slate-800 to-black dark:from-slate-200 dark:via-slate-300 dark:to-slate-400",children:"Sales Call Analyzer (TH)"})]}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"วิเคราะห์การสนทนาการขายและดูประวัติลูกค้าในที่เดียว"}),p.jsx("nav",{className:"mt-8 border-b border-slate-300/80 dark:border-white/10 flex justify-center",children:p.jsxs("div",{className:"flex bg-slate-200/50 dark:bg-black/20 p-1 rounded-xl gap-2",children:[p.jsx("button",{onClick:()=>e("analyzer"),className:`px-5 py-2 font-semibold text-sm rounded-lg transition-all duration-200 ${t==="analyzer"?n:i}`,"aria-current":t==="analyzer",children:"AI Analyzer"}),p.jsx("button",{onClick:()=>e("history"),className:`px-5 py-2 font-semibold text-sm rounded-lg transition-all duration-200 ${t==="history"?n:i}`,"aria-current":t==="history",children:"Sales History"})]})})]})};var Ke=(t=>(t.TEXT="text",t.AUDIO="audio",t))(Ke||{});const $f=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),wg=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),gT=({onAnalyze:t,isLoading:e,currentInputMode:n,setCurrentInputMode:i,transcriptText:l,setTranscriptText:o,audioFile:r,setAudioFile:u,isDataConnected:c})=>{const f=g=>{g.target.files&&g.target.files[0]?u(g.target.files[0]):u(null)},d="bg-white/80 dark:bg-sky-500/10 backdrop-blur-sm text-sky-600 dark:text-sky-300 border-b-2 border-sky-500",m="border-b-2 border-transparent text-slate-500 hover:bg-slate-200/60 hover:border-slate-300 dark:text-slate-400 dark:hover:bg-white/10 dark:hover:border-transparent",h=e||!c||n===Ke.TEXT&&!l.trim()||n===Ke.AUDIO&&!r;return p.jsxs("div",{className:"p-6 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200 dark:border-white/10",children:[p.jsxs("div",{className:"mb-4 flex border-b border-slate-200 dark:border-white/10",children:[p.jsxs("button",{onClick:()=>i(Ke.TEXT),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===Ke.TEXT?d:m} disabled:opacity-50`,children:[p.jsx(wg,{className:"inline-block h-5 w-5 mr-2"}),"วางข้อความถอดเสียง"]}),p.jsxs("button",{onClick:()=>i(Ke.AUDIO),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===Ke.AUDIO?d:m} disabled:opacity-50`,children:[p.jsx($f,{className:"inline-block h-5 w-5 mr-2"}),"อัปโหลดไฟล์เสียง"]})]}),n===Ke.TEXT&&p.jsx("textarea",{value:l,onChange:g=>o(g.target.value),placeholder:"วางข้อความที่ถอดเสียงจากการขายที่นี่ (ภาษาไทย)...",rows:10,className:"w-full p-3 bg-white/50 dark:bg-black/20 border border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-50 backdrop-blur-sm",disabled:e}),n===Ke.AUDIO&&p.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-slate-400/60 dark:border-white/20 rounded-lg bg-white/20 dark:bg-black/20 backdrop-blur-sm",children:[p.jsx("input",{type:"file",accept:"audio/*",onChange:f,id:"audioUpload",className:"hidden",disabled:e}),p.jsxs("label",{htmlFor:"audioUpload",className:`cursor-pointer px-6 py-3 rounded-lg text-sm font-medium transition-colors duration-150 border
            ${e?"bg-slate-200 text-slate-500 border-slate-300":"bg-slate-50 hover:bg-slate-200/80 text-slate-700 border-slate-300 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 dark:border-white/20"}`,children:[p.jsx($f,{className:"inline-block h-5 w-5 mr-2"}),r?r.name:"เลือกไฟล์เสียง"]}),r&&p.jsxs("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-400",children:[r.name," (",(r.size/1024/1024).toFixed(2)," MB)"]}),p.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-500",children:"รองรับไฟล์ MP3, WAV, M4A, ฯลฯ"})]}),p.jsxs("button",{onClick:t,disabled:h,className:"mt-6 w-full flex items-center justify-center bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 disabled:transform-none",children:[p.jsx(mc,{className:"h-5 w-5 mr-2"}),e?"กำลังวิเคราะห์...":"เริ่มวิเคราะห์"]})]})},yT="ข้อมูลสินค้า",vT="ข้อมูลลูกค้า",TT="AnalysisLog",Xf=(t,e)=>{if(!t||t.length<1)return{data:[],colMap:{}};const n=(t[0]||[]).map(l=>String(l||"").trim());if(e.some(l=>!n.includes(l)))throw new Error(`Missing required headers. Required: ${e.join(", ")}. Found: ${n.join(", ")}`);const i={};return n.forEach((l,o)=>{i[l]=o}),{data:t.slice(1),colMap:i}},Kf=t=>{if(!t)return;if(t instanceof Date&&!isNaN(t.getTime())){const n=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return`${n}/${i}/${l}`}return String(t).trim()||void 0},ST=async(t,e)=>{var d;const n=[`'${yT}'!A:D`,`'${vT}'`],i=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${t}/values:batchGet?ranges=${n.join("&ranges=")}&key=${e}`);if(!i.ok){const m=await i.json();throw new Error(((d=m.error)==null?void 0:d.message)||`Failed to fetch from sheet, status: ${i.status}`)}const l=await i.json(),[o,r]=l.valueRanges,u=[],c=[];if(o.values){const{data:m}=Xf(o.values,["ชื่อสินค้า","หมวดหมู่"]);m.forEach(h=>{const g=String(h[0]||"").trim(),C=String(h[1]||"").trim(),x=String(h[2]||"").trim(),M=String(h[3]||"").trim();g&&C&&u.push(`- ${g}: ${C}${M?` (พนักงาน: ${M})`:""}`),M&&x&&c.push({name:M,phone:x.replace(/\D/g,"")})})}const f=[];if(r.values){const{data:m,colMap:h}=Xf(r.values,["เบอร์โทรศัพท์"]);m.forEach(g=>{g[h.เบอร์โทรศัพท์]&&f.push({phone:String(g[h.เบอร์โทรศัพท์]).trim().replace(/\D/g,""),date:Kf(g[h.วันที่]),customerName:String(g[h.ชื่อลูกค้า]||"").trim()||void 0,salesperson:String(g[h.ผู้ขาย]||"").trim()||void 0,price:parseFloat(String(g[h.ราคา]||"0")),recipientName:String(g[h.ชื่อผู้รับ]||"").trim()||void 0,secondaryPhone:String(g[h.เบอร์สำรอง]||"").trim()||void 0,address:String(g[h.ที่อยู่]||"").trim()||void 0,province:String(g[h.จังหวัด]||"").trim()||void 0,postalCode:String(g[h.รหัสไปรษณีย์]||"").trim()||void 0,deliveryDate:Kf(g[h.วันที่นัดส่ง]),deliveryRound:String(g[h.รอบ]||"").trim()||void 0,customerType:String(g[h.ประเภทลูกค้า]||"").trim()||void 0,product:String(g[h.สินค้า]||"").trim()||void 0,quantity:parseInt(String(g[h.จำนวน]||"0"),10)||void 0,customerId:String(g[h.ID_CUSTUMER]||"").trim()||void 0})})}return{productContext:u.join(`
`),salespersons:c,customerHistory:f}},CT=async(t,e,n,i)=>{var o,r;if(!Pn.auth2.getAuthInstance().isSignedIn.get())throw new Error("User is not signed in.");const l=[new Date().toISOString(),n??"N/A",e.situationalEvaluation.closingProbability,e.salespersonEvaluation.overallPerformanceScore,i??"N/A",e.strategicRecommendations.nextBestAction,e.situationalEvaluation.callOutcomeSummary,"https://ponuom.github.io/search/"];try{await Pn.client.sheets.spreadsheets.values.append({spreadsheetId:t,range:`'${TT}'!A1`,valueInputOption:"USER_ENTERED",insertDataOption:"INSERT_ROWS",resource:{values:[l]}})}catch(u){throw console.error("Error writing to Google Sheet:",u),new Error(((r=(o=u.result)==null?void 0:o.error)==null?void 0:r.message)||"Failed to write to Google Sheet.")}},kg=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125V6.375m1.125 13.125A1.125 1.125 0 0 0 4.5 18.375h15A1.125 1.125 0 0 0 20.625 19.5m0 0A1.125 1.125 0 0 1 19.5 20.625h-15A1.125 1.125 0 0 1 3.375 19.5m0 0V6.375m0 0A1.125 1.125 0 0 1 4.5 5.25h15A1.125 1.125 0 0 1 20.625 6.375m0 0V19.5m0-13.125A1.125 1.125 0 0 0 19.5 5.25h-15A1.125 1.125 0 0 0 3.375 6.375m17.25 0H3.375"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 12.75h17.25"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5.25v15.375"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5.25v15.375"})]}),Xr=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),xT=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.311a6.01 6.01 0 0 1-1.5.189m1.5-.189a6.01 6.01 0 0 0 1.5.189m-1.5-3.75a6.01 6.01 0 0 1-1.5-.189m1.5.189a6.01 6.01 0 0 0 1.5-.189m-3.75-2.311a12.06 12.06 0 0 0 4.5 0m-4.5 0a12.06 12.06 0 0 1-4.5 0m0 0a12.06 12.06 0 0 0-4.5 0m4.5 0a12.06 12.06 0 0 1 4.5 0"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 0 1 6 0v2.25H9v-2.25Z"})]}),Qf=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),la=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),oa=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Wf=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.82m5.84-2.56a12.025 12.025 0 0 1-4.25 6.01M15.34 9.59a6 6 0 0 1-2.12 7.38m3.06-5.26a12.025 12.025 0 0 1-4.25 6.01M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18Zm0 0a8.949 8.949 0 0 0 5.46-2.09M12 3a8.949 8.949 0 0 1 5.46 2.09m-5.46 16v-4.82"})}),_T=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3v11.25"})}),ai=({title:t,className:e=""})=>p.jsx("h2",{className:`text-sm font-bold text-slate-800 tracking-wider uppercase border-b-2 border-teal-500 pb-1 mb-3 ${e}`,children:t}),Bo=({label:t,value:e})=>p.jsxs("div",{className:"text-xs mb-1",children:[p.jsxs("span",{className:"font-semibold text-slate-600",children:[t,":"]}),p.jsx("span",{className:"text-slate-800 ml-1",children:e??"N/A"})]}),Go=({label:t,value:e})=>p.jsxs("div",{className:"bg-slate-200/80 rounded-md px-2 py-1 flex justify-between items-center",children:[p.jsx("span",{className:"text-xs font-medium text-slate-700",children:t}),p.jsx("span",{className:"text-xs font-bold text-teal-700",children:e})]}),jf=({items:t,type:e})=>{const n=e==="strength",i=n?"text-teal-600":"text-rose-600",l=n?p.jsx(la,{className:`w-3.5 h-3.5 ${i}`}):p.jsx(oa,{className:`w-3.5 h-3.5 ${i}`});return p.jsx("ul",{className:"space-y-1.5",children:t&&t.length>0?t.map((o,r)=>p.jsxs("li",{className:"flex items-start text-xs",children:[p.jsx("span",{className:"mt-0.5 mr-1.5 shrink-0",children:l}),p.jsx("span",{className:"text-slate-700",children:o})]},r)):p.jsx("li",{className:"text-xs text-slate-500 italic ml-5",children:"ไม่มีข้อมูล"})})},ET=({result:t,callMetadata:e,salespersonName:n,onRendered:i})=>{const{salespersonEvaluation:l,customerEvaluation:o,situationalEvaluation:r,strategicRecommendations:u}=t;G.useEffect(()=>{const f=setTimeout(()=>{i()},500);return()=>clearTimeout(f)},[i]);const c=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e.sourcePhone;return p.jsx("div",{style:{fontFamily:"'Noto Sans Thai', sans-serif"},className:"w-[794px] bg-white text-black font-sans box-border text-slate-800 p-8",children:p.jsxs("div",{className:"flex gap-x-8",children:[p.jsxs("div",{className:"w-[65%]",children:[p.jsxs("header",{className:"mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:n??"Sales Analysis"}),p.jsx("p",{className:"text-md text-teal-600 font-medium",children:"รายงานสรุปผลการวิเคราะห์การขาย"})]}),p.jsxs("section",{className:"mb-6",children:[p.jsx(ai,{title:"Executive Summary"}),p.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:r.callOutcomeSummary})]}),p.jsxs("section",{children:[p.jsx(ai,{title:"Strategic Recommendations"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Next Best Action"}),p.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:u.nextBestAction})]}),u.detailedStrategy.map((f,d)=>p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-bold text-slate-700",children:f.recommendation}),p.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Success Probability: ",f.successProbability,"%"]}),p.jsx("p",{className:"text-xs text-slate-600",children:f.reasoning})]},d))]})]})]}),p.jsxs("div",{className:"w-[35%]",children:[p.jsxs("section",{className:"mb-5",children:[p.jsx(ai,{title:"Call Details"}),p.jsx(Bo,{label:"Date",value:e==null?void 0:e.date}),p.jsx(Bo,{label:"Time",value:e==null?void 0:e.time}),p.jsx(Bo,{label:"Salesperson",value:n}),p.jsx(Bo,{label:"Customer Phone",value:c})]}),p.jsxs("section",{className:"mb-5",children:[p.jsx(ai,{title:"Key Metrics"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Go,{label:"Closing Probability",value:`${r.closingProbability}%`}),p.jsx(Go,{label:"SP Performance",value:`${l.overallPerformanceScore}%`}),p.jsx(Go,{label:"Customer Interest",value:`${o.interestLevel}/10`}),p.jsx(Go,{label:"Closing Skill",value:`${l.closingSkillScore}/10`})]})]}),p.jsxs("section",{className:"mb-5",children:[p.jsx(ai,{title:"Salesperson Evaluation"}),p.jsx("h3",{className:"text-xs font-semibold text-slate-600 mb-1.5",children:"จุดแข็ง"}),p.jsx(jf,{items:l.strengths,type:"strength"}),p.jsx("h3",{className:"text-xs font-semibold text-slate-600 mt-3 mb-1.5",children:"จุดที่ควรปรับปรุง"}),p.jsx(jf,{items:l.areasForImprovement,type:"improvement"})]}),p.jsxs("section",{children:[p.jsx(ai,{title:"Customer Insights"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-xs text-slate-600",children:[p.jsx("strong",{className:"font-semibold",children:"Profile:"})," ",o.customerProfile]}),p.jsxs("p",{className:"text-xs text-slate-600",children:[p.jsx("strong",{className:"font-semibold",children:"Decision Factors:"})," ",o.decisionMakingFactors.join(", ")||"N/A"]})]})]})]})]})})},AT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),si=({title:t,icon:e,children:n})=>p.jsxs("div",{className:"bg-white/50 dark:bg-black/20 backdrop-blur-xl p-4 sm:p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:[p.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center text-sky-600 dark:text-sky-400",children:[e&&p.jsx("span",{className:"mr-3 h-6 w-6",children:e}),t]}),p.jsx("div",{className:"space-y-4",children:n})]}),zo=({value:t,max:e=10,label:n})=>{const i=t/e*100,l=i>70?"bg-green-500":i>40?"bg-yellow-500":"bg-red-500";return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between mb-1",children:[p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),p.jsxs("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:[t," / ",e]})]}),p.jsx("div",{className:"w-full bg-slate-200/70 dark:bg-slate-700/50 rounded-full h-2.5",children:p.jsx("div",{className:`${l} h-2.5 rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},we=({label:t,value:e,className:n})=>p.jsxs("div",{className:`text-sm text-slate-600 dark:text-slate-400 ${n}`,children:[p.jsxs("strong",{className:"text-slate-800 dark:text-slate-200 font-medium",children:[t,":"]})," ",e??"N/A"]}),Ho=({items:t,icon:e,className:n="text-green-500 dark:text-green-400",title:i})=>p.jsxs("div",{children:[i&&p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:i}),p.jsx("ul",{className:"list-none p-0 space-y-2",children:t&&t.length>0?t.map((l,o)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:`h-5 w-5 mr-2 mt-0.5 shrink-0 ${n}`,children:e}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:l})]},o)):p.jsx("li",{className:"text-slate-500 dark:text-slate-500 italic ml-7",children:"ไม่มีข้อมูล"})})]}),MT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:p.jsx("path",{fillRule:"evenodd",d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h1.148a1.5 1.5 0 0 1 1.465 1.175l.716 3.003a1.5 1.5 0 0 1-2.45 1.772l-.336-.297a11.026 11.026 0 0 0-3.21.323 1.5 1.5 0 0 1-.62.296l-1.12.503A1.5 1.5 0 0 1 2 9.172V5.513a1.5 1.5 0 0 1 0-1.002V3.5zm16.5-2.032a1.5 1.5 0 0 0-1.5 1.5v1.011c0 .338.036.67.106.99l-1.12.503a1.5 1.5 0 0 0-.62.296c-1.102-.19-2.18-.313-3.21-.323l-.336-.297a1.5 1.5 0 0 0-2.45 1.772l.716 3.003A1.5 1.5 0 0 0 8.852 18h2.296a1.5 1.5 0 0 0 1.465-1.175l.716-3.003a1.5 1.5 0 0 0-2.45-1.772l-.336.297c1.102.19 2.18.313 3.21.323l.336.297a1.5 1.5 0 0 0 2.45-1.772l-.716-3.003a1.5 1.5 0 0 0-1.447-1.296z",clipRule:"evenodd"})}),NT=({result:t,callMetadata:e,salespersonName:n,relevantHistory:i,isLoggedIn:l,googleSheetId:o})=>{const[r,u]=G.useState("คัดลอก CSV"),[c,f]=G.useState(!1),[d,m]=G.useState("idle"),{salespersonEvaluation:h,customerEvaluation:g,situationalEvaluation:C,strategicRecommendations:x,transcribedText:M}=t,v=n??(e?"ไม่พบชื่อ":null),y=E=>E==null?"":`"${String(E).replace(/"/g,'""')}"`,T=async()=>{const E=["วันที่โทร","เวลาโทร","ประเภทสาย","เบอร์ต้นทาง","เบอร์ปลายทาง","พนักงานขาย","SP Perf Score (%)","SP Strengths","SP Areas for Improvement","Cust Interest (1-10)","Cust Profile","Cust Pain Points","Cust Sentiment","Purchasing Behavior","Closing Probability (%)","Call Sentiment","Sales Stage","Call Outcome","Positive Signals","Negative Signals","Next Best Action","Suggested Offer","Detailed Strategy","Transcribed Text"],R=ce=>ce.map(ie=>`${ie.recommendation} (Success: ${ie.successProbability}%)`).join("; "),w=ce=>(ce==null?void 0:ce.map(ie=>`[${ie.timestamp||"N/A"}] ${ie.speaker}: ${ie.utterance}`).join("; "))||"",q=ce=>ce?`Summary: ${ce.summary}; Freq: ${ce.buyingFrequency}; Volume: ${ce.typicalPurchaseVolume}; Price Sensitivity: ${ce.priceSensitivity}`:"",I=[e==null?void 0:e.date,e==null?void 0:e.time,e==null?void 0:e.callType,e==null?void 0:e.sourcePhone,e==null?void 0:e.destinationPhone,v,h.overallPerformanceScore,h.strengths.join("; "),h.areasForImprovement.join("; "),g.interestLevel,g.customerProfile,g.painPointsIdentified.join("; "),g.customerSentiment,q(g.purchasingBehavior),C.closingProbability,C.callSentiment,C.currentSalesStage,C.callOutcomeSummary,C.positiveSignals.join("; "),C.negativeSignals.join("; "),x.nextBestAction,x.suggestedOffer,R(x.detailedStrategy),w(M)],Ee=[E.join(","),I.map(y).join(",")].join(`
`);try{await navigator.clipboard.writeText(Ee),u("คัดลอกแล้ว!"),setTimeout(()=>u("คัดลอก CSV"),2e3)}catch{u("คัดลอกไม่สำเร็จ"),setTimeout(()=>u("คัดลอก CSV"),3e3)}},S=async()=>{if(!o){alert("กรุณาใส่ Google Sheet ID ก่อน");return}m("saving");try{const E=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e==null?void 0:e.sourcePhone;await CT(o,t,v,E),m("saved")}catch(E){console.error("Failed to save to sheet:",E),m("error")}},_=async()=>{f(!0);const E=document.createElement("div");E.style.position="fixed",E.style.left="0",E.style.top="0",E.style.zIndex="-1",E.style.opacity="0";const R=document.createElement("div");E.appendChild(R),document.body.appendChild(E);const w=Dg.createRoot(R);try{await new Promise(Q=>{w.render(p.jsx(ET,{result:t,callMetadata:e,salespersonName:v,onRendered:Q}))});const I=(await yy(R,{scale:2.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),Ee=new gy("p","mm","a4"),ce=Ee.internal.pageSize.getWidth(),ie=Ee.internal.pageSize.getHeight(),k=Ee.getImageProperties(I),F=k.width/k.height;let O=ce,se=ce/F;se>ie&&(se=ie,O=ie*F);const Te=(ce-O)/2,en=(ie-se)/2;Ee.addImage(I,"PNG",Te,en,O,se);const tn=e!=null&&e.originalFilename?`Analysis_Report_${e.originalFilename.split(".")[0]}.pdf`:"Analysis_Report.pdf";Ee.save(tn)}catch(q){console.error("Failed to generate PDF",q)}finally{w.unmount(),document.body.removeChild(E),f(!1)}},D=()=>{switch(d){case"saving":return"กำลังบันทึก...";case"saved":return"บันทึกแล้ว!";case"error":return"บันทึกไม่สำเร็จ";default:return"บันทึกลง Sheet"}},N=E=>p.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap space-y-2 max-h-72 overflow-y-auto bg-black/5 dark:bg-black/20 p-3 rounded-lg border border-slate-200 dark:border-white/10 pr-2",children:E&&E.length>0?E.map((R,w)=>p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[R.timestamp&&p.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500 w-full sm:w-24 shrink-0 mb-0.5 sm:mb-0 sm:mr-2 text-left sm:text-right",children:["[",R.timestamp,"]"]}),p.jsxs("p",{className:`flex-grow ${R.timestamp?"":"sm:pl-0"}`,children:[p.jsxs("strong",{className:"text-sky-600 dark:text-sky-400",children:[R.speaker||"ไม่ระบุ",":"]})," ",R.utterance]})]},w)):p.jsx("p",{className:"text-slate-500 dark:text-slate-400 italic",children:"ไม่มีข้อมูลการถอดเสียง"})});return p.jsxs("div",{className:"mt-8 space-y-6 animate-fadeIn",children:[p.jsxs("div",{className:"flex justify-end gap-2 sm:gap-4 flex-wrap",children:[p.jsxs("button",{onClick:S,disabled:!l||d==="saving"||d==="saved",title:l?"บันทึกผลการวิเคราะห์ลง Google Sheet":"กรุณาลงชื่อเข้าใช้ด้วย Google เพื่อบันทึก",className:`font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border
            ${d==="saved"?"bg-green-500/20 text-green-700 dark:text-green-200 border-green-500/30":""}
            ${d==="error"?"bg-red-500/20 text-red-700 dark:text-red-200 border-red-500/30":""}
            ${d==="idle"||d==="saving"?"bg-green-500/20 hover:bg-green-500/30 text-green-700 dark:bg-green-600/20 dark:hover:bg-green-600/30 dark:text-green-200 border-green-500/30 hover:border-green-500/40":""}
            disabled:opacity-50 disabled:cursor-not-allowed`,children:[p.jsx(AT,{className:"h-5 w-5 mr-2"}),D()]}),p.jsxs("button",{onClick:T,className:"bg-slate-200/60 hover:bg-slate-300/60 text-slate-700 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-slate-300/80 dark:border-white/20 hover:border-slate-400/80 dark:hover:border-white/30",children:[p.jsx(kg,{className:"h-5 w-5 mr-2"}),r]}),p.jsxs("button",{onClick:_,disabled:c,className:"bg-sky-500/20 hover:bg-sky-500/30 text-sky-700 dark:bg-sky-600/20 dark:hover:bg-sky-600/30 dark:text-sky-200 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-sky-500/30 hover:border-sky-500/40 disabled:opacity-50 disabled:cursor-wait",children:[p.jsx(_T,{className:"h-5 w-5 mr-2"}),c?"กำลังสร้าง PDF...":"ส่งออกเป็น PDF"]})]}),e&&p.jsx(si,{title:"รายละเอียดการโทร",icon:p.jsx(MT,{className:"h-6 w-6"}),children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:[p.jsx(we,{label:"วันที่",value:e.date}),p.jsx(we,{label:"เวลา",value:e.time}),p.jsx(we,{label:"ประเภท",value:e.callType}),p.jsx(we,{label:"เบอร์ต้นทาง",value:e.sourcePhone}),p.jsx(we,{label:"เบอร์ปลายทาง",value:e.destinationPhone}),p.jsx(we,{label:"พนักงานขาย",value:v})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(si,{title:"ประเมินสถานการณ์",icon:p.jsx(Qf,{}),children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsxs("p",{className:"text-5xl font-bold text-sky-600 dark:text-sky-300",children:[C.closingProbability,"%"]}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"โอกาสในการปิดการขาย"})]}),p.jsx(we,{label:"บรรยากาศการสนทนา",value:C.callSentiment}),p.jsx(we,{label:"ขั้นตอนการขายปัจจุบัน",value:C.currentSalesStage}),p.jsx(we,{label:"สรุปผลลัพธ์การโทร",value:C.callOutcomeSummary}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-white/10 mt-4",children:[p.jsx(Ho,{items:C.positiveSignals,icon:p.jsx(la,{}),className:"text-green-600 dark:text-green-400",title:"สัญญาณเชิงบวก"}),p.jsx(Ho,{items:C.negativeSignals,icon:p.jsx(oa,{}),className:"text-red-600 dark:text-red-400",title:"สัญญาณเชิงลบ"})]})]}),p.jsxs(si,{title:"ประเมินพนักงานขาย",icon:p.jsx(Xr,{}),children:[p.jsx(zo,{value:h.overallPerformanceScore,max:100,label:"คะแนนประสิทธิภาพโดยรวม"}),p.jsx(zo,{value:h.productKnowledgeScore,label:"ความรู้ในผลิตภัณฑ์"}),p.jsx(zo,{value:h.closingSkillScore,label:"ทักษะการปิดการขาย"}),p.jsx(we,{label:"สไตล์การสื่อสาร",value:h.communicationStyle,className:"mt-4"})]})]}),p.jsxs(si,{title:"ประเมินลูกค้า",icon:p.jsx(Xr,{className:"text-teal-500 dark:text-teal-400"}),children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"โปรไฟล์และ Sentiment"}),p.jsx(zo,{value:g.interestLevel,label:"ระดับความสนใจ"}),p.jsx(we,{label:"โปรไฟล์ลูกค้า",value:g.customerProfile,className:"mt-4"}),p.jsx(we,{label:"ความรู้สึกของลูกค้า",value:g.customerSentiment})]}),p.jsxs("div",{children:[p.jsx(Ho,{items:g.painPointsIdentified,icon:p.jsx(oa,{}),className:"text-red-600 dark:text-red-400",title:"Pain Points ที่ระบุได้"}),p.jsx("div",{className:"mt-4",children:p.jsx(Ho,{items:g.decisionMakingFactors,icon:p.jsx(la,{}),className:"text-green-600 dark:text-green-400",title:"ปัจจัยในการตัดสินใจ"})})]}),g.purchasingBehavior&&p.jsxs("div",{className:"md:col-span-2 mt-4 pt-4 border-t border-slate-200 dark:border-white/10 space-y-2",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"พฤติกรรมการซื้อ (จากประวัติ)"}),p.jsx(we,{label:"สรุปการซื้อ",value:g.purchasingBehavior.summary}),p.jsx(we,{label:"ความถี่ในการซื้อ",value:g.purchasingBehavior.buyingFrequency}),p.jsx(we,{label:"ปริมาณการซื้อปกติ",value:g.purchasingBehavior.typicalPurchaseVolume}),p.jsx(we,{label:"ความอ่อนไหวต่อราคา",value:g.purchasingBehavior.priceSensitivity})]})]}),i&&i.length>0&&p.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-white/10",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"ประวัติการซื้อโดยละเอียด"}),p.jsx("div",{className:"overflow-x-auto max-h-64 bg-black/5 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-200/60 dark:bg-white/5 text-slate-700 dark:text-slate-300 sticky top-0 backdrop-blur-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"วันที่ขาย"}),p.jsx("th",{className:"px-4 py-2",children:"สินค้า"}),p.jsx("th",{className:"px-4 py-2",children:"ชื่อผู้รับ"}),p.jsx("th",{className:"px-4 py-2",children:"ที่อยู่"}),p.jsx("th",{className:"px-4 py-2",children:"จังหวัด"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"จำนวน"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-white/10",children:i.map((E,R)=>p.jsxs("tr",{className:"hover:bg-slate-200/40 dark:hover:bg-white/5",children:[p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:E.date||"-"}),p.jsx("td",{className:"px-4 py-2",children:E.product||"-"}),p.jsx("td",{className:"px-4 py-2",children:E.recipientName||"-"}),p.jsx("td",{className:"px-4 py-2 truncate max-w-xs",children:E.address||"-"}),p.jsx("td",{className:"px-4 py-2",children:E.province||"-"}),p.jsx("td",{className:"px-4 py-2 text-right",children:E.quantity!==void 0?E.quantity:"-"})]},R))})]})})]})]}),p.jsxs(si,{title:"กลยุทธ์และคำแนะนำ",icon:p.jsx(Wf,{}),children:[p.jsx(we,{label:"Next Best Action",value:x.nextBestAction}),p.jsx(we,{label:"ข้อเสนอแนะ",value:x.suggestedOffer}),p.jsxs("div",{className:"mt-4",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"กลยุทธ์โดยละเอียด:"}),p.jsx("div",{className:"space-y-3",children:x.detailedStrategy.map((E,R)=>p.jsxs("div",{className:"p-3 bg-white/50 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("p",{className:"font-semibold text-sky-700 dark:text-sky-300",children:E.recommendation}),p.jsxs("span",{className:"text-xs font-bold text-sky-800 dark:text-slate-200 bg-sky-200/70 dark:bg-sky-600/50 px-2 py-1 rounded-full",children:[E.successProbability,"% Success"]})]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:E.reasoning})]},R))})]})]}),M&&M.length>0&&p.jsx(si,{title:"บทสนทนา",icon:p.jsx(wg,{}),children:N(M)}),p.jsxs("div",{style:{display:"none"},children:[p.jsx(xT,{})," ",p.jsx(Qf,{})," ",p.jsx(la,{})," ",p.jsx(oa,{})," ",p.jsx(Wf,{})]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
      `}})]})},Ug=()=>p.jsxs("div",{className:"flex flex-col items-center justify-center my-10 p-6",children:[p.jsxs("svg",{className:"animate-spin h-12 w-12 text-sky-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-300 text-lg",children:"กำลังวิเคราะห์ข้อมูล กรุณารอสักครู่..."})]}),RT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),Ig=({message:t})=>p.jsxs("div",{className:"my-6 p-4 bg-red-900/40 backdrop-blur-sm border border-red-700/60 text-red-300 rounded-lg flex items-start space-x-3 shadow-lg",children:[p.jsx(RT,{className:"h-6 w-6 text-red-400 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-red-200",children:"เกิดข้อผิดพลาด"}),p.jsx("p",{className:"text-sm",children:t})]})]}),bT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),Lg=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.243.096 3.222.261m3.478-.397L11.25 4.125M4.772 5.79L2.25 3m0 0a2.25 2.25 0 0 1 2.25-2.25h15A2.25 2.25 0 0 1 21.75 3m-19.5 0v.243a2.25 2.25 0 0 0 .167.807L4.772 5.79m14.456 0H4.772"})}),DT=({onDataContextChange:t,isLoading:e,googleSheetId:n,setGoogleSheetId:i})=>{const[l,o]=G.useState(!1),[r,u]=G.useState(null),[c,f]=G.useState(null),d=G.useCallback(async()=>{if(!n.trim()){u("กรุณาใส่ Google Sheet ID");return}o(!0),u(null),f(null),t(null);try{const g=await ST(n,"AIzaSyATZFV65oVONu6OYBvGRMHFETe673Q2A8w");t(g),f(`เชื่อมต่อสำเร็จ! โหลด ${g.salespersons.length} สินค้า, ${g.customerHistory.length} ประวัติลูกค้า`)}catch(g){console.error("Failed to fetch from Google Sheets:",g),g instanceof Error?u(`เชื่อมต่อไม่สำเร็จ: ${g.message}`):u("เกิดข้อผิดพลาดในการเชื่อมต่อกับ Google Sheets")}finally{o(!1)}},[n,t]),m=()=>{localStorage.removeItem("googleSheetId"),i(""),t(null),u(null),f("ตัดการเชื่อมต่อแล้ว AI จะใช้ความรู้ทั่วไป")},h=!!c&&!r;return p.jsxs("div",{className:"mb-6 p-4 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl border border-slate-200 dark:border-white/10 shadow-lg",children:[p.jsx("h3",{className:"text-base sm:text-md font-semibold text-sky-600 dark:text-sky-400 mb-2",children:"เชื่อมต่อ Google Sheet"}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:["ใส่ ID ของ Google Sheet ที่มีชีทชื่อ ",p.jsx("b",{children:'"ข้อมูลสินค้า"'})," และ ",p.jsx("b",{children:'"ข้อมูลลูกค้า"'})," เพื่อให้ AI วิเคราะห์ได้เฉียบคมยิ่งขึ้น"]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(bT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),p.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),placeholder:"วาง Google Sheet ID ที่นี่",disabled:e||l||h,className:"w-full pl-10 pr-4 py-2.5 bg-white/50 dark:bg-black/20 border border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-50","aria-label":"Google Sheet ID"})]}),h?p.jsxs("button",{onClick:m,disabled:e||l,className:"w-full sm:w-auto px-3 py-2.5 bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:bg-red-600/20 dark:hover:bg-red-600/30 dark:text-red-300 text-sm font-medium rounded-lg transition-colors duration-150 disabled:opacity-50 flex items-center justify-center border border-red-500/20 dark:border-red-500/30 hover:border-red-500/30 dark:hover:border-red-500/40","aria-label":"ล้างข้อมูลที่เชื่อมต่อ",children:[p.jsx(Lg,{className:"h-5 w-5 mr-1 sm:mr-2 shrink-0"}),"ตัดการเชื่อมต่อ"]}):p.jsx("button",{onClick:d,disabled:e||l||!n.trim(),className:"w-full sm:w-auto px-4 py-2.5 bg-sky-600 hover:bg-sky-500 text-white text-sm font-medium rounded-lg transition-colors duration-150 disabled:opacity-50 disabled:cursor-wait",children:l?"กำลังเชื่อมต่อ...":"เชื่อมต่อ"})]}),r&&p.jsx("p",{className:"mt-2 text-xs text-red-400 dark:text-red-300 animate-fadeIn",children:r}),c&&!r&&p.jsx("p",{className:"mt-2 text-xs text-green-600 dark:text-green-300 animate-fadeIn",children:c}),!r&&!c&&!h&&p.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-500",children:"หากไม่มีการเชื่อมต่อ AI จะใช้ความรู้ทั่วไปในการวิเคราะห์"}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }
      `}})]})};var j;(function(t){t.assertEqual=l=>{};function e(l){}t.assertIs=e;function n(l){throw new Error}t.assertNever=n,t.arrayToEnum=l=>{const o={};for(const r of l)o[r]=r;return o},t.getValidEnumValues=l=>{const o=t.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),r={};for(const u of o)r[u]=l[u];return t.objectValues(r)},t.objectValues=l=>t.objectKeys(l).map(function(o){return l[o]}),t.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&o.push(r);return o},t.find=(l,o)=>{for(const r of l)if(o(r))return r},t.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(r=>typeof r=="string"?`'${r}'`:r).join(o)}t.joinValues=i,t.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(j||(j={}));var ed;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ed||(ed={}));const L=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rn=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return Number.isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},b=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Kt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const r of o.issues)if(r.code==="invalid_union")r.unionErrors.map(l);else if(r.code==="invalid_return_type")l(r.returnTypeError);else if(r.code==="invalid_arguments")l(r.argumentsError);else if(r.path.length===0)i._errors.push(n(r));else{let u=i,c=0;for(;c<r.path.length;){const f=r.path[c];c===r.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(r))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof Kt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const l of this.issues)l.path.length>0?(n[l.path[0]]=n[l.path[0]]||[],n[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Kt.create=t=>new Kt(t);const Kr=(t,e)=>{let n;switch(t.code){case b.invalid_type:t.received===L.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case b.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,j.jsonStringifyReplacer)}`;break;case b.unrecognized_keys:n=`Unrecognized key(s) in object: ${j.joinValues(t.keys,", ")}`;break;case b.invalid_union:n="Invalid input";break;case b.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${j.joinValues(t.options)}`;break;case b.invalid_enum_value:n=`Invalid enum value. Expected ${j.joinValues(t.options)}, received '${t.received}'`;break;case b.invalid_arguments:n="Invalid function arguments";break;case b.invalid_return_type:n="Invalid function return type";break;case b.invalid_date:n="Invalid date";break;case b.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:j.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case b.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case b.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case b.custom:n="Invalid input";break;case b.invalid_intersection_types:n="Intersection results could not be merged";break;case b.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case b.not_finite:n="Number must be finite";break;default:n=e.defaultError,j.assertNever(t)}return{message:n}};let wT=Kr;function kT(){return wT}const UT=t=>{const{data:e,path:n,errorMaps:i,issueData:l}=t,o=[...n,...l.path||[]],r={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(r,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function U(t,e){const n=kT(),i=UT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Kr?void 0:Kr].filter(l=>!!l)});t.common.issues.push(i)}class Ye{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const l of n){if(l.status==="aborted")return H;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const l of n){const o=await l.key,r=await l.value;i.push({key:o,value:r})}return Ye.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const l of n){const{key:o,value:r}=l;if(o.status==="aborted"||r.status==="aborted")return H;o.status==="dirty"&&e.dirty(),r.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof r.value<"u"||l.alwaysSet)&&(i[o.value]=r.value)}return{status:e.value,value:i}}}const H=Object.freeze({status:"aborted"}),El=t=>({status:"dirty",value:t}),vt=t=>({status:"valid",value:t}),td=t=>t.status==="aborted",nd=t=>t.status==="dirty",$i=t=>t.status==="valid",Ba=t=>typeof Promise<"u"&&t instanceof Promise;var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));class kt{constructor(e,n,i,l){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const id=(t,e)=>{if($i(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Kt(t.common.issues);return this._error=n,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:l}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(r,u)=>{const{message:c}=t;return r.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:r.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:l}}class K{get description(){return this._def.description}_getType(e){return rn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:rn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ye,ctx:{common:e.parent.common,data:e.data,parsedType:rn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ba(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rn(e)},l=this._parseSync({data:e,path:i.path,parent:i});return id(i,l)}"~validate"(e){var i,l;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rn(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return $i(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>$i(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rn(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(Ba(l)?l:Promise.resolve(l));return id(i,o)}refine(e,n){const i=l=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(l):n;return this._refinement((l,o)=>{const r=e(l),u=()=>o.addIssue({code:b.custom,...i(l)});return typeof Promise<"u"&&r instanceof Promise?r.then(c=>c?!0:(u(),!1)):r?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof n=="function"?n(i,l):n),!1))}_refinement(e){return new Qi({schema:this,typeName:z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return An.create(this,this._def)}nullable(){return Wi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wt.create(this)}promise(){return Fa.create(this,this._def)}or(e){return za.create([this,e],this._def)}and(e){return Ha.create(this,e,this._def)}transform(e){return new Qi({...Y(this._def),schema:this,typeName:z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new eu({...Y(this._def),innerType:this,defaultValue:n,typeName:z.ZodDefault})}brand(){return new nS({typeName:z.ZodBranded,type:this,...Y(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new tu({...Y(this._def),innerType:this,catchValue:n,typeName:z.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return hc.create(this,e)}readonly(){return nu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IT=/^c[^\s-]{8,}$/i,LT=/^[0-9a-z]+$/,VT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qT=/^[a-z0-9_-]{21}$/i,BT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,HT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ws;const OT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,YT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,JT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$T=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XT=new RegExp(`^${Vg}$`);function Pg(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function KT(t){return new RegExp(`^${Pg(t)}$`)}function QT(t){let e=`${Vg}T${Pg(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function WT(t,e){return!!((e==="v4"||!e)&&OT.test(t)||(e==="v6"||!e)&&YT.test(t))}function jT(t,e){if(!BT.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function eS(t,e){return!!((e==="v4"||!e)&&FT.test(t)||(e==="v6"||!e)&&JT.test(t))}class Mt extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==L.string){const o=this._getOrReturnCtx(e);return U(o,{code:b.invalid_type,expected:L.string,received:o.parsedType}),H}const i=new Ye;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:b.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:b.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const r=e.data.length>o.value,u=e.data.length<o.value;(r||u)&&(l=this._getOrReturnCtx(e,l),r?U(l,{code:b.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&U(l,{code:b.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")zT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"email",code:b.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Ws||(Ws=new RegExp(HT,"u")),Ws.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"emoji",code:b.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")PT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"uuid",code:b.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")qT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"nanoid",code:b.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")IT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cuid",code:b.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")LT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cuid2",code:b.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")VT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"ulid",code:b.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),U(l,{validation:"url",code:b.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"regex",code:b.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),U(l,{code:b.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),U(l,{code:b.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),U(l,{code:b.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?QT(o).test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:b.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?XT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:b.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?KT(o).test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:b.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?GT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"duration",code:b.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?WT(e.data,o.version)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"ip",code:b.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?jT(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"jwt",code:b.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?eS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cidr",code:b.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?ZT.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"base64",code:b.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?$T.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"base64url",code:b.invalid_string,message:o.message}),i.dirty()):j.assertNever(o);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(l=>e.test(l),{validation:n,code:b.invalid_string,...V.errToObj(i)})}_addCheck(e){return new Mt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...V.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...V.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...V.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...V.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...V.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...V.errToObj(n)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mt.create=t=>new Mt({checks:[],typeName:z.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Y(t)});function tS(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=n>i?n:i,o=Number.parseInt(t.toFixed(l).replace(".","")),r=Number.parseInt(e.toFixed(l).replace(".",""));return o%r/10**l}class Xn extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==L.number){const o=this._getOrReturnCtx(e);return U(o,{code:b.invalid_type,expected:L.number,received:o.parsedType}),H}let i;const l=new Ye;for(const o of this._def.checks)o.kind==="int"?j.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:b.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:b.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:b.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?tS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),U(i,{code:b.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:b.not_finite,message:o.message}),l.dirty()):j.assertNever(o);return{status:l.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,i,l){return new Xn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:V.toString(l)}]})}_addCheck(e){return new Xn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&j.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Xn.create=t=>new Xn({checks:[],typeName:z.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class Kn extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==L.bigint)return this._getInvalidInput(e);let i;const l=new Ye;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:b.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:b.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),U(i,{code:b.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):j.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return U(n,{code:b.invalid_type,expected:L.bigint,received:n.parsedType}),H}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,i,l){return new Kn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:V.toString(l)}]})}_addCheck(e){return new Kn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Kn.create=t=>new Kn({checks:[],typeName:z.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Y(t)});class Ga extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==L.boolean){const i=this._getOrReturnCtx(e);return U(i,{code:b.invalid_type,expected:L.boolean,received:i.parsedType}),H}return vt(e.data)}}Ga.create=t=>new Ga({typeName:z.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class Xi extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==L.date){const o=this._getOrReturnCtx(e);return U(o,{code:b.invalid_type,expected:L.date,received:o.parsedType}),H}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return U(o,{code:b.invalid_date}),H}const i=new Ye;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:b.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:b.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):j.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xi({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xi.create=t=>new Xi({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:z.ZodDate,...Y(t)});class ld extends K{_parse(e){if(this._getType(e)!==L.symbol){const i=this._getOrReturnCtx(e);return U(i,{code:b.invalid_type,expected:L.symbol,received:i.parsedType}),H}return vt(e.data)}}ld.create=t=>new ld({typeName:z.ZodSymbol,...Y(t)});class od extends K{_parse(e){if(this._getType(e)!==L.undefined){const i=this._getOrReturnCtx(e);return U(i,{code:b.invalid_type,expected:L.undefined,received:i.parsedType}),H}return vt(e.data)}}od.create=t=>new od({typeName:z.ZodUndefined,...Y(t)});class ad extends K{_parse(e){if(this._getType(e)!==L.null){const i=this._getOrReturnCtx(e);return U(i,{code:b.invalid_type,expected:L.null,received:i.parsedType}),H}return vt(e.data)}}ad.create=t=>new ad({typeName:z.ZodNull,...Y(t)});class sd extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return vt(e.data)}}sd.create=t=>new sd({typeName:z.ZodAny,...Y(t)});class Qr extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vt(e.data)}}Qr.create=t=>new Qr({typeName:z.ZodUnknown,...Y(t)});class bn extends K{_parse(e){const n=this._getOrReturnCtx(e);return U(n,{code:b.invalid_type,expected:L.never,received:n.parsedType}),H}}bn.create=t=>new bn({typeName:z.ZodNever,...Y(t)});class rd extends K{_parse(e){if(this._getType(e)!==L.undefined){const i=this._getOrReturnCtx(e);return U(i,{code:b.invalid_type,expected:L.void,received:i.parsedType}),H}return vt(e.data)}}rd.create=t=>new rd({typeName:z.ZodVoid,...Y(t)});class wt extends K{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),l=this._def;if(n.parsedType!==L.array)return U(n,{code:b.invalid_type,expected:L.array,received:n.parsedType}),H;if(l.exactLength!==null){const r=n.data.length>l.exactLength.value,u=n.data.length<l.exactLength.value;(r||u)&&(U(n,{code:r?b.too_big:b.too_small,minimum:u?l.exactLength.value:void 0,maximum:r?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&n.data.length<l.minLength.value&&(U(n,{code:b.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&n.data.length>l.maxLength.value&&(U(n,{code:b.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((r,u)=>l.type._parseAsync(new kt(n,r,n.path,u)))).then(r=>Ye.mergeArray(i,r));const o=[...n.data].map((r,u)=>l.type._parseSync(new kt(n,r,n.path,u)));return Ye.mergeArray(i,o)}get element(){return this._def.type}min(e,n){return new wt({...this._def,minLength:{value:e,message:V.toString(n)}})}max(e,n){return new wt({...this._def,maxLength:{value:e,message:V.toString(n)}})}length(e,n){return new wt({...this._def,exactLength:{value:e,message:V.toString(n)}})}nonempty(e){return this.min(1,e)}}wt.create=(t,e)=>new wt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:z.ZodArray,...Y(e)});function mi(t){if(t instanceof Ae){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=An.create(mi(i))}return new Ae({...t._def,shape:()=>e})}else return t instanceof wt?new wt({...t._def,type:mi(t.element)}):t instanceof An?An.create(mi(t.unwrap())):t instanceof Wi?Wi.create(mi(t.unwrap())):t instanceof Qn?Qn.create(t.items.map(e=>mi(e))):t}class Ae extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=j.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==L.object){const f=this._getOrReturnCtx(e);return U(f,{code:b.invalid_type,expected:L.object,received:f.parsedType}),H}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:r}=this._getCached(),u=[];if(!(this._def.catchall instanceof bn&&this._def.unknownKeys==="strip"))for(const f in l.data)r.includes(f)||u.push(f);const c=[];for(const f of r){const d=o[f],m=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new kt(l,m,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof bn){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&(U(l,{code:b.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const m=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new kt(l,m,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const m=await d.key,h=await d.value;f.push({key:m,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Ye.mergeObjectSync(i,f)):Ye.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new Ae({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var o,r;const l=((r=(o=this._def).errorMap)==null?void 0:r.call(o,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:V.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ae({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:z.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ae({...this._def,catchall:e})}pick(e){const n={};for(const i of j.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Ae({...this._def,shape:()=>n})}omit(e){const n={};for(const i of j.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Ae({...this._def,shape:()=>n})}deepPartial(){return mi(this)}partial(e){const n={};for(const i of j.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?n[i]=l:n[i]=l.optional()}return new Ae({...this._def,shape:()=>n})}required(e){const n={};for(const i of j.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof An;)o=o._def.innerType;n[i]=o}return new Ae({...this._def,shape:()=>n})}keyof(){return qg(j.objectKeys(this.shape))}}Ae.create=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strip",catchall:bn.create(),typeName:z.ZodObject,...Y(e)});Ae.strictCreate=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strict",catchall:bn.create(),typeName:z.ZodObject,...Y(e)});Ae.lazycreate=(t,e)=>new Ae({shape:t,unknownKeys:"strip",catchall:bn.create(),typeName:z.ZodObject,...Y(e)});class za extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const r=o.map(u=>new Kt(u.ctx.common.issues));return U(n,{code:b.invalid_union,unionErrors:r}),H}if(n.common.async)return Promise.all(i.map(async o=>{const r={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(l);{let o;const r=[];for(const c of i){const f={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&r.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=r.map(c=>new Kt(c));return U(n,{code:b.invalid_union,unionErrors:u}),H}}get options(){return this._def.options}}za.create=(t,e)=>new za({options:t,typeName:z.ZodUnion,...Y(e)});function Wr(t,e){const n=rn(t),i=rn(e);if(t===e)return{valid:!0,data:t};if(n===L.object&&i===L.object){const l=j.objectKeys(e),o=j.objectKeys(t).filter(u=>l.indexOf(u)!==-1),r={...t,...e};for(const u of o){const c=Wr(t[u],e[u]);if(!c.valid)return{valid:!1};r[u]=c.data}return{valid:!0,data:r}}else if(n===L.array&&i===L.array){if(t.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<t.length;o++){const r=t[o],u=e[o],c=Wr(r,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return n===L.date&&i===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ha extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=(o,r)=>{if(td(o)||td(r))return H;const u=Wr(o.value,r.value);return u.valid?((nd(o)||nd(r))&&n.dirty(),{status:n.value,value:u.data}):(U(i,{code:b.invalid_intersection_types}),H)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,r])=>l(o,r)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Ha.create=(t,e,n)=>new Ha({left:t,right:e,typeName:z.ZodIntersection,...Y(n)});class Qn extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.array)return U(i,{code:b.invalid_type,expected:L.array,received:i.parsedType}),H;if(i.data.length<this._def.items.length)return U(i,{code:b.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&i.data.length>this._def.items.length&&(U(i,{code:b.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...i.data].map((r,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new kt(i,r,i.path,u)):null}).filter(r=>!!r);return i.common.async?Promise.all(o).then(r=>Ye.mergeArray(n,r)):Ye.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Qn({...this._def,rest:e})}}Qn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qn({items:t,typeName:z.ZodTuple,rest:null,...Y(e)})};class Oa extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.object)return U(i,{code:b.invalid_type,expected:L.object,received:i.parsedType}),H;const l=[],o=this._def.keyType,r=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new kt(i,u,i.path,u)),value:r._parse(new kt(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ye.mergeObjectAsync(n,l):Ye.mergeObjectSync(n,l)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof K?new Oa({keyType:e,valueType:n,typeName:z.ZodRecord,...Y(i)}):new Oa({keyType:Mt.create(),valueType:e,typeName:z.ZodRecord,...Y(n)})}}class ud extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.map)return U(i,{code:b.invalid_type,expected:L.map,received:i.parsedType}),H;const l=this._def.keyType,o=this._def.valueType,r=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new kt(i,u,i.path,[f,"key"])),value:o._parse(new kt(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of r){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return H;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of r){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return H;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}}}}ud.create=(t,e,n)=>new ud({valueType:e,keyType:t,typeName:z.ZodMap,...Y(n)});class no extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.set)return U(i,{code:b.invalid_type,expected:L.set,received:i.parsedType}),H;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(U(i,{code:b.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),n.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(U(i,{code:b.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),n.dirty());const o=this._def.valueType;function r(c){const f=new Set;for(const d of c){if(d.status==="aborted")return H;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new kt(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>r(c)):r(u)}min(e,n){return new no({...this._def,minSize:{value:e,message:V.toString(n)}})}max(e,n){return new no({...this._def,maxSize:{value:e,message:V.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}no.create=(t,e)=>new no({valueType:t,minSize:null,maxSize:null,typeName:z.ZodSet,...Y(e)});class jr extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}jr.create=(t,e)=>new jr({getter:t,typeName:z.ZodLazy,...Y(e)});class cd extends K{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return U(n,{received:n.data,code:b.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:e.data}}get value(){return this._def.value}}cd.create=(t,e)=>new cd({value:t,typeName:z.ZodLiteral,...Y(e)});function qg(t,e){return new Ki({values:t,typeName:z.ZodEnum,...Y(e)})}class Ki extends K{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return U(n,{expected:j.joinValues(i),received:n.parsedType,code:b.invalid_type}),H}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return U(n,{received:n.data,code:b.invalid_enum_value,options:i}),H}return vt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ki.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ki.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Ki.create=qg;class fd extends K{_parse(e){const n=j.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==L.string&&i.parsedType!==L.number){const l=j.objectValues(n);return U(i,{expected:j.joinValues(l),received:i.parsedType,code:b.invalid_type}),H}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=j.objectValues(n);return U(i,{received:i.data,code:b.invalid_enum_value,options:l}),H}return vt(e.data)}get enum(){return this._def.values}}fd.create=(t,e)=>new fd({values:t,typeName:z.ZodNativeEnum,...Y(e)});class Fa extends K{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.promise&&n.common.async===!1)return U(n,{code:b.invalid_type,expected:L.promise,received:n.parsedType}),H;const i=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return vt(i.then(l=>this._def.type.parseAsync(l,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Fa.create=(t,e)=>new Fa({type:t,typeName:z.ZodPromise,...Y(e)});class Qi extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:r=>{U(i,r),r.fatal?n.abort():n.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const r=l.transform(i.data,o);if(i.common.async)return Promise.resolve(r).then(async u=>{if(n.value==="aborted")return H;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?H:c.status==="dirty"||n.value==="dirty"?El(c.value):c});{if(n.value==="aborted")return H;const u=this._def.schema._parseSync({data:r,path:i.path,parent:i});return u.status==="aborted"?H:u.status==="dirty"||n.value==="dirty"?El(u.value):u}}if(l.type==="refinement"){const r=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?H:(u.status==="dirty"&&n.dirty(),r(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?H:(u.status==="dirty"&&n.dirty(),r(u.value).then(()=>({status:n.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!$i(r))return H;const u=l.transform(r.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>$i(r)?Promise.resolve(l.transform(r.value,o)).then(u=>({status:n.value,value:u})):H);j.assertNever(l)}}Qi.create=(t,e,n)=>new Qi({schema:t,typeName:z.ZodEffects,effect:e,...Y(n)});Qi.createWithPreprocess=(t,e,n)=>new Qi({schema:e,effect:{type:"preprocess",transform:t},typeName:z.ZodEffects,...Y(n)});class An extends K{_parse(e){return this._getType(e)===L.undefined?vt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}An.create=(t,e)=>new An({innerType:t,typeName:z.ZodOptional,...Y(e)});class Wi extends K{_parse(e){return this._getType(e)===L.null?vt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wi.create=(t,e)=>new Wi({innerType:t,typeName:z.ZodNullable,...Y(e)});class eu extends K{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===L.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}eu.create=(t,e)=>new eu({innerType:t,typeName:z.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class tu extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ba(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Kt(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Kt(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}tu.create=(t,e)=>new tu({innerType:t,typeName:z.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class dd extends K{_parse(e){if(this._getType(e)!==L.nan){const i=this._getOrReturnCtx(e);return U(i,{code:b.invalid_type,expected:L.nan,received:i.parsedType}),H}return{status:"valid",value:e.data}}}dd.create=t=>new dd({typeName:z.ZodNaN,...Y(t)});class nS extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class hc extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?H:o.status==="dirty"?(n.dirty(),El(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?H:l.status==="dirty"?(n.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,n){return new hc({in:e,out:n,typeName:z.ZodPipeline})}}class nu extends K{_parse(e){const n=this._def.innerType._parse(e),i=l=>($i(l)&&(l.value=Object.freeze(l.value)),l);return Ba(n)?n.then(l=>i(l)):i(n)}unwrap(){return this._def.innerType}}nu.create=(t,e)=>new nu({innerType:t,typeName:z.ZodReadonly,...Y(e)});var z;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(z||(z={}));const Un=Mt.create,md=Xn.create;Kn.create;const iS=Ga.create;Xi.create;const hd=Qr.create;bn.create;const Al=wt.create,lS=Ae.create,oS=za.create;Ha.create;Qn.create;const aS=Oa.create,sS=jr.create,rS=Ki.create;Fa.create;An.create;Wi.create;const ri={string:t=>Mt.create({...t,coerce:!0}),number:t=>Xn.create({...t,coerce:!0}),boolean:t=>Ga.create({...t,coerce:!0}),bigint:t=>Kn.create({...t,coerce:!0}),date:t=>Xi.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uS,cS;function fS(){return{geminiUrl:uS,vertexUrl:cS}}function dS(t,e,n){var i,l,o;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const r=fS();return t.vertexai?(l=r.vertexUrl)!==null&&l!==void 0?l:e:(o=r.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function P(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function s(t,e,n){for(let o=0;o<e.length-1;o++){const r=e[o];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];s(d,e.slice(o+1),n[f])}else for(const f of c)s(f,e.slice(o+1),n)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];s(c[0],e.slice(o+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const o=t[l];return Array.isArray(o)?o.map(r=>a(r,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pd||(pd={}));var gd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(gd||(gd={}));var Nt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Nt||(Nt={}));var yd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(yd||(yd={}));var vd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(vd||(vd={}));var Td;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Td||(Td={}));var Sd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Sd||(Sd={}));var Cd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Cd||(Cd={}));var xd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(xd||(xd={}));var _d;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_d||(_d={}));var Ed;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ed||(Ed={}));var Ad;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Ad||(Ad={}));var Md;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Md||(Md={}));var Ya;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ya||(Ya={}));var Nd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nd||(Nd={}));var iu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(iu||(iu={}));var Rd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Rd||(Rd={}));var bd;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(bd||(bd={}));var Dd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Dd||(Dd={}));var wd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wd||(wd={}));var kd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(kd||(kd={}));var Ud;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Ud||(Ud={}));var Id;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Id||(Id={}));var Ld;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ld||(Ld={}));var Vd;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Vd||(Vd={}));var Pd;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pd||(Pd={}));var qd;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qd||(qd={}));var Bd;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bd||(Bd={}));var Gd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gd||(Gd={}));var zd;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zd||(zd={}));var Hd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Hd||(Hd={}));var Od;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Od||(Od={}));var Fd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Fd||(Fd={}));var Yd;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Yd||(Yd={}));var Jd;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jd||(Jd={}));var Zd;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Zd||(Zd={}));var $d;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($d||($d={}));var Xd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Xd||(Xd={}));var Kd;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Kd||(Kd={}));var Mi;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Mi||(Mi={}));class lu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Tl{get text(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const h of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,C]of Object.entries(h))g!=="text"&&g!=="thought"&&(C!==null||C!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Qd{}class Wd{}class mS{}class hS{}class jd{}class em{}class tm{}class pS{}class nm{}class im{}class lm{}class gS{}class yS{}class vS{}class om{}class TS{get text(){var e,n,i;let l="",o=!1;const r=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&r.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,n,i;let l="";const o=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(r))u!=="inlineData"&&c!==null&&o.push(u);r.inlineData&&typeof r.inlineData.data=="string"&&(l+=atob(r.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class SS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ae(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Bg(t,e){const n=ae(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Gg(t){return Array.isArray(t)?t.map(e=>Ja(e)):[Ja(t)]}function Ja(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function CS(t){const e=Ja(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function xS(t){const e=Ja(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function am(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function zg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>am(e)):[am(t)]}function ou(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function sm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function rm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ze(t){if(t==null)throw new Error("ContentUnion is required");return ou(t)?t:{role:"user",parts:zg(t)}}function Hg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=ze(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=ze(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ze(n)):[ze(e)]}function pt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(sm(t)||rm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ze(t)]}const e=[],n=[],i=ou(t[0]);for(const l of t){const o=ou(l);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(l);else{if(sm(l)||rm(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||e.push({role:"user",parts:zg(n)}),e}const _S=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),um=rS(["string","number","integer","object","array","boolean","null"]),ES=oS([um,Al(um)]);function AS(t=!0){const e=sS(()=>{const n=lS({type:ES.optional(),format:Un().optional(),title:Un().optional(),description:Un().optional(),default:hd().optional(),items:e.optional(),minItems:ri.string().optional(),maxItems:ri.string().optional(),enum:Al(hd()).optional(),properties:aS(Un(),e).optional(),required:Al(Un()).optional(),minProperties:ri.string().optional(),maxProperties:ri.string().optional(),propertyOrdering:Al(Un()).optional(),minimum:md().optional(),maximum:md().optional(),minLength:ri.string().optional(),maxLength:ri.string().optional(),pattern:Un().optional(),anyOf:Al(e).optional(),additionalProperties:iS().optional()});return t?n.strict():n});return e}function MS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Nt).includes(n[0].toUpperCase())?n[0].toUpperCase():Nt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Nt).includes(i.toUpperCase())?i.toUpperCase():Nt.TYPE_UNSPECIFIED})}}function Li(t){const e={},n=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&MS(t.type,e);for(const[r,u]of Object.entries(t))if(u!=null)if(r=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Nt).includes(u.toUpperCase())?u.toUpperCase():Nt.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Li(u);else if(i.includes(r)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Li(f))}e[r]=c}else if(l.includes(r)){const c={};for(const[f,d]of Object.entries(u))c[f]=Li(d);e[r]=c}else{if(r==="additionalProperties")continue;e[r]=u}return e}function io(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=AS().parse(t);return Li(e)}else return Li(t)}function pc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function al(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=io(e.parameters)),e.response&&(e.response=io(e.response));return t}function sl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function NS(t,e,n,i=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function Wt(t,e){if(typeof e!="string")throw new Error("name must be a string");return NS(t,e,"cachedContents")}function Og(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function jt(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function RS(t){return t!=null&&typeof t=="object"&&"name"in t}function bS(t){return t!=null&&typeof t=="object"&&"video"in t}function DS(t){return t!=null&&typeof t=="object"&&"uri"in t}function Fg(t){var e;let n;if(RS(t)&&(n=t.name),!(DS(t)&&(n=t.uri,n===void 0))&&!(bS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Yg(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Jg(t){for(const e of["models","tunedModels","publisherModels"])if(wS(t,e))return t[e];return[]}function wS(t,e){return t!==null&&typeof t=="object"&&e in t}function kS(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Li(fs(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function US(t,e={}){const n=[],i=new Set;for(const l of t){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const r=kS(l,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function IS(t){const e=[];for(const n of t)e.push(fs(n));return e}function LS(t){const e={};for(const[n,i]of Object.entries(t)){const l=i;e[n]=fs(l)}return e}function fs(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,r]of Object.entries(t))if(e.has(o))l[o]=fs(r);else if(n.has(o))l[o]=IS(r);else if(i.has(o))l[o]=LS(r);else if(o==="type"){const u=r.toUpperCase();l[o]=Object.values(Nt).includes(u)?u:Nt.TYPE_UNSPECIFIED}else _S.has(o)&&(l[o]=r);return l}function Zg(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function VS(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ds(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function $g(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function qS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function BS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function GS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],PS(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],qS(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],BS(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Xg(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>GS(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function zS(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const C=a(t,["minLength"]);C!=null&&s(e,["minLength"],C);const x=a(t,["minProperties"]);x!=null&&s(e,["minProperties"],x);const M=a(t,["minimum"]);M!=null&&s(e,["minimum"],M);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function HS(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function OS(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function FS(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function YS(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],FS(n)),e}function JS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function ZS(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],JS(n)),e}function $S(){return{}}function XS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>OS(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],YS(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],ZS(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],$S());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function KS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function QS(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function WS(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],QS(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function jS(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],KS(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],WS(i)),e}function eC(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Kg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],eC(n)),e}function tC(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Kg(i)),e}function nC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>tC(l))),s(e,["speakerVoiceConfigs"],i)}return e}function iC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Kg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],nC(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function lC(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function oC(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],Xg(ze(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const C=a(e,["frequencyPenalty"]);C!=null&&s(i,["frequencyPenalty"],C);const x=a(e,["seed"]);x!=null&&s(i,["seed"],x);const M=a(e,["responseMimeType"]);M!=null&&s(i,["responseMimeType"],M);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],zS(io(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(I=>HS(I))),s(n,["safetySettings"],q)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let q=sl(S);Array.isArray(q)&&(q=q.map(I=>XS(al(I)))),s(n,["tools"],q)}const _=a(e,["toolConfig"]);if(n!==void 0&&_!=null&&s(n,["toolConfig"],jS(_)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],Wt(t,D));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const E=a(e,["mediaResolution"]);E!=null&&s(i,["mediaResolution"],E);const R=a(e,["speechConfig"]);if(R!=null&&s(i,["speechConfig"],iC(pc(R))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],lC(w)),i}function aC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["request","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=pt(l);Array.isArray(r)&&(r=r.map(u=>Xg(u))),s(n,["request","contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["request","generationConfig"],oC(t,o,n)),n}function sC(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&s(n,["fileName"],i);const l=a(e,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>aC(t,r))),s(n,["requests","requests"],o)}return n}function rC(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&s(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function uC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["src"]);l!=null&&s(n,["batch","inputConfig"],sC(t,Zg(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],rC(o,n)),n}function cC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ds(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function fC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ds(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function dC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);if(e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function mC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],dC(n,e)),e}function hC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsSource","uris"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigquerySource","inputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function pC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsDestination","outputUriPrefix"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigqueryDestination","outputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function gC(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["dest"]);return e!==void 0&&l!=null&&s(e,["outputConfig"],pC(VS(l))),n}function yC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],ae(t,i));const l=a(e,["src"]);l!=null&&s(n,["inputConfig"],hC(Zg(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],gC(o,n)),n}function vC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ds(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function TC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ds(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function SC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function CC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],SC(n,e)),e}function xC(){return{}}function _C(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function EC(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function AC(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function MC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],_C(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],EC(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],AC(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function NC(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>MC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function RC(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function bC(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function DC(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>bC(l))),s(e,["urlMetadata"],i)}return e}function wC(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],NC(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],RC(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],DC(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function kC(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>wC(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function UC(t){const e={},n=a(t,["response"]);return n!=null&&s(e,["response"],kC(n)),a(t,["error"])!=null&&s(e,["error"],xC()),e}function IC(t){const e={},n=a(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>UC(o))),s(e,["inlinedResponses"],l)}return e}function au(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["metadata","state"]);l!=null&&s(e,["state"],$g(l));const o=a(t,["metadata","createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["metadata","endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["metadata","updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["metadata","model"]);c!=null&&s(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&s(e,["dest"],IC(f)),e}function LC(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>au(o))),s(e,["batchJobs"],l)}return e}function VC(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const l=a(t,["message"]);return l!=null&&s(e,["message"],l),e}function PC(t){const e={},n=a(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigquerySource","inputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function qC(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigqueryDestination","outputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function su(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["state"]);l!=null&&s(e,["state"],$g(l));const o=a(t,["error"]);o!=null&&s(e,["error"],VC(o));const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["startTime"]);u!=null&&s(e,["startTime"],u);const c=a(t,["endTime"]);c!=null&&s(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&s(e,["model"],d);const m=a(t,["inputConfig"]);m!=null&&s(e,["src"],PC(m));const h=a(t,["outputConfig"]);return h!=null&&s(e,["dest"],qC(h)),e}function BC(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>su(o))),s(e,["batchJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Wn||(Wn={}));class Co{constructor(e,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,l)}init(e,n,i){var l,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};i?typeof i=="object"?r=Object.assign({},i):r=i:r={config:{}},r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(o=(l=r.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC extends ii{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Co(Wn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=yC(this.apiClient,e);return u=P("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>su(d))}else{const f=uC(this.apiClient,e);return u=P("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>au(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=vC(this.apiClient,e);return u=P("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>su(d))}else{const f=cC(this.apiClient,e);return u=P("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>au(d))}}async cancel(e){var n,i,l,o;let r="",u={};if(this.apiClient.isVertexAI()){const c=TC(this.apiClient,e);r=P("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=fC(this.apiClient,e);r=P("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=CC(e);return u=P("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=BC(d),h=new om;return Object.assign(h,m),h})}else{const f=mC(e);return u=P("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=LC(d),h=new om;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function HC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function OC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function FC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],zC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],HC(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],OC(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function cm(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>FC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function YC(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function JC(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function ZC(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],JC(n)),e}function $C(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function XC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],$C(n)),e}function KC(){return{}}function QC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>YC(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],ZC(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],XC(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],KC());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function WC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function jC(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function ex(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],jC(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function tx(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],WC(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],ex(i)),e}function nx(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let d=pt(r);Array.isArray(d)&&(d=d.map(m=>cm(m))),s(e,["contents"],d)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],cm(ze(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>QC(m))),s(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&s(e,["toolConfig"],tx(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ix(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Bg(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],nx(l,n)),n}function lx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function ox(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function ax(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function sx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],ax(l,n)),n}function rx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function ux(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],rx(n,e)),e}function cx(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function fx(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function dx(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function mx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],cx(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],fx(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],dx(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function fm(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>mx(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function hx(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function px(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function gx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],px(n)),e}function yx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function vx(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],yx(n)),e}function Tx(){return{}}function Sx(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function Cx(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],Sx(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function xx(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],Cx(n)),e}function _x(){return{}}function Ex(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>hx(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],gx(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],vx(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Tx());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],xx(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],_x());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function Ax(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function Mx(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function Nx(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],Mx(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function Rx(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],Ax(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],Nx(i)),e}function bx(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let m=pt(r);Array.isArray(m)&&(m=m.map(h=>fm(h))),s(e,["contents"],m)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],fm(ze(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>Ex(h))),s(e,["tools"],m)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&s(e,["toolConfig"],Rx(f));const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&s(e,["encryption_spec","kmsKeyName"],d),n}function Dx(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Bg(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],bx(l,n)),n}function wx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function kx(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function Ux(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function Ix(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],Wt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],Ux(l,n)),n}function Lx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function Vx(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],Lx(n,e)),e}function aa(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function Px(){return{}}function qx(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>aa(o))),s(e,["cachedContents"],l)}return e}function sa(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function Bx(){return{}}function Gx(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>sa(o))),s(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zx extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Co(Wn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Dx(this.apiClient,e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>sa(d))}else{const f=ix(this.apiClient,e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>aa(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=wx(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>sa(d))}else{const f=lx(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>aa(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=kx(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=Bx(),m=new im;return Object.assign(m,d),m})}else{const f=ox(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=Px(),m=new im;return Object.assign(m,d),m})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Ix(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>sa(d))}else{const f=sx(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>aa(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Vx(e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=Gx(d),h=new lm;return Object.assign(h,m),h})}else{const f=ux(e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=qx(d),h=new lm;return Object.assign(h,m),h})}}}function dm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function Vi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),l[Symbol.asyncIterator]=function(){return this},l;function r(g){return function(C){return Promise.resolve(C).then(g,m)}}function u(g,C){i[g]&&(l[g]=function(x){return new Promise(function(M,v){o.push([g,x,M,v])>1||c(g,x)})},C&&(l[g]=C(l[g])))}function c(g,C){try{f(i[g](C))}catch(x){h(o[0][3],x)}}function f(g){g.value instanceof me?Promise.resolve(g.value.v).then(d,m):h(o[0][2],g)}function d(g){c("next",g)}function m(g){c("throw",g)}function h(g,C){g(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function zl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dm=="function"?dm(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(r){return new Promise(function(u,c){r=t[o](r),l(u,c,r.done,r.value)})}}function l(o,r,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hx(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Qg(n)}function Qg(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Ox(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let o=!0;for(;i<n&&t[i].role==="model";)l.push(t[i]),o&&!Qg(t[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class Fx{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Yx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Yx{constructor(e,n,i,l={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),Ox(o)}async sendMessage(e){var n;await this.sendPromise;const i=ze(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,r,u;const c=await l,f=(r=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(m))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(i,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const i=ze(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?mm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,l;return Vi(this,arguments,function*(){var r,u,c,f;const d=[];try{for(var m=!0,h=zl(e),g;g=yield me(h.next()),r=g.done,!r;m=!0){f=g.value,m=!1;const C=f;if(Hx(C)){const x=(l=(i=C.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;x!==void 0&&d.push(x)}yield yield me(C)}}catch(C){u={error:C}}finally{try{!m&&!r&&(c=h.return)&&(yield me(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let l=[];n.length>0&&n.every(o=>o.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...mm(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ms extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ms.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function Zx(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],Jx(n,e)),e}function $x(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function Xx(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const C=a(t,["videoMetadata"]);C!=null&&s(e,["videoMetadata"],C);const x=a(t,["error"]);return x!=null&&s(e,["error"],$x(x)),e}function Kx(t){const e={},n=a(t,["file"]);n!=null&&s(e,["file"],Xx(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Qx(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Fg(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Wx(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Fg(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function jx(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function ru(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const C=a(t,["videoMetadata"]);C!=null&&s(e,["videoMetadata"],C);const x=a(t,["error"]);return x!=null&&s(e,["error"],jx(x)),e}function e_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>ru(o))),s(e,["files"],l)}return e}function t_(){return{}}function n_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i_ extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Co(Wn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>ru(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zx(e);return o=P("files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=e_(c),d=new gS;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kx(e);return o=P("upload/v1beta/files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=t_(),f=new yS;return Object.assign(f,c),f})}}async get(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qx(e);return o=P("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>ru(c))}}async delete(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wx(e);return o=P("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=n_(),f=new vS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l_(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function o_(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Wg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],l_(n)),e}function a_(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],o_(n)),e}function s_(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Wg(i)),e}function r_(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>s_(l))),s(e,["speakerVoiceConfigs"],i)}return e}function u_(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Wg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],r_(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function c_(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],a_(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function f_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function d_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function m_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function h_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function p_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function g_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function y_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],f_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],m_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],p_(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function v_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],d_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],h_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],g_(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function T_(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>y_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function S_(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>v_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function C_(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function x_(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function __(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function E_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function A_(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],__(n)),e}function M_(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],E_(n)),e}function N_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function R_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function b_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],N_(n)),e}function D_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],R_(n)),e}function w_(){return{}}function k_(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function U_(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],k_(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function I_(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],U_(n)),e}function L_(){return{}}function V_(){return{}}function P_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>C_(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],A_(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],b_(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],L_());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function q_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>x_(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],M_(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],D_(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],w_());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],I_(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],V_());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function B_(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function G_(t){const e={},n=a(t,["handle"]);n!=null&&s(e,["handle"],n);const i=a(t,["transparent"]);return i!=null&&s(e,["transparent"],i),e}function hm(){return{}}function pm(){return{}}function z_(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function H_(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function O_(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],z_(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function F_(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],H_(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function Y_(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function J_(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function Z_(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],Y_(i)),e}function $_(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],J_(i)),e}function X_(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function K_(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function Q_(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],u_(gc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],T_(ze(g)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let _=sl(C);Array.isArray(_)&&(_=_.map(D=>P_(al(D)))),s(e,["setup","tools"],_)}const x=a(t,["sessionResumption"]);e!==void 0&&x!=null&&s(e,["setup","sessionResumption"],B_(x));const M=a(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&s(e,["setup","inputAudioTranscription"],hm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],hm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],O_(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],Z_(T));const S=a(t,["proactivity"]);return e!==void 0&&S!=null&&s(e,["setup","proactivity"],X_(S)),n}function W_(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],c_(gc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],S_(ze(g)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let _=sl(C);Array.isArray(_)&&(_=_.map(D=>q_(al(D)))),s(e,["setup","tools"],_)}const x=a(t,["sessionResumption"]);e!==void 0&&x!=null&&s(e,["setup","sessionResumption"],G_(x));const M=a(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&s(e,["setup","inputAudioTranscription"],pm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],pm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],F_(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],$_(T));const S=a(t,["proactivity"]);return e!==void 0&&S!=null&&s(e,["setup","proactivity"],K_(S)),n}function j_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],Q_(l,n)),n}function e1(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],W_(l,n)),n}function t1(){return{}}function n1(){return{}}function i1(){return{}}function l1(){return{}}function o1(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Gg(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],xS(i));const l=a(t,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const o=a(t,["video"]);o!=null&&s(e,["video"],CS(o));const r=a(t,["text"]);return r!=null&&s(e,["text"],r),a(t,["activityStart"])!=null&&s(e,["activityStart"],t1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],i1()),e}function a1(t){const e={},n=a(t,["media"]);if(n!=null&&s(e,["mediaChunks"],Gg(n)),a(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=a(t,["audioStreamEnd"]);if(i!=null&&s(e,["audioStreamEnd"],i),a(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(t,["activityStart"])!=null&&s(e,["activityStart"],n1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],l1()),e}function jg(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function s1(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>jg(l))),s(e,["weightedPrompts"],i)}return e}function ey(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function r1(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],ey(n)),e}function ty(t){const e={},n=a(t,["model"]);return n!=null&&s(e,["model"],n),e}function ny(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>jg(l))),s(e,["weightedPrompts"],i)}return e}function uu(t){const e={},n=a(t,["setup"]);n!=null&&s(e,["setup"],ty(n));const i=a(t,["clientContent"]);i!=null&&s(e,["clientContent"],ny(i));const l=a(t,["musicGenerationConfig"]);l!=null&&s(e,["musicGenerationConfig"],ey(l));const o=a(t,["playbackControl"]);return o!=null&&s(e,["playbackControl"],o),e}function u1(){return{}}function c1(){return{}}function f1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function d1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function m1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function h1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function p1(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function g1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function y1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],f1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],m1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],p1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function v1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],d1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],h1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],g1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function T1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>y1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function S1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>v1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function gm(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function ym(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function C1(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function x1(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>C1(l))),s(e,["urlMetadata"],i)}return e}function _1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],T1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],gm(u));const c=a(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],gm(c));const f=a(t,["urlContextMetadata"]);return f!=null&&s(e,["urlContextMetadata"],x1(f)),e}function E1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],S1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],ym(u));const c=a(t,["outputTranscription"]);return c!=null&&s(e,["outputTranscription"],ym(c)),e}function A1(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const i=a(t,["args"]);i!=null&&s(e,["args"],i);const l=a(t,["name"]);return l!=null&&s(e,["name"],l),e}function M1(t){const e={},n=a(t,["args"]);n!=null&&s(e,["args"],n);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function N1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>A1(l))),s(e,["functionCalls"],i)}return e}function R1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>M1(l))),s(e,["functionCalls"],i)}return e}function b1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function D1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function Oo(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function Fo(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function w1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["responseTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Oo(g))),s(e,["promptTokensDetails"],h)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Oo(g))),s(e,["cacheTokensDetails"],h)}const d=a(t,["responseTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Oo(g))),s(e,["responseTokensDetails"],h)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>Oo(g))),s(e,["toolUsePromptTokensDetails"],h)}return e}function k1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["candidatesTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(C=>Fo(C))),s(e,["promptTokensDetails"],g)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(C=>Fo(C))),s(e,["cacheTokensDetails"],g)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(C=>Fo(C))),s(e,["responseTokensDetails"],g)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(C=>Fo(C))),s(e,["toolUsePromptTokensDetails"],g)}const h=a(t,["trafficType"]);return h!=null&&s(e,["trafficType"],h),e}function U1(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function I1(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function L1(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function V1(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function P1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],u1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],_1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],N1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],b1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],w1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],U1(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],L1(c)),e}function q1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],c1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],E1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],R1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],D1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],k1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],I1(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],V1(c)),e}function B1(){return{}}function G1(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function z1(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>G1(l))),s(e,["weightedPrompts"],i)}return e}function H1(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function O1(t){const e={},n=a(t,["clientContent"]);n!=null&&s(e,["clientContent"],z1(n));const i=a(t,["musicGenerationConfig"]);return i!=null&&s(e,["musicGenerationConfig"],H1(i)),e}function F1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const l=a(t,["sourceMetadata"]);return l!=null&&s(e,["sourceMetadata"],O1(l)),e}function Y1(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>F1(l))),s(e,["audioChunks"],i)}return e}function J1(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["filteredReason"]);return i!=null&&s(e,["filteredReason"],i),e}function Z1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],B1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],Y1(i));const l=a(t,["filteredPrompt"]);return l!=null&&s(e,["filteredPrompt"],J1(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function X1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function K1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Q1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],$1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],X1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],K1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function hs(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Q1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function W1(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const C=a(t,["minLength"]);C!=null&&s(e,["minLength"],C);const x=a(t,["minProperties"]);x!=null&&s(e,["minProperties"],x);const M=a(t,["minimum"]);M!=null&&s(e,["minimum"],M);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function j1(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function eE(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function tE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function nE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],tE(n)),e}function iE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function lE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],iE(n)),e}function oE(){return{}}function aE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>eE(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],nE(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],lE(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],oE());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function sE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function rE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function uE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],rE(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function cE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],sE(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],uE(i)),e}function fE(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function iy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],fE(n)),e}function dE(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],iy(i)),e}function mE(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>dE(l))),s(e,["speakerVoiceConfigs"],i)}return e}function hE(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],iy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],mE(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function pE(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function gE(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],hs(ze(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const C=a(e,["frequencyPenalty"]);C!=null&&s(i,["frequencyPenalty"],C);const x=a(e,["seed"]);x!=null&&s(i,["seed"],x);const M=a(e,["responseMimeType"]);M!=null&&s(i,["responseMimeType"],M);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],W1(io(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(I=>j1(I))),s(n,["safetySettings"],q)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let q=sl(S);Array.isArray(q)&&(q=q.map(I=>aE(al(I)))),s(n,["tools"],q)}const _=a(e,["toolConfig"]);if(n!==void 0&&_!=null&&s(n,["toolConfig"],cE(_)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],Wt(t,D));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const E=a(e,["mediaResolution"]);E!=null&&s(i,["mediaResolution"],E);const R=a(e,["speechConfig"]);if(R!=null&&s(i,["speechConfig"],hE(pc(R))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],pE(w)),i}function vm(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=pt(l);Array.isArray(r)&&(r=r.map(u=>hs(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],gE(t,o,n)),n}function yE(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["requests[]","taskType"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["requests[]","title"],l);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&s(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);l!=null&&s(n,["requests[]","content"],Hg(t,l));const o=a(e,["config"]);o!=null&&s(n,["config"],yE(o,n));const r=a(e,["model"]);return r!==void 0&&s(n,["requests[]","model"],ae(t,r)),n}function TE(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&s(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&s(e,["parameters","safetySetting"],r);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&s(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&s(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&s(e,["parameters","language"],d);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&s(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function SE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],TE(o,n)),n}function CE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function xE(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],Yg(t,u)),i}function _E(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],xE(t,i,n)),n}function EE(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function AE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],EE(l,n)),n}function ME(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function NE(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function RE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=pt(l);Array.isArray(r)&&(r=r.map(u=>hs(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],NE(o)),n}function bE(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],jt(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function DE(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=a(t,["durationSeconds"]);if(e!==void 0&&l!=null&&s(e,["parameters","durationSeconds"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);if(e!==void 0&&o!=null&&s(e,["parameters","aspectRatio"],o),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const r=a(t,["personGeneration"]);if(e!==void 0&&r!=null&&s(e,["parameters","personGeneration"],r),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&s(e,["parameters","negativePrompt"],u);const c=a(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&s(e,["parameters","enhancePrompt"],c),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function wE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&s(n,["instances[0]","image"],bE(o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=a(e,["config"]);return r!=null&&s(n,["config"],DE(r,n)),n}function kE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function UE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function IE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function LE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],kE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],UE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],IE(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function rl(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>LE(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function VE(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const C=a(t,["minLength"]);C!=null&&s(e,["minLength"],C);const x=a(t,["minProperties"]);x!=null&&s(e,["minProperties"],x);const M=a(t,["minimum"]);M!=null&&s(e,["minimum"],M);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const _=a(t,["required"]);_!=null&&s(e,["required"],_);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function PE(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function qE(t){const e={},n=a(t,["method"]);n!=null&&s(e,["method"],n);const i=a(t,["category"]);i!=null&&s(e,["category"],i);const l=a(t,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function BE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function GE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function zE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],GE(n)),e}function HE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function OE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],HE(n)),e}function FE(){return{}}function YE(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function JE(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],YE(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function ZE(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],JE(n)),e}function $E(){return{}}function ly(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>BE(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],zE(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],OE(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],FE());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],ZE(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],$E());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function XE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function KE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function QE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],KE(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function WE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],XE(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],QE(i)),e}function jE(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function eA(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],jE(n)),e}function tA(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],eA(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function nA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function iA(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],rl(ze(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const C=a(e,["frequencyPenalty"]);C!=null&&s(i,["frequencyPenalty"],C);const x=a(e,["seed"]);x!=null&&s(i,["seed"],x);const M=a(e,["responseMimeType"]);M!=null&&s(i,["responseMimeType"],M);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],VE(io(v)));const y=a(e,["responseJsonSchema"]);y!=null&&s(i,["responseJsonSchema"],y);const T=a(e,["routingConfig"]);T!=null&&s(i,["routingConfig"],T);const S=a(e,["modelSelectionConfig"]);S!=null&&s(i,["modelConfig"],PE(S));const _=a(e,["safetySettings"]);if(n!==void 0&&_!=null){let ie=_;Array.isArray(ie)&&(ie=ie.map(k=>qE(k))),s(n,["safetySettings"],ie)}const D=a(e,["tools"]);if(n!==void 0&&D!=null){let ie=sl(D);Array.isArray(ie)&&(ie=ie.map(k=>ly(al(k)))),s(n,["tools"],ie)}const N=a(e,["toolConfig"]);n!==void 0&&N!=null&&s(n,["toolConfig"],WE(N));const E=a(e,["labels"]);n!==void 0&&E!=null&&s(n,["labels"],E);const R=a(e,["cachedContent"]);n!==void 0&&R!=null&&s(n,["cachedContent"],Wt(t,R));const w=a(e,["responseModalities"]);w!=null&&s(i,["responseModalities"],w);const q=a(e,["mediaResolution"]);q!=null&&s(i,["mediaResolution"],q);const I=a(e,["speechConfig"]);I!=null&&s(i,["speechConfig"],tA(pc(I)));const Ee=a(e,["audioTimestamp"]);Ee!=null&&s(i,["audioTimestamp"],Ee);const ce=a(e,["thinkingConfig"]);return ce!=null&&s(i,["thinkingConfig"],nA(ce)),i}function Tm(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=pt(l);Array.isArray(r)&&(r=r.map(u=>rl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],iA(t,o,n)),n}function lA(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["instances[]","task_type"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["instances[]","title"],l);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&s(e,["parameters","outputDimensionality"],o);const r=a(t,["mimeType"]);e!==void 0&&r!=null&&s(e,["instances[]","mimeType"],r);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&s(e,["parameters","autoTruncate"],u),n}function oA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);l!=null&&s(n,["instances[]","content"],Hg(t,l));const o=a(e,["config"]);return o!=null&&s(n,["config"],lA(o,n)),n}function aA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const C=a(t,["outputMimeType"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","mimeType"],C);const x=a(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&s(e,["parameters","outputOptions","compressionQuality"],x);const M=a(t,["addWatermark"]);e!==void 0&&M!=null&&s(e,["parameters","addWatermark"],M);const v=a(t,["enhancePrompt"]);return e!==void 0&&v!=null&&s(e,["parameters","enhancePrompt"],v),n}function sA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],aA(o,n)),n}function ps(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&s(e,["bytesBase64Encoded"],jt(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function rA(t){const e={},n=a(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&s(e,["maskClasses"],i);const l=a(t,["maskDilation"]);return l!=null&&s(e,["dilation"],l),e}function uA(t){const e={},n=a(t,["controlType"]);n!=null&&s(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&s(e,["computeControl"],i),e}function cA(t){const e={},n=a(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function fA(t){const e={},n=a(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const i=a(t,["subjectDescription"]);return i!=null&&s(e,["subjectDescription"],i),e}function dA(t){const e={},n=a(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],ps(n));const i=a(t,["referenceId"]);i!=null&&s(e,["referenceId"],i);const l=a(t,["referenceType"]);l!=null&&s(e,["referenceType"],l);const o=a(t,["maskImageConfig"]);o!=null&&s(e,["maskImageConfig"],rA(o));const r=a(t,["controlImageConfig"]);r!=null&&s(e,["controlImageConfig"],uA(r));const u=a(t,["styleImageConfig"]);u!=null&&s(e,["styleImageConfig"],cA(u));const c=a(t,["subjectImageConfig"]);return c!=null&&s(e,["subjectImageConfig"],fA(c)),e}function mA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const C=a(t,["outputMimeType"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","mimeType"],C);const x=a(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&s(e,["parameters","outputOptions","compressionQuality"],x);const M=a(t,["editMode"]);e!==void 0&&M!=null&&s(e,["parameters","editMode"],M);const v=a(t,["baseSteps"]);return e!==void 0&&v!=null&&s(e,["parameters","editConfig","baseSteps"],v),n}function hA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>dA(c))),s(n,["instances[0]","referenceImages"],u)}const r=a(e,["config"]);return r!=null&&s(n,["config"],mA(r,n)),n}function pA(t,e){const n={},i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","mimeType"],l);const o=a(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&s(e,["parameters","outputOptions","compressionQuality"],o);const r=a(t,["enhanceInputImage"]);e!==void 0&&r!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],r);const u=a(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&s(e,["parameters","sampleCount"],c);const f=a(t,["mode"]);return e!==void 0&&f!=null&&s(e,["parameters","mode"],f),n}function gA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["image"]);l!=null&&s(n,["instances[0]","image"],ps(l));const o=a(e,["upscaleFactor"]);o!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],o);const r=a(e,["config"]);return r!=null&&s(n,["config"],pA(r,n)),n}function yA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function vA(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],Yg(t,u)),i}function TA(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],vA(t,i,n)),n}function SA(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function CA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],SA(l,n)),n}function xA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function _A(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&s(e,["systemInstruction"],rl(ze(i)));const l=a(t,["tools"]);if(e!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>ly(u))),s(e,["tools"],r)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&s(e,["generationConfig"],o),n}function EA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=pt(l);Array.isArray(r)&&(r=r.map(u=>rl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],_A(o,n)),n}function AA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=pt(l);Array.isArray(r)&&(r=r.map(u=>rl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function MA(t){const e={},n=a(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&s(e,["bytesBase64Encoded"],jt(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function NA(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const o=a(t,["fps"]);e!==void 0&&o!=null&&s(e,["parameters","fps"],o);const r=a(t,["durationSeconds"]);e!==void 0&&r!=null&&s(e,["parameters","durationSeconds"],r);const u=a(t,["seed"]);e!==void 0&&u!=null&&s(e,["parameters","seed"],u);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&s(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&s(e,["parameters","negativePrompt"],h);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","enhancePrompt"],g);const C=a(t,["generateAudio"]);e!==void 0&&C!=null&&s(e,["parameters","generateAudio"],C);const x=a(t,["lastFrame"]);e!==void 0&&x!=null&&s(e,["instances[0]","lastFrame"],ps(x));const M=a(t,["compressionQuality"]);return e!==void 0&&M!=null&&s(e,["parameters","compressionQuality"],M),n}function RA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&s(n,["instances[0]","image"],ps(o));const r=a(e,["video"]);r!=null&&s(n,["instances[0]","video"],MA(r));const u=a(e,["config"]);return u!=null&&s(n,["config"],NA(u,n)),n}function bA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function DA(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function wA(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function kA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],bA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],DA(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],wA(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function UA(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>kA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function IA(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function LA(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function VA(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>LA(l))),s(e,["urlMetadata"],i)}return e}function PA(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],UA(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],IA(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],VA(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function Sm(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>PA(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function qA(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function BA(){return{}}function GA(t){const e={},n=a(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>qA(o))),s(e,["embeddings"],l)}return a(t,["metadata"])!=null&&s(e,["metadata"],BA()),e}function zA(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],jt(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function oy(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function HA(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],zA(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);return l!=null&&s(e,["safetyAttributes"],oy(l)),e}function OA(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>HA(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],oy(i)),e}function FA(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function cu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["version"]);o!=null&&s(e,["version"],o);const r=a(t,["_self"]);r!=null&&s(e,["tunedModelInfo"],FA(r));const u=a(t,["inputTokenLimit"]);u!=null&&s(e,["inputTokenLimit"],u);const c=a(t,["outputTokenLimit"]);c!=null&&s(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);return f!=null&&s(e,["supportedActions"],f),e}function YA(t,e){const n={},i=a(e,["nextPageToken"]);i!=null&&s(n,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=Jg(l);Array.isArray(o)&&(o=o.map(r=>cu(r))),s(n,["models"],o)}return n}function JA(){return{}}function ZA(t){const e={},n=a(t,["totalTokens"]);n!=null&&s(e,["totalTokens"],n);const i=a(t,["cachedContentTokenCount"]);return i!=null&&s(e,["cachedContentTokenCount"],i),e}function $A(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],jt(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function XA(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],$A(n)),e}function KA(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>XA(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function QA(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],KA(r)),e}function WA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function jA(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function e2(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function t2(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],WA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],jA(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],e2(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function n2(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>t2(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function i2(t){const e={},n=a(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function l2(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function o2(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>l2(l))),s(e,["urlMetadata"],i)}return e}function a2(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],n2(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],i2(i));const l=a(t,["finishMessage"]);l!=null&&s(e,["finishMessage"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],o2(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function Cm(t){const e={},n=a(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>a2(f))),s(e,["candidates"],c)}const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["responseId"]);l!=null&&s(e,["responseId"],l);const o=a(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const r=a(t,["promptFeedback"]);r!=null&&s(e,["promptFeedback"],r);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function s2(t){const e={},n=a(t,["truncated"]);n!=null&&s(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&s(e,["tokenCount"],i),e}function r2(t){const e={},n=a(t,["values"]);n!=null&&s(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&s(e,["statistics"],s2(i)),e}function u2(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function c2(t){const e={},n=a(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>r2(o))),s(e,["embeddings"],l)}const i=a(t,["metadata"]);return i!=null&&s(e,["metadata"],u2(i)),e}function f2(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["imageBytes"],jt(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ay(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function yc(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],f2(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);l!=null&&s(e,["safetyAttributes"],ay(l));const o=a(t,["prompt"]);return o!=null&&s(e,["enhancedPrompt"],o),e}function d2(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>yc(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],ay(i)),e}function m2(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>yc(l))),s(e,["generatedImages"],i)}return e}function h2(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>yc(l))),s(e,["generatedImages"],i)}return e}function p2(t){const e={},n=a(t,["endpoint"]);n!=null&&s(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&s(e,["deployedModelId"],i),e}function g2(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function y2(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);return l!=null&&s(e,["step"],l),e}function fu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["versionId"]);o!=null&&s(e,["version"],o);const r=a(t,["deployedModels"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>p2(h))),s(e,["endpoints"],m)}const u=a(t,["labels"]);u!=null&&s(e,["labels"],u);const c=a(t,["_self"]);c!=null&&s(e,["tunedModelInfo"],g2(c));const f=a(t,["defaultCheckpointId"]);f!=null&&s(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>y2(h))),s(e,["checkpoints"],m)}return e}function v2(t,e){const n={},i=a(e,["nextPageToken"]);i!=null&&s(n,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=Jg(l);Array.isArray(o)&&(o=o.map(r=>fu(r))),s(n,["models"],o)}return n}function T2(){return{}}function S2(t){const e={},n=a(t,["totalTokens"]);return n!=null&&s(e,["totalTokens"],n),e}function C2(t){const e={},n=a(t,["tokensInfo"]);return n!=null&&s(e,["tokensInfo"],n),e}function x2(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],jt(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function _2(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],x2(n)),e}function E2(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>_2(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function A2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],E2(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M2="Content-Type",N2="X-Server-Timeout",R2="User-Agent",du="x-goog-api-client",b2="1.7.0",D2=`google-genai-sdk/${b2}`,w2="v1beta1",k2="v1beta",xm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class U2{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:w2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:k2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))l.searchParams.append(r,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(n))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const l=new AbortController,o=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return n&&n.extraBody!==null&&I2(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await _m(l),new lu(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await _m(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Vi(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:c}=yield me(l.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),g=h.status,C=h.code,x=`got status: ${g}. ${JSON.stringify(m)}`;if(C>=400&&C<600)throw new ms({message:x,status:C})}}catch(m){if(m.name==="ApiError")throw m}r+=f;let d=r.match(xm);for(;d;){const m=d[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new lu(h)),r=r.slice(d[0].length),d=r.match(xm)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=D2+" "+this.clientOptions.userAgentExtra;return e[R2]=n,e[du]=n,e[M2]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))n.append(i,l);e.timeout&&e.timeout>0&&n.append(N2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,r=await o.stat(e);l.sizeBytes=String(r.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},r=await this.request({path:P("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=r==null?void 0:r.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function _m(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new ms({message:l,status:n}):new Error(l)}}function I2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,r){const u=Object.assign({},o);for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const f=r[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const l=i(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L2="mcp_used/unknown";function sy(t){for(const e of t)if(vc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function ry(t){var e;const n=(e=t[du])!==null&&e!==void 0?e:"";t[du]=(n+` ${L2}`).trimStart()}function V2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>vc(l)))!==null&&i!==void 0?i:!1}function P2(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!vc(l)))!==null&&i!==void 0?i:!1}function vc(t){return t!==null&&typeof t=="object"&&t instanceof Tc}function q2(t,e=100){return Vi(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield me(t.listTools({cursor:i}));for(const r of o.tools)yield yield me(r),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class Tc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Tc(e,n)}async initialize(){var e,n,i,l;if(this.mcpTools.length>0)return;const o={},r=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,zl(q2(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const m=l;r.push(m);const h=m.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(m){n={error:m}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),US(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await l.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function B2(t,e,n){const i=new SS;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const o=Z1(l);Object.assign(i,o),e(i)}class G2{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),r=O2(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),m=e.callbacks,h=function(){f({})},g=this.apiClient,C={onopen:h,onmessage:T=>{B2(g,m.onmessage,T)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},x=this.webSocketFactory.create(c,H2(r),C);x.connect(),await d;const M=ae(this.apiClient,e.model),v=ty({model:M}),y=uu({setup:v});return x.send(JSON.stringify(y)),new z2(x,this.apiClient)}}class z2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=s1(e),i=ny(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=r1(e),i=uu(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=uu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Mi.PLAY)}pause(){this.sendPlaybackControl(Mi.PAUSE)}stop(){this.sendPlaybackControl(Mi.STOP)}resetContext(){this.sendPlaybackControl(Mi.RESET_CONTEXT)}close(){this.conn.close()}}function H2(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function O2(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Y2(t,e,n){const i=new TS;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const o=JSON.parse(l);if(t.isVertexAI()){const r=q1(o);Object.assign(i,r)}else{const r=P1(o);Object.assign(i,r)}e(i)}class J2{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new G2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,l,o,r,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&sy(e.config.tools)&&ry(m);const h=K2(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const R=this.apiClient.getApiKey();let w="BidiGenerateContent",q="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),w="BidiGenerateContentConstrained",q="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${w}?${q}=${R}`}let g=()=>{};const C=new Promise(R=>{g=R}),x=e.callbacks,M=function(){var R;(R=x==null?void 0:x.onopen)===null||R===void 0||R.call(x),g({})},v=this.apiClient,y={onopen:M,onmessage:R=>{Y2(v,x.onmessage,R)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=x==null?void 0:x.onclose)!==null&&i!==void 0?i:function(R){}},T=this.webSocketFactory.create(d,X2(h),y);T.connect(),await C;let S=ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const R=this.apiClient.getProject(),w=this.apiClient.getLocation();S=`projects/${R}/locations/${w}/`+S}let _={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ya.AUDIO]}:e.config.responseModalities=[Ya.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(u=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[],N=[];for(const R of D)if(this.isCallableTool(R)){const w=R;N.push(await w.tool())}else N.push(R);N.length>0&&(e.config.tools=N);const E={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=e1(this.apiClient,E):_=j_(this.apiClient,E),delete _.config,T.send(JSON.stringify(_)),new $2(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Z2={turnComplete:!0};class $2{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=pt(n.turns),e.isVertexAI()?i=i.map(l=>rl(l)):i=i.map(l=>hs(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(F2)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Z2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:a1(e)}:n={realtimeInput:o1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function X2(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function K2(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Em=10;function Am(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ra(r)){l=!0;break}if(!l)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ra(t){return"callTool"in t&&typeof t.callTool=="function"}function Mm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q2 extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,l,o,r,u;const c=await this.processParamsForMcpUsage(n);if(!V2(n)||Am(n.config))return await this.generateContentInternal(c);if(P2(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=pt(c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Em;let g=0;for(;g<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,x=[];for(const M of(u=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[])if(ra(M)){const y=await M.callTool(f.functionCalls);x.push(...y)}g++,d={role:"user",parts:x},c.contents=pt(c.contents),c.contents.push(C),c.contents.push(d),Mm(c.config)&&(m.push(C),m.push(d))}return Mm(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(Am(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let o;const r=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:r.push(c);let u;return o?u={generatedImages:r,positivePromptSafetyAttributes:o}:u={generatedImages:r},u}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new Co(Wn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var n,i,l;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const r=await Promise.all(o.map(async c=>ra(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(u.config.tools=r,e.config&&e.config.tools&&sy(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),ry(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,l;const o=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ra(r)){const u=r,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,i,l;const o=(l=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Em;let r=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var h,g;return Vi(this,arguments,function*(){for(var C,x,M,v;u<o;){r&&(u++,r=!1);const _=yield me(f.processParamsForMcpUsage(m)),D=yield me(f.generateContentStreamInternal(_)),N=[],E=[];try{for(var y=!0,T=(x=void 0,zl(D)),S;S=yield me(T.next()),C=S.done,!C;y=!0){v=S.value,y=!1;const R=v;if(yield yield me(R),R.candidates&&(!((h=R.candidates[0])===null||h===void 0)&&h.content)){E.push(R.candidates[0].content);for(const w of(g=R.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<o&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(w.functionCall.name)){const q=yield me(d.get(w.functionCall.name).callTool([w.functionCall]));N.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(R){x={error:R}}finally{try{!y&&!C&&(M=T.return)&&(yield me(M.call(T)))}finally{if(x)throw x.error}}if(N.length>0){r=!0;const R=new Tl;R.candidates=[{content:{role:"user",parts:N}}],yield yield me(R);const w=[];w.push(...E),w.push({role:"user",parts:N});const q=pt(m.contents).concat(w);m.contents=q}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Tm(this.apiClient,e);return u=P("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=Cm(d),h=new Tl;return Object.assign(h,m),h})}else{const f=vm(this.apiClient,e);return u=P("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=Sm(d),h=new Tl;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Tm(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(m){return Vi(this,arguments,function*(){var h,g,C,x;try{for(var M=!0,v=zl(m),y;y=yield me(v.next()),h=y.done,!h;M=!0){x=y.value,M=!1;const S=Cm(yield me(x.json())),_=new Tl;Object.assign(_,S),yield yield me(_)}}catch(T){g={error:T}}finally{try{!M&&!h&&(C=v.return)&&(yield me(C.call(v)))}finally{if(g)throw g.error}}})})}else{const f=vm(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(m){return Vi(this,arguments,function*(){var h,g,C,x;try{for(var M=!0,v=zl(m),y;y=yield me(v.next()),h=y.done,!h;M=!0){x=y.value,M=!1;const S=Sm(yield me(x.json())),_=new Tl;Object.assign(_,S),yield yield me(_)}}catch(T){g={error:T}}finally{try{!M&&!h&&(C=v.return)&&(yield me(C.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=oA(this.apiClient,e);return u=P("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=c2(d),h=new Qd;return Object.assign(h,m),h})}else{const f=vE(this.apiClient,e);return u=P("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=GA(d),h=new Qd;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=sA(this.apiClient,e);return u=P("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=d2(d),h=new Wd;return Object.assign(h,m),h})}else{const f=SE(this.apiClient,e);return u=P("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=OA(d),h=new Wd;return Object.assign(h,m),h})}}async editImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=hA(this.apiClient,e);return o=P("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=m2(c),d=new mS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=gA(this.apiClient,e);return o=P("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=h2(c),d=new hS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=yA(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>fu(d))}else{const f=CE(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>cu(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=TA(this.apiClient,e);return u=P("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=v2(this.apiClient,d),h=new jd;return Object.assign(h,m),h})}else{const f=_E(this.apiClient,e);return u=P("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=YA(this.apiClient,d),h=new jd;return Object.assign(h,m),h})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=CA(this.apiClient,e);return u=P("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>fu(d))}else{const f=AE(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>cu(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=xA(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=T2(),m=new em;return Object.assign(m,d),m})}else{const f=ME(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=JA(),m=new em;return Object.assign(m,d),m})}}async countTokens(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=EA(this.apiClient,e);return u=P("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=S2(d),h=new tm;return Object.assign(h,m),h})}else{const f=RE(this.apiClient,e);return u=P("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=ZA(d),h=new tm;return Object.assign(h,m),h})}}async computeTokens(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=AA(this.apiClient,e);return o=P("{model}:computeTokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=C2(c),d=new pS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=RA(this.apiClient,e);return u=P("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>A2(d))}else{const f=wE(this.apiClient,e);return u=P("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>QA(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W2(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function j2(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function eM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["operationName"],n);const i=a(t,["resourceName"]);i!=null&&s(e,["_url","resourceName"],i);const l=a(t,["config"]);return l!=null&&s(e,["config"],l),e}function tM(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],jt(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function nM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],tM(n)),e}function iM(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>nM(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function lM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],iM(r)),e}function oM(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],jt(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function aM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],oM(n)),e}function sM(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>aM(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function Nm(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],sM(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rM extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=j2(e);return u=P("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Nm(d))}else{const f=W2(e);return u=P("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>lM(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=eM(e);return o=P("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Nm(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uM(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function uy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],uM(n)),e}function cM(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],uy(i)),e}function fM(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>cM(l))),s(e,["speakerVoiceConfigs"],i)}return e}function dM(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],uy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],fM(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function mM(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function hM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function pM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function gM(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],mM(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],hM(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],pM(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function yM(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>gM(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function vM(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function TM(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function SM(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],TM(n)),e}function CM(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function xM(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],CM(n)),e}function _M(){return{}}function EM(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>vM(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],SM(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],xM(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],_M());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function AM(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rm(){return{}}function MM(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function NM(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],MM(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function RM(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function bM(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],RM(i)),e}function DM(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function wM(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],dM(gc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],yM(ze(g)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let _=sl(C);Array.isArray(_)&&(_=_.map(D=>EM(al(D)))),s(e,["setup","tools"],_)}const x=a(t,["sessionResumption"]);e!==void 0&&x!=null&&s(e,["setup","sessionResumption"],AM(x));const M=a(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&s(e,["setup","inputAudioTranscription"],Rm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Rm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],NM(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],bM(T));const S=a(t,["proactivity"]);return e!==void 0&&S!=null&&s(e,["setup","proactivity"],DM(S)),n}function kM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],wM(l,n)),n}function UM(t,e,n){const i={},l=a(e,["expireTime"]);n!==void 0&&l!=null&&s(n,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&s(n,["newSessionExpireTime"],o);const r=a(e,["uses"]);n!==void 0&&r!=null&&s(n,["uses"],r);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&s(n,["bidiGenerateContentSetup"],kM(t,u));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&s(n,["fieldMask"],c),i}function IM(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],UM(t,i,n)),n}function LM(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VM(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${n}.${o}`);e.push(...l)}else e.push(n)}return e.join(",")}function PM(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const o=VM(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>r.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class qM extends ii{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=IM(this.apiClient,e);o=P("auth_tokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query;const c=PM(u,e.config);return l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>LM(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function GM(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function zM(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],GM(n,e)),e}function HM(t){const e={},n=a(t,["textInput"]);n!=null&&s(e,["textInput"],n);const i=a(t,["output"]);return i!=null&&s(e,["output"],i),e}function OM(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>HM(l))),s(e,["examples","examples"],i)}return e}function FM(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&s(e,["displayName"],i),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&s(e,["tuningTask","hyperparameters","epochCount"],l);const o=a(t,["learningRateMultiplier"]);if(o!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","batchSize"],r);const u=a(t,["learningRate"]);return e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","learningRate"],u),n}function YM(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["tuningTask","trainingData"],OM(i));const l=a(t,["config"]);return l!=null&&s(e,["config"],FM(l,e)),e}function JM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function ZM(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function $M(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],ZM(n,e)),e}function XM(t,e){const n={},i=a(t,["gcsUri"]);if(e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function KM(t){const e={},n=a(t,["gcsUri"]);return n!=null&&s(e,["validationDatasetUri"],n),e}function QM(t,e){const n={},i=a(t,["validationDataset"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec"],KM(i));const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&s(e,["tunedModelDisplayName"],l);const o=a(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const r=a(t,["epochCount"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],r);const u=a(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=a(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=a(t,["adapterSize"]);if(e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function WM(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],XM(i,e));const l=a(t,["config"]);return l!=null&&s(e,["config"],QM(l,e)),e}function jM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["model"],n);const i=a(t,["name"]);return i!=null&&s(e,["endpoint"],i),e}function cy(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],Og(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["tuningTask","startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["tuningTask","completeTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["description"]);c!=null&&s(e,["description"],c);const f=a(t,["baseModel"]);f!=null&&s(e,["baseModel"],f);const d=a(t,["_self"]);d!=null&&s(e,["tunedModel"],jM(d));const m=a(t,["distillationSpec"]);m!=null&&s(e,["distillationSpec"],m);const h=a(t,["experiment"]);h!=null&&s(e,["experiment"],h);const g=a(t,["labels"]);g!=null&&s(e,["labels"],g);const C=a(t,["pipelineJob"]);C!=null&&s(e,["pipelineJob"],C);const x=a(t,["serviceAccount"]);x!=null&&s(e,["serviceAccount"],x);const M=a(t,["tunedModelDisplayName"]);return M!=null&&s(e,["tunedModelDisplayName"],M),e}function eN(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>cy(o))),s(e,["tuningJobs"],l)}return e}function tN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);return o!=null&&s(e,["error"],o),e}function nN(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);l!=null&&s(e,["step"],l);const o=a(t,["endpoint"]);return o!=null&&s(e,["endpoint"],o),e}function iN(t){const e={},n=a(t,["model"]);n!=null&&s(e,["model"],n);const i=a(t,["endpoint"]);i!=null&&s(e,["endpoint"],i);const l=a(t,["checkpoints"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>nN(r))),s(e,["checkpoints"],o)}return e}function mu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],Og(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["error"]);c!=null&&s(e,["error"],c);const f=a(t,["description"]);f!=null&&s(e,["description"],f);const d=a(t,["baseModel"]);d!=null&&s(e,["baseModel"],d);const m=a(t,["tunedModel"]);m!=null&&s(e,["tunedModel"],iN(m));const h=a(t,["supervisedTuningSpec"]);h!=null&&s(e,["supervisedTuningSpec"],h);const g=a(t,["tuningDataStats"]);g!=null&&s(e,["tuningDataStats"],g);const C=a(t,["encryptionSpec"]);C!=null&&s(e,["encryptionSpec"],C);const x=a(t,["partnerModelTuningSpec"]);x!=null&&s(e,["partnerModelTuningSpec"],x);const M=a(t,["distillationSpec"]);M!=null&&s(e,["distillationSpec"],M);const v=a(t,["experiment"]);v!=null&&s(e,["experiment"],v);const y=a(t,["labels"]);y!=null&&s(e,["labels"],y);const T=a(t,["pipelineJob"]);T!=null&&s(e,["pipelineJob"],T);const S=a(t,["serviceAccount"]);S!=null&&s(e,["serviceAccount"],S);const _=a(t,["tunedModelDisplayName"]);return _!=null&&s(e,["tunedModelDisplayName"],_),e}function lN(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>mu(o))),s(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN extends ii{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Co(Wn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:iu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=JM(e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>mu(d))}else{const f=BM(e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>cy(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=$M(e);return u=P("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=lN(d),h=new nm;return Object.assign(h,m),h})}else{const f=zM(e);return u=P("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=eN(d),h=new nm;return Object.assign(h,m),h})}}async tuneInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=WM(e);return o=P("tuningJobs",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>mu(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YM(e);return o=P("tunedModels",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>tN(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sN=1024*1024*8,rN=3,uN=1e3,cN=2,js="x-goog-upload-status";async function fN(t,e,n){var i,l,o;let r=0,u=0,c=new lu(new Response),f="upload";for(r=t.size;u<r;){const m=Math.min(sN,r-u),h=t.slice(u,u+m);u+m>=r&&(f+=", finalize");let g=0,C=uN;for(;g<rN&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[js]));)g++,await mN(C),C=C*cN;if(u+=m,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[js])!=="active")break;if(r<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[js])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function dN(t){return{size:t.size,type:t.type}}function mN(t){return new Promise(e=>setTimeout(e,t))}class hN{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fN(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pN{create(e,n,i){return new gN(e,n,i)}}class gN{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bm="x-goog-api-key";class yN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(bm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vN="gl-node/";class TN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=dS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new yN(this.apiKey);this.apiClient=new U2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:vN+"web",uploader:new hN,downloader:new aN}),this.models=new Q2(this.apiClient),this.live=new J2(this.apiClient,l,new pN),this.batches=new GC(this.apiClient),this.chats=new Fx(this.models,this.apiClient),this.caches=new zx(this.apiClient),this.files=new i_(this.apiClient),this.operations=new rM(this.apiClient),this.authTokens=new qM(this.apiClient),this.tunings=new oN(this.apiClient)}}const fy="gemini-2.5-flash-preview-04-17",SN=`
{
  "salespersonEvaluation": {
    "strengths": ["สร้างความสัมพันธ์ได้ดี", "มีความกระตือรือร้นในการนำเสนอ"],
    "areasForImprovement": ["ควรนำเสนอข้อมูลทางเทคนิคให้แม่นยำขึ้น", "เทคนิคการปิดการขายยังไม่เฉียบคม"],
    "communicationStyle": "เป็นมิตรและเข้าถึงง่าย",
    "productKnowledgeScore": 7,
    "closingSkillScore": 6,
    "overallPerformanceScore": 75
  },
  "customerEvaluation": {
    "customerProfile": "ลูกค้าเก่า เคยซื้อสินค้า X เมื่อ 6 เดือนก่อน เป็นผู้ใช้จริงแต่ไม่มีอำนาจตัดสินใจ",
    "interestLevel": 8,
    "painPointsIdentified": ["สินค้าปัจจุบันทำงานช้า", "ต้องการลดต้นทุนการดำเนินงาน"],
    "decisionMakingFactors": ["ราคา", "ความง่ายในการใช้งาน", "บริการหลังการขาย"],
    "purchasingBehavior": {
      "summary": "ลูกค้าเคยซื้อสินค้า 'Product A' 1 ชิ้น และ 'Product B' 2 ชิ้น ในปีที่แล้ว รวมยอดซื้อ 15,000 บาท",
      "buyingFrequency": "ประมาณทุกๆ 6 เดือน",
      "typicalPurchaseVolume": "ซื้อครั้งละ 1-2 รายการ",
      "priceSensitivity": "ค่อนข้างอ่อนไหวต่อราคา ตอบสนองต่อโปรโมชั่นส่วนลด"
    },
    "customerSentiment": "มีความสนใจแต่กังวลเรื่องงบประมาณ"
  },
  "situationalEvaluation": {
    "callSentiment": "เชิงบวกเป็นส่วนใหญ่ มีความกังวลช่วงท้าย",
    "currentSalesStage": "การนำเสนอโซลูชัน",
    "keyTopicsDiscussed": ["ฟีเจอร์ใหม่ของ Product C", "เปรียบเทียบกับคู่แข่ง", "ราคาและโปรโมชั่น"],
    "unresolvedQuestions": ["ต้องการใบเสนอราคาอย่างเป็นทางการ", "ใครคือผู้มีอำนาจอนุมัติสุดท้าย"],
    "callOutcomeSummary": "ลูกค้าร้องขอใบเสนอราคาและจะนำไปปรึกษาทีม แม้ลูกค้าจะสนใจสินค้ามาก แต่ได้แจ้งว่าไม่มีงบประมาณสำหรับโครงการนี้ในปีนี้ ทำให้โอกาสปิดการขายทันทีต่ำมาก",
    "closingProbability": 5,
    "positiveSignals": ["ลูกค้าถามถึงขั้นตอนการสั่งซื้อ", "แสดงความสนใจในฟีเจอร์ X อย่างชัดเจน"],
    "negativeSignals": ["ลูกค้ากล่าวถึงงบประมาณที่จำกัดหลายครั้ง", "ยืนยันว่าไม่มีงบประมาณในปีนี้"]
  },
  "strategicRecommendations": {
    "nextBestAction": "ส่งอีเมลสรุปการสนทนาพร้อมใบเสนอราคา และข้อมูลสำหรับของบประมาณในปีถัดไป",
    "talkingPoints": ["เน้นย้ำเรื่องการลดต้นทุนจากการใช้ผลิตภัณฑ์ใหม่", "เสนอ case study ของลูกค้าที่คล้ายกัน"],
    "suggestedOffer": "ส่วนลดพิเศษสำหรับการสั่งซื้อล่วงหน้าสำหรับงบประมาณปีหน้า",
    "potentialUpsellOpportunities": ["เสนอแพ็กเกจบริการดูแลรักษารายปี", "ผลิตภัณฑ์เสริม Y ที่ทำงานร่วมกันได้ดี"],
    "detailedStrategy": [
      {
        "recommendation": "ส่งอีเมลสรุปและใบเสนอราคา",
        "reasoning": "เพื่อรักษาโมเมนตัมและให้ข้อมูลที่เป็นลายลักษณ์อักษรสำหรับให้ลูกค้าไปปรึกษาทีมและวางแผนงบประมาณ",
        "successProbability": 90
      },
      {
        "recommendation": "โทรติดตามผลในอีก 3 เดือนเพื่อสอบถามความคืบหน้าเรื่องงบประมาณ",
        "reasoning": "เพื่อรักษาความสัมพันธ์และแสดงความใส่ใจ เตรียมพร้อมสำหรับโอกาสในอนาคต",
        "successProbability": 60
      }
    ]
  },
  "transcribedText": [
    { "speaker": "ผู้ขาย", "utterance": "สวัสดีครับคุณลูกค้า มีอะไรให้ช่วยไหมครับ", "timestamp": "00:00:02.100" },
    { "speaker": "ลูกค้า", "utterance": "สนใจสอบถามเกี่ยวกับโปรโมชั่นล่าสุดครับ", "timestamp": "00:00:05.500" }
  ]
}`,CN=t=>t?`
ส่วนที่ 2: คำใบ้เกี่ยวกับพนักงานขาย (Salesperson Hint)
ข้อมูลระบบระบุว่าพนักงานขายในสายนี้คือ:
- ชื่อ: ${t.name}
- เบอร์โทรศัพท์: ${t.phone}

โปรดใช้ข้อมูลนี้เป็น "คำใบ้ที่สำคัญ" เพื่อช่วยในการยืนยันและระบุบทบาทของผู้พูดในการสนทนาให้ถูกต้อง
`:"",xN=t=>t&&t.trim()!==""?`
ส่วนที่ 3: ข้อมูลผลิตภัณฑ์ (Product Context)
ใช้รายการด้านล่างนี้เพื่อช่วยในการระบุชื่อผลิตภัณฑ์ที่อาจถูกกล่าวถึงในการสนทนา:
${t}
`:"",_N=t=>t&&t.trim()!=="[]"&&t.trim()!==""?`
ส่วนที่ 4: ประวัติการซื้อของลูกค้า (Customer Purchase History)
นี่คือประวัติการซื้อของลูกค้าที่อยู่ในสาย โปรดใช้ข้อมูลนี้เพื่อทำความเข้าใจความสัมพันธ์ของลูกค้ากับบริษัทและปรับการวิเคราะห์ของคุณ:
${t}
`:"",dy=(t,e,n)=>{const i=e?JSON.stringify(e,null,2):null;return`
คุณคือสุดยอดโค้ชการขายและนักวิเคราะห์ข้อมูลผู้เชี่ยวชาญ ภารกิจของคุณคือวิเคราะห์การสนทนาการขายอย่างละเอียดเพื่อเพิ่มประสิทธิภาพและโอกาสในการปิดการขาย

**ขั้นตอนการทำงาน (สำคัญมาก):**
1.  **ระบุบทบาทผู้พูด:** งานแรกและสำคัญที่สุดของคุณคือการระบุว่าใครคือ "ผู้ขาย" และใครคือ "ลูกค้า" โดยอิงตามเนื้อหาการสนทนาและคำใบ้ที่ให้มา (ถ้ามี) จากนั้น **ต้อง** แก้ไขป้ายกำกับผู้พูดในผลลัพธ์ \`transcribedText\` ให้เป็น "ผู้ขาย" หรือ "ลูกค้า" ให้ถูกต้องเสมอ
2.  **วิเคราะห์เชิงลึก:** หลังจากระบุบทบาทแล้ว ให้ทำการวิเคราะห์การสนทนาตามหัวข้อต่างๆ

คุณจะได้รับข้อมูลสูงสุด 4 ส่วนเพื่อใช้ในการวิเคราะห์:
1.  **บทสนทนา (จากข้อความหรือไฟล์เสียง):** เนื้อหาหลักของการสนทนา
${CN(n)}
${xN(t)}
${_N(i)}

วิเคราะห์ข้อมูลทั้งหมดที่ได้รับอย่างละเอียด และทำการประเมินใน 4 หัวข้อหลัก:
1.  **ประเมินพนักงานขาย (Salesperson Evaluation):** วิเคราะห์ประสิทธิภาพของพนักงานขายในด้านต่างๆ
2.  **ประเมินลูกค้า (Customer Evaluation):** ทำความเข้าใจโปรไฟล์ ความต้องการ และความรู้สึกของลูกค้า
3.  **ประเมินสถานการณ์ (Situational Evaluation):** สรุปภาพรวม, บรรยากาศ, และระบุสัญญาณเชิงบวกและลบที่สำคัญจากการสนทนา
4.  **กลยุทธ์และคำแนะนำ (Strategic Recommendations):** เสนอแนะกลยุทธ์ที่เป็นรูปธรรมและวัดผลได้เพื่อนำไปสู่ความสำเร็จ

ข้อกำหนดในการตอบ:
- **ต้องตอบเป็นภาษาไทยเท่านั้น** ในทุกๆ field ของ JSON ห้ามใช้ภาษาอังกฤษโดยเด็ดขาด
- **ระบุบทบาทให้ถูกต้อง:** ใน \`transcribedText\`, ค่า \`speaker\` ต้องเป็น "ผู้ขาย" หรือ "ลูกค้า" เท่านั้น ห้ามใช้ค่าอื่นเช่น "Speaker 1" หรือ "Speaker 2"
- **วิเคราะห์พฤติกรรมการซื้อ:** จากข้อมูลประวัติการซื้อ (ถ้ามี) ให้วิเคราะห์และสรุปพฤติกรรมการซื้อของลูกค้าใน field \`purchasingBehavior\` โดยต้องมีข้อมูล: \`summary\`, \`buyingFrequency\`, \`typicalPurchaseVolume\`, และ \`priceSensitivity\`
- **ความสอดคล้องของข้อมูล (สำคัญมาก):** ผลการวิเคราะห์ในทุกส่วนต้องมีความสมเหตุสมผลและสอดคล้องกัน ตัวอย่างเช่น หาก "ระดับความสนใจของลูกค้า" (interestLevel) สูง แต่ "โอกาสในการปิดการขาย" (closingProbability) กลับต่ำมาก (เช่น 0-10%) คุณต้องอธิบายเหตุผลที่ขัดแย้งกันนี้ให้ชัดเจนในส่วน "สรุปผลลัพธ์การโทร" (callOutcomeSummary) เช่น 'แม้ลูกค้าสนใจ แต่ยืนยันว่าไม่มีงบประมาณสำหรับปีนี้ ทำให้โอกาสปิดการขายเป็น 0%'
- **จัดรูปแบบการตอบกลับทั้งหมดให้เป็นออบเจ็กต์ JSON ที่ถูกต้องเพียงออบเจ็กต์เดียว** และครอบด้วยบล็อกโค้ด Markdown \`\`\`json ... \`\`\` เสมอ
- โครงสร้างของ JSON ต้องเป็นไปตามตัวอย่างนี้ทุกประการ (แทนที่ค่าตัวอย่างด้วยผลการวิเคราะห์ของคุณ):

${SN}
`},EN=(t,e,n,i)=>`
${dy(e,n,i)}

--- BEGIN TRANSCRIPT ---
${t}
--- END TRANSCRIPT ---
`,AN=(t,e,n)=>`
${dy(t,e,n)}

โปรดเริ่มจากการถอดเสียงไฟล์เสียงที่แนบมาเป็นภาษาไทย และใส่ผลลัพธ์ใน field "transcribedText" ของ JSON ตามโครงสร้างที่กำหนด จากนั้นจึงทำการวิเคราะห์ทั้งหมด
`,MN=t=>new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{const l=i.result.split(",")[1];if(!l){n(new Error("Failed to extract base64 data from file."));return}e(l)},i.onerror=l=>n(l)}),my=t=>{let e=t.trim();const n=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,i=e.match(n);i&&i[2]&&(e=i[2].trim());try{const l=JSON.parse(e),{salespersonEvaluation:o,customerEvaluation:r,situationalEvaluation:u,strategicRecommendations:c}=l;return o&&(Array.isArray(o.strengths)||(o.strengths=[]),Array.isArray(o.areasForImprovement)||(o.areasForImprovement=[])),r&&(Array.isArray(r.painPointsIdentified)||(r.painPointsIdentified=[]),Array.isArray(r.decisionMakingFactors)||(r.decisionMakingFactors=[])),u&&(Array.isArray(u.keyTopicsDiscussed)||(u.keyTopicsDiscussed=[]),Array.isArray(u.unresolvedQuestions)||(u.unresolvedQuestions=[]),Array.isArray(u.positiveSignals)||(u.positiveSignals=[]),Array.isArray(u.negativeSignals)||(u.negativeSignals=[])),c&&(Array.isArray(c.talkingPoints)||(c.talkingPoints=[]),Array.isArray(c.potentialUpsellOpportunities)||(c.potentialUpsellOpportunities=[]),Array.isArray(c.detailedStrategy)||(c.detailedStrategy=[])),l.transcribedText&&!Array.isArray(l.transcribedText)&&(l.transcribedText=[]),l}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Raw response text:",t),new Error(`Failed to parse AI response. Expected JSON but received: ${e.substring(0,1e3)}...`)}},hy=()=>{const t="AIzaSyDSYxYY3gu09sc82s47lCfwqw8ZCVv67eI";return new TN({apiKey:t})},NN=async(t,e,n,i)=>{const l=hy(),o=EN(t,e,n,i);try{const r=await l.models.generateContent({model:fy,contents:o,config:{temperature:.5}});if(!r.text)throw console.error("Gemini API returned an empty text response for text transcript analysis."),new Error("Received an empty response from the AI.");return my(r.text)}catch(r){throw console.error("Error calling Gemini API for text analysis:",r),r instanceof Error?new Error(`Gemini API error: ${r.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},RN=async(t,e,n,i)=>{const l=hy();try{const o=await MN(t),r={inlineData:{mimeType:t.type||"audio/mpeg",data:o}},u={text:AN(e,n,i)},c=await l.models.generateContent({model:fy,contents:[{parts:[r,u]}],config:{temperature:.5}});if(!c.text)throw console.error("Gemini API returned an empty text response for audio file analysis."),new Error("Received an empty response from the AI.");return my(c.text)}catch(o){throw console.error("Error calling Gemini API for audio analysis:",o),o instanceof Error?new Error(`Gemini API error: ${o.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},bN=/^myrecordings_(\d{8})_(\d{6})_(in|out)_([^_]+)_([^_.]+)\.(WAV|MP3|M4A|OGG|FLAC)$/i,Dm=t=>t.replace(/%2B/g,""),DN=t=>{const e=t.match(bN);if(!e)return null;const[,n,i,l,o,r]=e,u=n.substring(0,4),c=n.substring(4,6),f=n.substring(6,8),d=i.substring(0,2),m=i.substring(2,4),h=i.substring(4,6);return{date:`${u}-${c}-${f}`,time:`${d}:${m}:${h}`,callType:l.toLowerCase()==="out"?"โทรออก":"โทรเข้า",sourcePhone:Dm(o),destinationPhone:Dm(r),originalFilename:t}},wN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.95-4.243-1.591 1.591M5.25 12H3m4.243-4.95L6 6.209M12 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0Z"})}),kN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),UN=({theme:t,toggleTheme:e})=>p.jsx("button",{onClick:e,className:`p-2 rounded-full transition-all duration-300
                 text-slate-500 hover:text-slate-900 hover:bg-slate-200/70
                 dark:text-slate-400 dark:hover:text-slate-100 dark:hover:bg-white/10`,"aria-label":`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?p.jsx(wN,{className:"h-6 w-6"}):p.jsx(kN,{className:"h-6 w-6"})}),IN=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",...t,children:[p.jsx("path",{fill:"#4285F4",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),p.jsx("path",{fill:"#34A853",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l5.657,5.657C42.822,35.419,44,31.891,44,28C44,22.659,43.862,21.35,43.611,20.083z"}),p.jsx("path",{fill:"#FBBC05",d:"M19.913,38.221c-1.856-1.405-3.295-3.334-4.087-5.571L10.169,38.31C13.438,42.946,18.4,46,24,46c5.6,0,10.562-3.054,13.831-7.69l-5.657-5.657C30.651,34.469,27.428,36,24,36C22.618,36,21.284,35.539,20.12,34.738L19.913,38.221z"}),p.jsx("path",{fill:"#EA4335",d:"M24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C18.4,4,13.438,7.054,10.169,11.69l5.657,5.657C16.618,14.461,19.841,12,24,12z"})]}),LN=({isLoggedIn:t,userProfile:e,onLogin:n,onLogout:i,isGapiReady:l})=>t&&e?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:e.imageUrl,alt:e.name,className:"h-8 w-8 rounded-full border-2 border-slate-300 dark:border-slate-600",title:`Logged in as ${e.name} (${e.email})`}),p.jsx("button",{onClick:i,className:"text-xs text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100 transition-colors",children:"Logout"})]}):p.jsxs("button",{onClick:n,disabled:!l,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 text-sm
                       text-slate-600 bg-white/80 border border-slate-300 hover:bg-slate-200
                       dark:text-slate-300 dark:bg-white/10 dark:border-white/20 dark:hover:bg-white/20
                       disabled:opacity-50 disabled:cursor-wait`,"aria-label":"Login with Google",children:[p.jsx(IN,{className:"h-4 w-4"}),l?"Login":"Loading..."]}),wm=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),km="https://raw.githubusercontent.com/PonuoM/search/main/sales_data.xlsx",VN=t=>{if(!t)return null;if(t instanceof Date&&!isNaN(t.getTime()))return t;if(typeof t=="number"&&t>0){const e=new Date((t-25569)*86400*1e3);return isNaN(e.getTime())?null:e}if(typeof t=="string"){const e=new Date(t);if(isNaN(e.getTime())){const n=t.split("/");if(n.length===3){const[i,l,o]=n,r=new Date(`${o}-${l}-${i}`);if(!isNaN(r.getTime()))return r}}return isNaN(e.getTime())?null:e}return null},PN=({customer:t})=>p.jsx("div",{className:"bg-white/50 dark:bg-black/20 backdrop-blur-xl p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:p.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[p.jsx(Xr,{className:"h-16 w-16 text-sky-500 dark:text-sky-400 shrink-0"}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:t.name}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:t.phone}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:t.address})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4 text-right w-full sm:w-auto mt-4 sm:mt-0",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ยอดรวม"}),p.jsxs("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:[t.totalSpent.toLocaleString("th-TH")," บาท"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"จำนวนครั้งที่สั่ง"}),p.jsx("p",{className:"text-xl font-bold text-sky-600 dark:text-sky-400",children:t.orderCount})]})]})]})}),qN=({records:t})=>p.jsxs("div",{className:"mt-6",children:[p.jsxs("h4",{className:"text-xl font-semibold mb-4 flex items-center text-slate-700 dark:text-slate-300",children:[p.jsx(kg,{className:"h-6 w-6 mr-3"})," ประวัติการสั่งซื้อ"]}),p.jsx("div",{className:"overflow-x-auto bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-200/60 dark:bg-white/5 text-slate-700 dark:text-slate-300",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 font-semibold",children:"วันที่ขาย"}),p.jsx("th",{className:"px-4 py-3 font-semibold",children:"สินค้า"}),p.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"จำนวน"}),p.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"ราคา"}),p.jsx("th",{className:"px-4 py-3 font-semibold",children:"พนักงานขาย"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200/80 dark:divide-white/10 text-slate-800 dark:text-slate-300",children:t.map((e,n)=>{var i;return p.jsxs("tr",{className:"hover:bg-slate-200/40 dark:hover:bg-white/5",children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.วันที่ขาย.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"})}),p.jsx("td",{className:"px-4 py-3",children:e.สินค้า||"-"}),p.jsx("td",{className:"px-4 py-3 text-right",children:e.จำนวน??"-"}),p.jsx("td",{className:"px-4 py-3 text-right",children:((i=e.ราคา)==null?void 0:i.toLocaleString("th-TH"))??"-"}),p.jsx("td",{className:"px-4 py-3",children:e.พนักงานขาย||"-"})]},n)})})]})})]}),BN=()=>{const[t,e]=G.useState(null),[n,i]=G.useState(!0),[l,o]=G.useState(null),[r,u]=G.useState(""),[c,f]=G.useState(null),[d,m]=G.useState(null);G.useEffect(()=>{(async()=>{i(!0),o(null);try{const y=await fetch(km);if(!y.ok)throw y.status===404?new Error(`ไม่พบไฟล์ (404 Not Found) ที่ URL: ${km}. กรุณาตรวจสอบว่า 1) URL ถูกต้อง 2) ไฟล์ 'sales_data.xlsx' อยู่ใน branch 'main' ของ repository 3) repository ของคุณเป็นสาธารณะ (public).`):new Error(`ไม่สามารถดาวน์โหลดไฟล์ข้อมูลได้ (HTTP Status: ${y.status})`);const T=await y.arrayBuffer(),S=gs.read(T,{type:"buffer"}),_=S.SheetNames[0],D=S.Sheets[_],N=gs.utils.sheet_to_json(D,{header:1})[0]||[],E=["วันที่ขาย","เบอร์โทร"];if(!E.every(I=>N.includes(I)))throw new Error(`ไฟล์ Excel ต้องมีคอลัมน์ที่จำเป็น: ${E.join(", ")}`);const R=gs.utils.sheet_to_json(D,{raw:!0,defval:null}),w=I=>{if(I==null)return;if(typeof I=="number")return I;const Ee=Number(String(I).replace(/,/g,""));return isNaN(Ee)?void 0:Ee},q=R.map((I,Ee)=>{const ce=VN(I.วันที่ขาย),ie=I.เบอร์โทร?String(I.เบอร์โทร).replace(/\D/g,""):null;return!ce||!ie?null:{วันที่ขาย:ce,เบอร์โทร:ie,ลำดับ:w(I.ลำดับ),ช่องทางขาย:I.ช่องทางขาย?String(I.ช่องทางขาย):void 0,ชำระเงิน:I.ชำระเงิน?String(I.ชำระเงิน):void 0,"ชื่อ Facebook":I["ชื่อ Facebook"]?String(I["ชื่อ Facebook"]):void 0,พนักงานขาย:I.พนักงานขาย?String(I.พนักงานขาย):void 0,สินค้า:I.สินค้า?String(I.สินค้า):void 0,จำนวน:w(I.จำนวน),ราคา:w(I.ราคา),ชื่อผู้รับ:I.ชื่อผู้รับ?String(I.ชื่อผู้รับ):void 0,ที่อยู่:I.ที่อยู่?String(I.ที่อยู่):void 0,ตำบล:I.ตำบล?String(I.ตำบล):void 0,อำเภอ:I.อำเภอ?String(I.อำเภอ):void 0,จังหวัด:I.จังหวัด?String(I.จังหวัด):void 0,รหัสไปรษณีย์:I.รหัสไปรษณีย์?String(I.รหัสไปรษณีย์):void 0}}).filter(I=>I!==null);e(q)}catch(y){console.error("Error fetching or parsing Excel file:",y);const T=y instanceof Error?y.message:"เกิดข้อผิดพลาดที่ไม่รู้จัก";o(`ไม่สามารถโหลดข้อมูลจาก GitHub ได้: ${T}`)}finally{i(!1)}})()},[]);const h=G.useMemo(()=>{if(!t)return[];const v=new Map;return t.forEach(y=>{const T=y.เบอร์โทร;v.has(T)||v.set(T,{records:[]}),v.get(T).records.push(y)}),Array.from(v.entries()).map(([y,T])=>{const _=T.records.sort((E,R)=>R.วันที่ขาย.getTime()-E.วันที่ขาย.getTime())[0],D=T.records.reduce((E,R)=>E+(R.ราคา||0),0),N=new Set(T.records.map(E=>E.วันที่ขาย.toDateString()));return{phone:y,name:_.ชื่อผู้รับ||_["ชื่อ Facebook"]||"Unknown",facebookName:_["ชื่อ Facebook"],address:`${_.ที่อยู่||""} ${_.ตำบล||""} ${_.อำเภอ||""} ${_.จังหวัด||""} ${_.รหัสไปรษณีย์||""}`.trim()||"ไม่มีข้อมูลที่อยู่",totalSpent:D,orderCount:N.size}})},[t]),g=G.useCallback(()=>{if(m(null),!r.trim()){f([]);return}const v=r.toLowerCase(),y=h.filter(T=>T.phone.includes(r)||T.name.toLowerCase().includes(v)||(T.facebookName||"").toLowerCase().includes(v));y.length===1?(m(y[0]),f(null)):f(y)},[r,h]),C=v=>{m(v),f(null)},x=()=>{u(""),f(null),m(null)},M=G.useMemo(()=>!d||!t?[]:t.filter(v=>v.เบอร์โทร===d.phone).sort((v,y)=>y.วันที่ขาย.getTime()-v.วันที่ขาย.getTime()),[d,t]);return p.jsxs("main",{className:"container mx-auto mt-4 mb-8 p-4 sm:p-6 lg:p-8 w-full max-w-5xl bg-slate-100/80 dark:bg-black/20 backdrop-blur-2xl shadow-2xl rounded-3xl border border-slate-200 dark:border-white/10 relative",children:[n&&p.jsx(Ug,{}),l&&p.jsx(Ig,{message:l}),!n&&!l&&t&&p.jsxs("div",{className:"animate-fadeIn",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-3",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(wm,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 pointer-events-none"}),p.jsx("input",{type:"text",value:r,onChange:v=>u(v.target.value),onKeyDown:v=>v.key==="Enter"&&g(),placeholder:"ค้นหาด้วยชื่อ, ชื่อ Facebook, หรือเบอร์โทรศัพท์...",className:"w-full pl-12 pr-4 py-3 bg-white/80 dark:bg-black/30 border-2 border-slate-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-lg text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 backdrop-blur-sm"})]}),p.jsxs("button",{onClick:g,disabled:!r.trim(),className:"w-full sm:w-auto px-6 py-3 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-xl transition-colors duration-150 disabled:opacity-50 flex items-center justify-center gap-2",children:[p.jsx(wm,{className:"h-5 w-5"}),"ค้นหา"]}),p.jsx("button",{onClick:x,className:"w-full sm:w-auto px-4 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-white/10 dark:hover:bg-white/20 text-slate-600 dark:text-slate-300 font-semibold rounded-xl transition-colors duration-150 flex items-center justify-center gap-2",title:"ล้างข้อมูล",children:p.jsx(Lg,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"mt-8",children:[d&&p.jsxs("div",{className:"animate-fadeIn",children:[p.jsx(PN,{customer:d}),p.jsx(qN,{records:M})]}),c&&c.length>1&&!d&&p.jsxs("div",{className:"animate-fadeIn",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-700 dark:text-slate-200",children:"พบผลลัพธ์หลายรายการ กรุณาเลือก:"}),p.jsx("ul",{className:"space-y-3",children:c.map(v=>p.jsxs("li",{onClick:()=>C(v),className:"p-4 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-lg shadow-md border border-slate-200 dark:border-white/10 cursor-pointer hover:border-sky-500 hover:bg-sky-50 dark:hover:bg-sky-500/10 transition-all",children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:v.name}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:v.phone})]},v.phone))})]}),c&&c.length===0&&p.jsx("div",{className:"text-center py-10 text-slate-500 dark:text-slate-400",children:p.jsxs("p",{children:['ไม่พบข้อมูลลูกค้าที่ตรงกับ "',r,'"']})})]})]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
      `}})]})},GN=()=>{const[t,e]=G.useState(null),[n,i]=G.useState(!1),[l,o]=G.useState(null),[r,u]=G.useState(Ke.TEXT),[c,f]=G.useState(""),[d,m]=G.useState(null),[h,g]=G.useState(null),[C,x]=G.useState(null),[M,v]=G.useState(null),[y,T]=G.useState(null),[S,_]=G.useState("dark"),[D,N]=G.useState(!1),[E,R]=G.useState(null),[w,q]=G.useState(""),[I,Ee]=G.useState(!1),[ce,ie]=G.useState("analyzer"),[k,F]=G.useState(""),O=k==="1234";G.useEffect(()=>{const Q=localStorage.getItem("googleSheetId");Q&&q(Q)},[]),G.useEffect(()=>{w&&localStorage.setItem("googleSheetId",w)},[w]),G.useEffect(()=>{const Q=()=>{Pn.client.init({apiKey:"AIzaSyATZFV65oVONu6OYBvGRMHFETe673Q2A8w",clientId:"53047523110-uglvdak33tf38glmj73egrn1g9f4c6cb.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}).then(()=>{Ee(!0);const ee=Pn.auth2.getAuthInstance();if(ee&&ee.isSignedIn.get()){N(!0);const Tt=ee.currentUser.get().getBasicProfile();R({name:Tt.getName(),email:Tt.getEmail(),imageUrl:Tt.getImageUrl()})}}).catch(ee=>{console.error("Error initializing GAPI client",ee);let He="Could not initialize Google services. Please check your connection and API/Client ID settings.";if(typeof ee=="object"&&ee!==null&&"details"in ee&&typeof ee.details=="string"){const Tt=ee.details;(Tt.includes("invalid")||Tt.includes("not a valid origin")||Tt.includes("whitelisted"))&&(He=`เกิดข้อผิดพลาดในการกำหนดค่าการยืนยันตัวตนของ Google: URL ปัจจุบัน (${window.location.origin}) อาจไม่ได้ลงทะเบียนเป็น 'Authorized JavaScript origins' ในโปรเจกต์ Google Cloud ของคุณสำหรับ Client ID ที่ให้มา กรุณาตรวจสอบการตั้งค่า OAuth 2.0 Client ID ของคุณและเพิ่ม URL ปัจจุบันเข้าไป`)}o(He),Ee(!1)})};Pn.load("client:auth2",Q)},[]);const se=G.useCallback(async()=>{try{const Q=Pn.auth2.getAuthInstance();if(Q){const ee=await Q.signIn();N(!0);const He=ee.getBasicProfile();R({name:He.getName(),email:He.getEmail(),imageUrl:He.getImageUrl()})}}catch(Q){Q.error!=="popup_closed_by_user"&&console.error("Error during login:",Q)}},[]),Te=G.useCallback(async()=>{try{const Q=Pn.auth2.getAuthInstance();Q&&(await Q.signOut(),N(!1),R(null))}catch(Q){console.error("Error during logout:",Q)}},[]);G.useEffect(()=>{S==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[S]);const en=()=>{_(Q=>Q==="dark"?"light":"dark")},tn=G.useCallback(async()=>{i(!0),o(null),e(null);try{let Q=null,ee=null;const He=(h==null?void 0:h.productContext)??null,Tt=(h==null?void 0:h.salespersons)??null,Sc=(h==null?void 0:h.customerHistory)??null;r===Ke.AUDIO&&d&&(ee=DN(d.name)),x(ee);let xo=null;if(ee&&Tt&&Tt.length>0){const ul=ee.callType==="โทรออก"?ee.sourcePhone:ee.destinationPhone;if(ul){const cl=Tt.find(Cc=>Cc.phone&&Cc.phone.replace(/\D/g,"")===ul.replace(/\D/g,""));cl&&(xo=cl)}}v(xo);let _o=null;if(ee&&Sc){const ul=ee.callType==="โทรออก"?ee.destinationPhone:ee.sourcePhone;ul&&(_o=Sc.filter(cl=>cl.phone&&cl.phone.replace(/\D/g,"")===ul.replace(/\D/g,"")))}if(T(_o),r===Ke.TEXT){if(!c.trim()){o("Please paste a transcript."),i(!1);return}Q=await NN(c,He,_o,xo)}else if(r===Ke.AUDIO){if(!d){o("Please upload an audio file."),i(!1);return}Q=await RN(d,He,_o,xo)}Q?e(Q):o("Analysis failed to produce a result. The response might be empty or in an unexpected format.")}catch(Q){console.error("Analysis error:",Q),Q instanceof Error?o(`Analysis failed: ${Q.message}`):o("An unknown error occurred during analysis.")}finally{i(!1)}},[r,c,d,h]);return G.useEffect(()=>{(r===Ke.TEXT||!d)&&(x(null),v(null))},[r,d]),p.jsxs("div",{className:"min-h-screen text-slate-800 dark:text-slate-200 flex flex-col items-center p-4 selection:bg-sky-500 selection:text-white transition-colors duration-300",children:[p.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[p.jsx(LN,{isLoggedIn:D,userProfile:E,onLogin:se,onLogout:Te,isGapiReady:I}),p.jsx(UN,{theme:S,toggleTheme:en})]}),p.jsx(pT,{activePage:ce,setActivePage:ie}),ce==="analyzer"?O?p.jsxs("main",{className:"container mx-auto mt-4 mb-8 p-4 sm:p-6 lg:p-8 w-full max-w-5xl bg-slate-100/80 dark:bg-black/20 backdrop-blur-2xl shadow-2xl rounded-3xl border border-slate-200 dark:border-white/10 relative",children:[p.jsx(DT,{onDataContextChange:g,isLoading:n,googleSheetId:w,setGoogleSheetId:q}),p.jsx(gT,{onAnalyze:tn,isLoading:n,currentInputMode:r,setCurrentInputMode:u,transcriptText:c,setTranscriptText:f,audioFile:d,setAudioFile:m,isDataConnected:!!h}),n&&p.jsx(Ug,{}),l&&p.jsx(Ig,{message:l}),t&&!n&&!l&&p.jsx(NT,{result:t,callMetadata:C,salespersonName:(M==null?void 0:M.name)??null,relevantHistory:y,isLoggedIn:D,googleSheetId:w})]}):p.jsx("main",{className:"container mx-auto mt-4 mb-8 flex items-center justify-center p-4 sm:p-6 lg:p-8 w-full max-w-5xl",children:p.jsxs("div",{className:"w-full max-w-sm p-8 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200 dark:border-white/10 text-center",children:[p.jsx(mc,{className:"h-12 w-12 text-sky-500 dark:text-sky-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ต้องการการเข้าถึง"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"กรุณาใส่รหัสผ่านเพื่อใช้งาน AI Analyzer"}),p.jsx("input",{type:"password",value:k,onChange:Q=>F(Q.target.value),placeholder:"••••••••",className:"w-full px-4 py-2.5 bg-white/50 dark:bg-black/20 border-2 border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-center text-lg tracking-widest",autoFocus:!0})]})}):p.jsx(BN,{}),p.jsxs("footer",{className:"text-center py-4 text-slate-500 dark:text-slate-400 text-sm",children:[p.jsx("p",{children:"Powered by Thanu Suriwong"}),p.jsxs("p",{children:["© ",new Date().getFullYear()," Sales Call Analyzer. All rights reserved."]})]})]})},py=document.getElementById("root");if(!py)throw new Error("Could not find root element to mount to");const zN=Dg.createRoot(py);zN.render(p.jsx(Ly.StrictMode,{children:p.jsx(GN,{})}));
